"use strict";var du=Object.create;var Ct=Object.defineProperty;var hu=Object.getOwnPropertyDescriptor;var pu=Object.getOwnPropertyNames;var gu=Object.getPrototypeOf,mu=Object.prototype.hasOwnProperty;var j=(e,t)=>()=>(e&&(t=e(e=0)),t);var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),vu=(e,t)=>{for(var r in t)Ct(e,r,{get:t[r],enumerable:!0})},Ii=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pu(t))!mu.call(e,i)&&i!==r&&Ct(e,i,{get:()=>t[i],enumerable:!(n=hu(t,i))||n.enumerable});return e};var He=(e,t,r)=>(r=e!=null?du(gu(e)):{},Ii(t||!e||!e.__esModule?Ct(r,"default",{value:e,enumerable:!0}):r,e)),yu=e=>Ii(Ct({},"__esModule",{value:!0}),e);var xi=g(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.read=void 0;function _u(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){Oi(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){br(r,i);return}t.fs.stat(e,(s,o)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){Oi(r,s);return}br(r,i);return}t.markSymbolicLink&&(o.isSymbolicLink=()=>!0),br(r,o)})})}Dt.read=_u;function Oi(e,t){e(t)}function br(e,t){e(null,t)}});var Ri=g(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.read=void 0;function Eu(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Ft.read=Eu});var Ti=g(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.createFileSystemAdapter=ye.FILE_SYSTEM_ADAPTER=void 0;var It=require("fs");ye.FILE_SYSTEM_ADAPTER={lstat:It.lstat,stat:It.stat,lstatSync:It.lstatSync,statSync:It.statSync};function wu(e){return e===void 0?ye.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},ye.FILE_SYSTEM_ADAPTER),e)}ye.createFileSystemAdapter=wu});var Pi=g(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});var Bu=Ti(),Cr=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=Bu.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};Dr.default=Cr});var Ot=g(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.statSync=_e.stat=_e.Settings=void 0;var qi=xi(),Au=Ri(),Fr=Pi();_e.Settings=Fr.default;function Su(e,t,r){if(typeof t=="function"){qi.read(e,Ir(),t);return}qi.read(e,Ir(t),r)}_e.stat=Su;function bu(e,t){let r=Ir(t);return Au.read(e,r)}_e.statSync=bu;function Ir(e={}){return e instanceof Fr.default?e:new Fr.default(e)}});var Ni=g((ep,Mi)=>{var ki;Mi.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(ki||(ki=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var Ui=g((tp,ji)=>{ji.exports=Du;var Cu=Ni();function Du(e,t){let r,n,i,s=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function o(a){function c(){t&&t(a,r),t=null}s?Cu(c):c()}function u(a,c,l){r[a]=l,(--n===0||c)&&o(c)}n?i?i.forEach(function(a){e[a](function(c,l){u(a,c,l)})}):e.forEach(function(a,c){a(function(l,f){u(c,l,f)})}):o(null),s=!1}});var Or=g(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var xt=process.versions.node.split(".");if(xt[0]===void 0||xt[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var $i=Number.parseInt(xt[0],10),Fu=Number.parseInt(xt[1],10),Li=10,Iu=10,Ou=$i>Li,xu=$i===Li&&Fu>=Iu;Rt.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Ou||xu});var zi=g(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.createDirentFromStats=void 0;var xr=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Ru(e,t){return new xr(e,t)}Tt.createDirentFromStats=Ru});var Rr=g(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.fs=void 0;var Tu=zi();Pt.fs=Tu});var Tr=g(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.joinPathSegments=void 0;function Pu(e,t,r){return e.endsWith(r)?e+t:e+r+t}qt.joinPathSegments=Pu});var Ki=g(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.readdir=Ee.readdirWithFileTypes=Ee.read=void 0;var qu=Ot(),Hi=Ui(),ku=Or(),Gi=Rr(),Wi=Tr();function Mu(e,t,r){if(!t.stats&&ku.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Vi(e,t,r);return}Yi(e,t,r)}Ee.read=Mu;function Vi(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){kt(r,n);return}let s=i.map(u=>({dirent:u,name:u.name,path:Wi.joinPathSegments(e,u.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){Pr(r,s);return}let o=s.map(u=>Nu(u,t));Hi(o,(u,a)=>{if(u!==null){kt(r,u);return}Pr(r,a)})})}Ee.readdirWithFileTypes=Vi;function Nu(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=Gi.fs.createDirentFromStats(e.name,i),r(null,e)})}}function Yi(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){kt(r,n);return}let s=i.map(o=>{let u=Wi.joinPathSegments(e,o,t.pathSegmentSeparator);return a=>{qu.stat(u,t.fsStatSettings,(c,l)=>{if(c!==null){a(c);return}let f={name:o,path:u,dirent:Gi.fs.createDirentFromStats(o,l)};t.stats&&(f.stats=l),a(null,f)})}});Hi(s,(o,u)=>{if(o!==null){kt(r,o);return}Pr(r,u)})})}Ee.readdir=Yi;function kt(e,t){e(t)}function Pr(e,t){e(null,t)}});var es=g(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.readdir=we.readdirWithFileTypes=we.read=void 0;var ju=Ot(),Uu=Or(),Ji=Rr(),Qi=Tr();function $u(e,t){return!t.stats&&Uu.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Xi(e,t):Zi(e,t)}we.read=$u;function Xi(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:Qi.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let s=t.fs.statSync(i.path);i.dirent=Ji.fs.createDirentFromStats(i.name,s)}catch(s){if(t.throwErrorOnBrokenSymbolicLink)throw s}return i})}we.readdirWithFileTypes=Xi;function Zi(e,t){return t.fs.readdirSync(e).map(n=>{let i=Qi.joinPathSegments(e,n,t.pathSegmentSeparator),s=ju.statSync(i,t.fsStatSettings),o={name:n,path:i,dirent:Ji.fs.createDirentFromStats(n,s)};return t.stats&&(o.stats=s),o})}we.readdir=Zi});var ts=g(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.createFileSystemAdapter=Be.FILE_SYSTEM_ADAPTER=void 0;var Ge=require("fs");Be.FILE_SYSTEM_ADAPTER={lstat:Ge.lstat,stat:Ge.stat,lstatSync:Ge.lstatSync,statSync:Ge.statSync,readdir:Ge.readdir,readdirSync:Ge.readdirSync};function Lu(e){return e===void 0?Be.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Be.FILE_SYSTEM_ADAPTER),e)}Be.createFileSystemAdapter=Lu});var rs=g(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});var zu=require("path"),Hu=Ot(),Gu=ts(),qr=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Gu.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,zu.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Hu.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};kr.default=qr});var Mt=g(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.Settings=Ae.scandirSync=Ae.scandir=void 0;var ns=Ki(),Wu=es(),Mr=rs();Ae.Settings=Mr.default;function Vu(e,t,r){if(typeof t=="function"){ns.read(e,Nr(),t);return}ns.read(e,Nr(t),r)}Ae.scandir=Vu;function Yu(e,t){let r=Nr(t);return Wu.read(e,r)}Ae.scandirSync=Yu;function Nr(e={}){return e instanceof Mr.default?e:new Mr.default(e)}});var ss=g((fp,is)=>{"use strict";function Ku(e){var t=new e,r=t;function n(){var s=t;return s.next?t=s.next:(t=new e,r=t),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}is.exports=Ku});var as=g((dp,jr)=>{"use strict";var Ju=ss();function os(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Ju(Qu),i=null,s=null,o=0,u=null,a={push:v,drain:Q,saturated:Q,pause:l,paused:!1,concurrency:r,running:c,resume:h,idle:p,length:f,getQueue:d,unshift:m,empty:Q,kill:A,killAndDrain:T,error:I};return a;function c(){return o}function l(){a.paused=!0}function f(){for(var w=i,O=0;w;)w=w.next,O++;return O}function d(){for(var w=i,O=[];w;)O.push(w.value),w=w.next;return O}function h(){if(a.paused){a.paused=!1;for(var w=0;w<a.concurrency;w++)o++,E()}}function p(){return o===0&&a.length()===0}function v(w,O){var S=n.get();S.context=e,S.release=E,S.value=w,S.callback=O||Q,S.errorHandler=u,o===a.concurrency||a.paused?s?(s.next=S,s=S):(i=S,s=S,a.saturated()):(o++,t.call(e,S.value,S.worked))}function m(w,O){var S=n.get();S.context=e,S.release=E,S.value=w,S.callback=O||Q,o===a.concurrency||a.paused?i?(S.next=i,i=S):(i=S,s=S,a.saturated()):(o++,t.call(e,S.value,S.worked))}function E(w){w&&n.release(w);var O=i;O?a.paused?o--:(s===i&&(s=null),i=O.next,O.next=null,t.call(e,O.value,O.worked),s===null&&a.empty()):--o===0&&a.drain()}function A(){i=null,s=null,a.drain=Q}function T(){i=null,s=null,a.drain(),a.drain=Q}function I(w){u=w}}function Q(){}function Qu(){this.value=null,this.callback=Q,this.next=null,this.release=Q,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,s=e.errorHandler,o=e.value;e.value=null,e.callback=Q,e.errorHandler&&s(r,o),i.call(e.context,r,n),e.release(e)}}function Xu(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(l,f){t.call(this,l).then(function(d){f(null,d)},f)}var i=os(e,n,r),s=i.push,o=i.unshift;return i.push=u,i.unshift=a,i.drained=c,i;function u(l){var f=new Promise(function(d,h){s(l,function(p,v){if(p){h(p);return}d(v)})});return f.catch(Q),f}function a(l){var f=new Promise(function(d,h){o(l,function(p,v){if(p){h(p);return}d(v)})});return f.catch(Q),f}function c(){if(i.idle())return new Promise(function(d){d()});var l=i.drain,f=new Promise(function(d){i.drain=function(){l(),d()}});return f}}jr.exports=os;jr.exports.promise=Xu});var Nt=g(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.joinPathSegments=ae.replacePathSegmentSeparator=ae.isAppliedFilter=ae.isFatalError=void 0;function Zu(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}ae.isFatalError=Zu;function ec(e,t){return e===null||e(t)}ae.isAppliedFilter=ec;function tc(e,t){return e.split(/[/\\]/).join(t)}ae.replacePathSegmentSeparator=tc;function rc(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}ae.joinPathSegments=rc});var Lr=g($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});var nc=Nt(),Ur=class{constructor(t,r){this._root=t,this._settings=r,this._root=nc.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};$r.default=Ur});var Gr=g(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});var ic=require("events"),sc=Mt(),oc=as(),jt=Nt(),ac=Lr(),zr=class extends ac.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=sc.scandir,this._emitter=new ic.EventEmitter,this._queue=oc(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!jt.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=jt.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),jt.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&jt.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};Hr.default=zr});var us=g(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});var uc=Gr(),Wr=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new uc.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{cc(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{lc(t,this._storage)}),this._reader.read()}};Vr.default=Wr;function cc(e,t){e(t)}function lc(e,t){e(null,t)}});var cs=g(Kr=>{"use strict";Object.defineProperty(Kr,"__esModule",{value:!0});var fc=require("stream"),dc=Gr(),Yr=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new dc.default(this._root,this._settings),this._stream=new fc.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};Kr.default=Yr});var ls=g(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});var hc=Mt(),Ut=Nt(),pc=Lr(),Jr=class extends pc.default{constructor(){super(...arguments),this._scandir=hc.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(Ut.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=Ut.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Ut.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&Ut.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};Qr.default=Jr});var fs=g(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});var gc=ls(),Xr=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new gc.default(this._root,this._settings)}read(){return this._reader.read()}};Zr.default=Xr});var ds=g(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});var mc=require("path"),vc=Mt(),en=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,mc.sep),this.fsScandirSettings=new vc.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};tn.default=en});var ps=g(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.Settings=ue.walkStream=ue.walkSync=ue.walk=void 0;var hs=us(),yc=cs(),_c=fs(),rn=ds();ue.Settings=rn.default;function Ec(e,t,r){if(typeof t=="function"){new hs.default(e,$t()).read(t);return}new hs.default(e,$t(t)).read(r)}ue.walk=Ec;function wc(e,t){let r=$t(t);return new _c.default(e,r).read()}ue.walkSync=wc;function Bc(e,t){let r=$t(t);return new yc.default(e,r).read()}ue.walkStream=Bc;function $t(e={}){return e instanceof rn.default?e:new rn.default(e)}});var Lt=g(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.toCommandProperties=We.toCommandValue=void 0;function Ac(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}We.toCommandValue=Ac;function Sc(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}We.toCommandProperties=Sc});var ys=g(X=>{"use strict";var bc=X&&X.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Cc=X&&X.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Dc=X&&X.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&bc(t,e,r);return Cc(t,e),t};Object.defineProperty(X,"__esModule",{value:!0});X.issue=X.issueCommand=void 0;var Fc=Dc(require("os")),ms=Lt();function vs(e,t,r){let n=new nn(e,t,r);process.stdout.write(n.toString()+Fc.EOL)}X.issueCommand=vs;function Ic(e,t=""){vs(e,{},t)}X.issue=Ic;var gs="::",nn=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=gs+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:t+=",",t+=`${n}=${xc(i)}`)}}return t+=`${gs}${Oc(this.message)}`,t}};function Oc(e){return ms.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function xc(e){return ms.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function ft(){return zt>Ht.length-16&&(_s.default.randomFillSync(Ht),zt=0),Ht.slice(zt,zt+=16)}var _s,Ht,zt,sn=j(()=>{_s=He(require("crypto")),Ht=new Uint8Array(256),zt=Ht.length});var Es,ws=j(()=>{Es=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Rc(e){return typeof e=="string"&&Es.test(e)}var Se,dt=j(()=>{ws();Se=Rc});function Tc(e,t=0){let r=(q[e[t+0]]+q[e[t+1]]+q[e[t+2]]+q[e[t+3]]+"-"+q[e[t+4]]+q[e[t+5]]+"-"+q[e[t+6]]+q[e[t+7]]+"-"+q[e[t+8]]+q[e[t+9]]+"-"+q[e[t+10]]+q[e[t+11]]+q[e[t+12]]+q[e[t+13]]+q[e[t+14]]+q[e[t+15]]).toLowerCase();if(!Se(r))throw TypeError("Stringified UUID is invalid");return r}var q,be,ht=j(()=>{dt();q=[];for(let e=0;e<256;++e)q.push((e+256).toString(16).substr(1));be=Tc});function Pc(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let s=e.node||Bs,o=e.clockseq!==void 0?e.clockseq:on;if(s==null||o==null){let d=e.random||(e.rng||ft)();s==null&&(s=Bs=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),o==null&&(o=on=(d[6]<<8|d[7])&16383)}let u=e.msecs!==void 0?e.msecs:Date.now(),a=e.nsecs!==void 0?e.nsecs:un+1,c=u-an+(a-un)/1e4;if(c<0&&e.clockseq===void 0&&(o=o+1&16383),(c<0||u>an)&&e.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");an=u,un=a,on=o,u+=122192928e5;let l=((u&268435455)*1e4+a)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let f=u/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let d=0;d<6;++d)i[n+d]=s[d];return t||be(i)}var Bs,on,an,un,As,Ss=j(()=>{sn();ht();an=0,un=0;As=Pc});function qc(e){if(!Se(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Gt,cn=j(()=>{dt();Gt=qc});function kc(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Wt(e,t,r){function n(i,s,o,u){if(typeof i=="string"&&(i=kc(i)),typeof s=="string"&&(s=Gt(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+i.length);if(a.set(s),a.set(i,s.length),a=r(a),a[6]=a[6]&15|t,a[8]=a[8]&63|128,o){u=u||0;for(let c=0;c<16;++c)o[u+c]=a[c];return o}return be(a)}try{n.name=e}catch{}return n.DNS=Mc,n.URL=Nc,n}var Mc,Nc,ln=j(()=>{ht();cn();Mc="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Nc="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function jc(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),bs.default.createHash("md5").update(e).digest()}var bs,Cs,Ds=j(()=>{bs=He(require("crypto"));Cs=jc});var Uc,Fs,Is=j(()=>{ln();Ds();Uc=Wt("v3",48,Cs),Fs=Uc});function $c(e,t,r){e=e||{};let n=e.random||(e.rng||ft)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return be(n)}var Os,xs=j(()=>{sn();ht();Os=$c});function Lc(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Rs.default.createHash("sha1").update(e).digest()}var Rs,Ts,Ps=j(()=>{Rs=He(require("crypto"));Ts=Lc});var zc,qs,ks=j(()=>{ln();Ps();zc=Wt("v5",80,Ts),qs=zc});var Ms,Ns=j(()=>{Ms="00000000-0000-0000-0000-000000000000"});function Hc(e){if(!Se(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var js,Us=j(()=>{dt();js=Hc});var $s={};vu($s,{NIL:()=>Ms,parse:()=>Gt,stringify:()=>be,v1:()=>As,v3:()=>Fs,v4:()=>Os,v5:()=>qs,validate:()=>Se,version:()=>js});var Ls=j(()=>{Ss();Is();xs();ks();Ns();Us();dt();ht();cn()});var Ws=g(Z=>{"use strict";var Gc=Z&&Z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wc=Z&&Z.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hs=Z&&Z.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Gc(t,e,r);return Wc(t,e),t};Object.defineProperty(Z,"__esModule",{value:!0});Z.prepareKeyValueMessage=Z.issueFileCommand=void 0;var zs=Hs(require("fs")),fn=Hs(require("os")),Vc=(Ls(),yu($s)),Gs=Lt();function Yc(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!zs.existsSync(r))throw new Error(`Missing file at path: ${r}`);zs.appendFileSync(r,`${Gs.toCommandValue(t)}${fn.EOL}`,{encoding:"utf8"})}Z.issueFileCommand=Yc;function Kc(e,t){let r=`ghadelimiter_${Vc.v4()}`,n=Gs.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${fn.EOL}${n}${fn.EOL}${r}`}Z.prepareKeyValueMessage=Kc});var Ys=g(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.checkBypass=Ve.getProxyUrl=void 0;function Jc(e){let t=e.protocol==="https:";if(Vs(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Ve.getProxyUrl=Jc;function Vs(e){if(!e.hostname)return!1;let t=e.hostname;if(Qc(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let i=[e.hostname.toUpperCase()];typeof n=="number"&&i.push(`${i[0]}:${n}`);for(let s of r.split(",").map(o=>o.trim().toUpperCase()).filter(o=>o))if(s==="*"||i.some(o=>o===s||o.endsWith(`.${s}`)||s.startsWith(".")&&o.endsWith(`${s}`)))return!0;return!1}Ve.checkBypass=Vs;function Qc(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var Xs=g(Ye=>{"use strict";var cg=require("net"),Xc=require("tls"),dn=require("http"),Ks=require("https"),Zc=require("events"),lg=require("assert"),el=require("util");Ye.httpOverHttp=tl;Ye.httpsOverHttp=rl;Ye.httpOverHttps=nl;Ye.httpsOverHttps=il;function tl(e){var t=new ge(e);return t.request=dn.request,t}function rl(e){var t=new ge(e);return t.request=dn.request,t.createSocket=Js,t.defaultPort=443,t}function nl(e){var t=new ge(e);return t.request=Ks.request,t}function il(e){var t=new ge(e);return t.request=Ks.request,t.createSocket=Js,t.defaultPort=443,t}function ge(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||dn.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,i,s,o){for(var u=Qs(i,s,o),a=0,c=t.requests.length;a<c;++a){var l=t.requests[a];if(l.host===u.host&&l.port===u.port){t.requests.splice(a,1),l.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}el.inherits(ge,Zc.EventEmitter);ge.prototype.addRequest=function(t,r,n,i){var s=this,o=hn({request:t},s.options,Qs(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(u){u.on("free",a),u.on("close",c),u.on("agentRemove",c),t.onSocket(u);function a(){s.emit("free",u,o)}function c(l){s.removeSocket(u),u.removeListener("free",a),u.removeListener("close",c),u.removeListener("agentRemove",c)}})};ge.prototype.createSocket=function(t,r){var n=this,i={};n.sockets.push(i);var s=hn({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),Ce("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",u),o.once("upgrade",a),o.once("connect",c),o.once("error",l),o.end();function u(f){f.upgrade=!0}function a(f,d,h){process.nextTick(function(){c(f,d,h)})}function c(f,d,h){if(o.removeAllListeners(),d.removeAllListeners(),f.statusCode!==200){Ce("tunneling socket could not be established, statusCode=%d",f.statusCode),d.destroy();var p=new Error("tunneling socket could not be established, statusCode="+f.statusCode);p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(i);return}if(h.length>0){Ce("got illegal response body from proxy"),d.destroy();var p=new Error("got illegal response body from proxy");p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(i);return}return Ce("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=d,r(d)}function l(f){o.removeAllListeners(),Ce(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var d=new Error("tunneling socket could not be established, cause="+f.message);d.code="ECONNRESET",t.request.emit("error",d),n.removeSocket(i)}};ge.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function Js(e,t){var r=this;ge.prototype.createSocket.call(r,e,function(n){var i=e.request.getHeader("host"),s=hn({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):e.host}),o=Xc.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,t(o)})}function Qs(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function hn(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var u=i[s];n[u]!==void 0&&(e[u]=n[u])}}return e}var Ce;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Ce=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Ce=function(){};Ye.debug=Ce});var eo=g((dg,Zs)=>{Zs.exports=Xs()});var Xt=g(b=>{"use strict";var sl=b&&b.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ol=b&&b.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Qt=b&&b.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&sl(t,e,r);return ol(t,e),t},x=b&&b.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(b,"__esModule",{value:!0});b.HttpClient=b.isHttps=b.HttpClientResponse=b.HttpClientError=b.getProxyUrl=b.MediaTypes=b.Headers=b.HttpCodes=void 0;var Vt=Qt(require("http")),pn=Qt(require("https")),to=Qt(Ys()),Yt=Qt(eo()),ie;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(ie=b.HttpCodes||(b.HttpCodes={}));var U;(function(e){e.Accept="accept",e.ContentType="content-type"})(U=b.Headers||(b.Headers={}));var De;(function(e){e.ApplicationJson="application/json"})(De=b.MediaTypes||(b.MediaTypes={}));function al(e){let t=to.getProxyUrl(new URL(e));return t?t.href:""}b.getProxyUrl=al;var ul=[ie.MovedPermanently,ie.ResourceMoved,ie.SeeOther,ie.TemporaryRedirect,ie.PermanentRedirect],cl=[ie.BadGateway,ie.ServiceUnavailable,ie.GatewayTimeout],ll=["OPTIONS","GET","DELETE","HEAD"],fl=10,dl=5,Ke=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Ke.prototype)}};b.HttpClientError=Ke;var Jt=class{constructor(t){this.message=t}readBody(){return x(this,void 0,void 0,function*(){return new Promise(t=>x(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};b.HttpClientResponse=Jt;function hl(e){return new URL(e).protocol==="https:"}b.isHttps=hl;var gn=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return x(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return x(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return x(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return x(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return x(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return x(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return x(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,i){return x(this,void 0,void 0,function*(){return this.request(t,r,n,i)})}getJson(t,r={}){return x(this,void 0,void 0,function*(){r[U.Accept]=this._getExistingOrDefaultHeader(r,U.Accept,De.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return x(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[U.Accept]=this._getExistingOrDefaultHeader(n,U.Accept,De.ApplicationJson),n[U.ContentType]=this._getExistingOrDefaultHeader(n,U.ContentType,De.ApplicationJson);let s=yield this.post(t,i,n);return this._processResponse(s,this.requestOptions)})}putJson(t,r,n={}){return x(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[U.Accept]=this._getExistingOrDefaultHeader(n,U.Accept,De.ApplicationJson),n[U.ContentType]=this._getExistingOrDefaultHeader(n,U.ContentType,De.ApplicationJson);let s=yield this.put(t,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(t,r,n={}){return x(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[U.Accept]=this._getExistingOrDefaultHeader(n,U.Accept,De.ApplicationJson),n[U.ContentType]=this._getExistingOrDefaultHeader(n,U.ContentType,De.ApplicationJson);let s=yield this.patch(t,i,n);return this._processResponse(s,this.requestOptions)})}request(t,r,n,i){return x(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(t,s,i),u=this._allowRetries&&ll.includes(t)?this._maxRetries+1:1,a=0,c;do{if(c=yield this.requestRaw(o,n),c&&c.message&&c.message.statusCode===ie.Unauthorized){let f;for(let d of this.handlers)if(d.canHandleAuthentication(c)){f=d;break}return f?f.handleAuthentication(this,o,n):c}let l=this._maxRedirects;for(;c.message.statusCode&&ul.includes(c.message.statusCode)&&this._allowRedirects&&l>0;){let f=c.message.headers.location;if(!f)break;let d=new URL(f);if(s.protocol==="https:"&&s.protocol!==d.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield c.readBody(),d.hostname!==s.hostname)for(let h in i)h.toLowerCase()==="authorization"&&delete i[h];o=this._prepareRequest(t,d,i),c=yield this.requestRaw(o,n),l--}if(!c.message.statusCode||!cl.includes(c.message.statusCode))return c;a+=1,a<u&&(yield c.readBody(),yield this._performExponentialBackoff(a))}while(a<u);return c})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return x(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(o,u){o?i(o):u?n(u):i(new Error("Unknown error"))}this.requestRawWithCallback(t,r,s)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(a,c){i||(i=!0,n(a,c))}let o=t.httpModule.request(t.options,a=>{let c=new Jt(a);s(void 0,c)}),u;o.on("socket",a=>{u=a}),o.setTimeout(this._socketTimeout||3*6e4,()=>{u&&u.end(),s(new Error(`Request timeout: ${t.options.path}`))}),o.on("error",function(a){s(a)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?pn:Vt;let o=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let u of this.handlers)u.prepareRequest(i.options);return i}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Kt(this.requestOptions.headers),Kt(t||{})):Kt(t||{})}_getExistingOrDefaultHeader(t,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=Kt(this.requestOptions.headers)[r]),t[r]||i||n}_getAgent(t){let r,n=to.getProxyUrl(t),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=t.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||Vt.globalAgent.maxSockets),n&&n.hostname){let u={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},a,c=n.protocol==="https:";s?a=c?Yt.httpsOverHttps:Yt.httpsOverHttp:a=c?Yt.httpOverHttps:Yt.httpOverHttp,r=a(u),this._proxyAgent=r}if(this._keepAlive&&!r){let u={keepAlive:this._keepAlive,maxSockets:o};r=s?new pn.Agent(u):new Vt.Agent(u),this._agent=r}return r||(r=s?pn.globalAgent:Vt.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return x(this,void 0,void 0,function*(){t=Math.min(fl,t);let r=dl*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return x(this,void 0,void 0,function*(){return new Promise((n,i)=>x(this,void 0,void 0,function*(){let s=t.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===ie.NotFound&&n(o);function u(l,f){if(typeof f=="string"){let d=new Date(f);if(!isNaN(d.valueOf()))return d}return f}let a,c;try{c=yield t.readBody(),c&&c.length>0&&(r&&r.deserializeDates?a=JSON.parse(c,u):a=JSON.parse(c),o.result=a),o.headers=t.message.headers}catch{}if(s>299){let l;a&&a.message?l=a.message:c&&c.length>0?l=c:l=`Failed request: (${s})`;let f=new Ke(l,s);f.result=o.result,i(f)}else n(o)}))})}};b.HttpClient=gn;var Kt=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var En=g(ce=>{"use strict";var _n=ce&&ce.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(ce,"__esModule",{value:!0});ce.PersonalAccessTokenCredentialHandler=ce.BearerCredentialHandler=ce.BasicCredentialHandler=void 0;var mn=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return _n(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ce.BasicCredentialHandler=mn;var vn=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return _n(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ce.BearerCredentialHandler=vn;var yn=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return _n(this,void 0,void 0,function*(){throw new Error("not implemented")})}};ce.PersonalAccessTokenCredentialHandler=yn});var io=g(Je=>{"use strict";var ro=Je&&Je.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Je,"__esModule",{value:!0});Je.OidcClient=void 0;var pl=Xt(),gl=En(),no=se(),Fe=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new pl.HttpClient("actions/oidc-client",[new gl.BearerCredentialHandler(Fe.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return ro(this,void 0,void 0,function*(){let s=(r=(yield Fe.createHttpClient().getJson(t).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(t){return ro(this,void 0,void 0,function*(){try{let r=Fe.getIDTokenUrl();if(t){let i=encodeURIComponent(t);r=`${r}&audience=${i}`}no.debug(`ID token url is ${r}`);let n=yield Fe.getCall(r);return no.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};Je.OidcClient=Fe});var Sn=g(L=>{"use strict";var wn=L&&L.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(L,"__esModule",{value:!0});L.summary=L.markdownSummary=L.SUMMARY_DOCS_URL=L.SUMMARY_ENV_VAR=void 0;var ml=require("os"),Bn=require("fs"),{access:vl,appendFile:yl,writeFile:_l}=Bn.promises;L.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";L.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var An=class{constructor(){this._buffer=""}filePath(){return wn(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[L.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${L.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield vl(t,Bn.constants.R_OK|Bn.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let i=Object.entries(n).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${t}${i}>${r}</${t}>`:`<${t}${i}>`}write(t){return wn(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),n=yield this.filePath();return yield(r?_l:yl)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return wn(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(ml.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(i).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",i=t.map(o=>this.wrap("li",o)).join(""),s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(t){let r=t.map(i=>{let s=i.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:u,data:a,colspan:c,rowspan:l}=o,f=u?"th":"td",d=Object.assign(Object.assign({},c&&{colspan:c}),l&&{rowspan:l});return this.wrap(f,a,d)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:i,height:s}=n||{},o=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),u=this.wrap("img",null,Object.assign({src:t,alt:r},o));return this.addRaw(u).addEOL()}addHeading(t,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(i,t);return this.addRaw(s).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",t,n);return this.addRaw(i).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},so=new An;L.markdownSummary=so;L.summary=so});var oo=g(z=>{"use strict";var El=z&&z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wl=z&&z.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bl=z&&z.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&El(t,e,r);return wl(t,e),t};Object.defineProperty(z,"__esModule",{value:!0});z.toPlatformPath=z.toWin32Path=z.toPosixPath=void 0;var Al=Bl(require("path"));function Sl(e){return e.replace(/[\\]/g,"/")}z.toPosixPath=Sl;function bl(e){return e.replace(/[/]/g,"\\")}z.toWin32Path=bl;function Cl(e){return e.replace(/[/\\]/g,Al.sep)}z.toPlatformPath=Cl});var se=g(y=>{"use strict";var Dl=y&&y.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Fl=y&&y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ao=y&&y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Dl(t,e,r);return Fl(t,e),t},uo=y&&y.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(y,"__esModule",{value:!0});y.getIDToken=y.getState=y.saveState=y.group=y.endGroup=y.startGroup=y.info=y.notice=y.warning=y.error=y.debug=y.isDebug=y.setFailed=y.setCommandEcho=y.setOutput=y.getBooleanInput=y.getMultilineInput=y.getInput=y.addPath=y.setSecret=y.exportVariable=y.ExitCode=void 0;var ee=ys(),Me=Ws(),Qe=Lt(),co=ao(require("os")),Il=ao(require("path")),Ol=io(),lo;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(lo=y.ExitCode||(y.ExitCode={}));function xl(e,t){let r=Qe.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return Me.issueFileCommand("ENV",Me.prepareKeyValueMessage(e,t));ee.issueCommand("set-env",{name:e},r)}y.exportVariable=xl;function Rl(e){ee.issueCommand("add-mask",{},e)}y.setSecret=Rl;function Tl(e){process.env.GITHUB_PATH||""?Me.issueFileCommand("PATH",e):ee.issueCommand("add-path",{},e),process.env.PATH=`${e}${Il.delimiter}${process.env.PATH}`}y.addPath=Tl;function bn(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}y.getInput=bn;function Pl(e,t){let r=bn(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}y.getMultilineInput=Pl;function ql(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=bn(e,t);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}y.getBooleanInput=ql;function kl(e,t){if(process.env.GITHUB_OUTPUT||"")return Me.issueFileCommand("OUTPUT",Me.prepareKeyValueMessage(e,t));process.stdout.write(co.EOL),ee.issueCommand("set-output",{name:e},Qe.toCommandValue(t))}y.setOutput=kl;function Ml(e){ee.issue("echo",e?"on":"off")}y.setCommandEcho=Ml;function Nl(e){process.exitCode=lo.Failure,fo(e)}y.setFailed=Nl;function jl(){return process.env.RUNNER_DEBUG==="1"}y.isDebug=jl;function Ul(e){ee.issueCommand("debug",{},e)}y.debug=Ul;function fo(e,t={}){ee.issueCommand("error",Qe.toCommandProperties(t),e instanceof Error?e.toString():e)}y.error=fo;function $l(e,t={}){ee.issueCommand("warning",Qe.toCommandProperties(t),e instanceof Error?e.toString():e)}y.warning=$l;function Ll(e,t={}){ee.issueCommand("notice",Qe.toCommandProperties(t),e instanceof Error?e.toString():e)}y.notice=Ll;function zl(e){process.stdout.write(e+co.EOL)}y.info=zl;function ho(e){ee.issue("group",e)}y.startGroup=ho;function po(){ee.issue("endgroup")}y.endGroup=po;function Hl(e,t){return uo(this,void 0,void 0,function*(){ho(e);let r;try{r=yield t()}finally{po()}return r})}y.group=Hl;function Gl(e,t){if(process.env.GITHUB_STATE||"")return Me.issueFileCommand("STATE",Me.prepareKeyValueMessage(e,t));ee.issueCommand("save-state",{name:e},Qe.toCommandValue(t))}y.saveState=Gl;function Wl(e){return process.env[`STATE_${e}`]||""}y.getState=Wl;function Vl(e){return uo(this,void 0,void 0,function*(){return yield Ol.OidcClient.getIDToken(e)})}y.getIDToken=Vl;var Yl=Sn();Object.defineProperty(y,"summary",{enumerable:!0,get:function(){return Yl.summary}});var Kl=Sn();Object.defineProperty(y,"markdownSummary",{enumerable:!0,get:function(){return Kl.markdownSummary}});var Cn=oo();Object.defineProperty(y,"toPosixPath",{enumerable:!0,get:function(){return Cn.toPosixPath}});Object.defineProperty(y,"toWin32Path",{enumerable:!0,get:function(){return Cn.toWin32Path}});Object.defineProperty(y,"toPlatformPath",{enumerable:!0,get:function(){return Cn.toPlatformPath}})});var Fn=g(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.checkArtifactFilePath=Xe.checkArtifactName=void 0;var Jl=se(),Dn=new Map([['"',' Double quote "'],[":"," Colon :"],["<"," Less than <"],[">"," Greater than >"],["|"," Vertical bar |"],["*"," Asterisk *"],["?"," Question mark ?"],["\r"," Carriage return \\r"],[`
`," Line feed \\n"]]),go=new Map([...Dn,["\\"," Backslash \\"],["/"," Forward slash /"]]);function Ql(e){if(!e)throw new Error(`Artifact name: ${e}, is incorrectly provided`);for(let[t,r]of go)if(e.includes(t))throw new Error(`Artifact name is not valid: ${e}. Contains the following character: ${r}
          
Invalid characters include: ${Array.from(go.values()).toString()}
          
These characters are not allowed in the artifact name due to limitations with certain file systems such as NTFS. To maintain file system agnostic behavior, these characters are intentionally not allowed to prevent potential problems with downloads on different file systems.`);Jl.info("Artifact name is valid!")}Xe.checkArtifactName=Ql;function Xl(e){if(!e)throw new Error(`Artifact path: ${e}, is incorrectly provided`);for(let[t,r]of Dn)if(e.includes(t))throw new Error(`Artifact path is not valid: ${e}. Contains the following character: ${r}
          
Invalid characters include: ${Array.from(Dn.values()).toString()}
          
The following characters are not allowed in files that are uploaded due to limitations with certain file systems such as NTFS. To maintain file system agnostic behavior, these characters are intentionally not allowed to prevent potential problems with downloads on different file systems.
          `)}Xe.checkArtifactFilePath=Xl});var mo=g(le=>{"use strict";var Zl=le&&le.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ef=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tf=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Zl(t,e,r);return ef(t,e),t};Object.defineProperty(le,"__esModule",{value:!0});le.getUploadSpecification=void 0;var Zt=tf(require("fs")),rf=se(),pt=require("path"),nf=Fn();function sf(e,t,r){let n=[];if(!Zt.existsSync(t))throw new Error(`Provided rootDirectory ${t} does not exist`);if(!Zt.lstatSync(t).isDirectory())throw new Error(`Provided rootDirectory ${t} is not a valid directory`);t=pt.normalize(t),t=pt.resolve(t);for(let i of r){if(!Zt.existsSync(i))throw new Error(`File ${i} does not exist`);if(Zt.lstatSync(i).isDirectory())rf.debug(`Removing ${i} from rawSearchResults because it is a directory`);else{if(i=pt.normalize(i),i=pt.resolve(i),!i.startsWith(t))throw new Error(`The rootDirectory: ${t} is not a parent directory of the file: ${i}`);let s=i.replace(t,"");nf.checkArtifactFilePath(s),n.push({absoluteFilePath:i,uploadFilePath:pt.join(e,s)})}}return n}le.getUploadSpecification=sf});var vo=g(In=>{var Ne=require("path"),Oe=process.platform==="win32",Ie=require("fs"),of=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function af(){var e;if(of){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function uf(e){return typeof e=="function"?e:af()}var wg=Ne.normalize;Oe?me=/(.*?)(?:[\/\\]+|$)/g:me=/(.*?)(?:[\/]+|$)/g;var me;Oe?gt=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:gt=/^[\/]*/;var gt;In.realpathSync=function(t,r){if(t=Ne.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},s={},o,u,a,c;l();function l(){var m=gt.exec(t);o=m[0].length,u=m[0],a=m[0],c="",Oe&&!s[a]&&(Ie.lstatSync(a),s[a]=!0)}for(;o<t.length;){me.lastIndex=o;var f=me.exec(t);if(c=u,u+=f[0],a=c+f[1],o=me.lastIndex,!(s[a]||r&&r[a]===a)){var d;if(r&&Object.prototype.hasOwnProperty.call(r,a))d=r[a];else{var h=Ie.lstatSync(a);if(!h.isSymbolicLink()){s[a]=!0,r&&(r[a]=a);continue}var p=null;if(!Oe){var v=h.dev.toString(32)+":"+h.ino.toString(32);i.hasOwnProperty(v)&&(p=i[v])}p===null&&(Ie.statSync(a),p=Ie.readlinkSync(a)),d=Ne.resolve(c,p),r&&(r[a]=d),Oe||(i[v]=p)}t=Ne.resolve(d,t.slice(o)),l()}}return r&&(r[n]=t),t};In.realpath=function(t,r,n){if(typeof n!="function"&&(n=uf(r),r=null),t=Ne.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,s={},o={},u,a,c,l;f();function f(){var m=gt.exec(t);u=m[0].length,a=m[0],c=m[0],l="",Oe&&!o[c]?Ie.lstat(c,function(E){if(E)return n(E);o[c]=!0,d()}):process.nextTick(d)}function d(){if(u>=t.length)return r&&(r[i]=t),n(null,t);me.lastIndex=u;var m=me.exec(t);return l=a,a+=m[0],c=l+m[1],u=me.lastIndex,o[c]||r&&r[c]===c?process.nextTick(d):r&&Object.prototype.hasOwnProperty.call(r,c)?v(r[c]):Ie.lstat(c,h)}function h(m,E){if(m)return n(m);if(!E.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(d);if(!Oe){var A=E.dev.toString(32)+":"+E.ino.toString(32);if(s.hasOwnProperty(A))return p(null,s[A],c)}Ie.stat(c,function(T){if(T)return n(T);Ie.readlink(c,function(I,w){Oe||(s[A]=w),p(I,w)})})}function p(m,E,A){if(m)return n(m);var T=Ne.resolve(l,E);r&&(r[A]=T),v(T)}function v(m){t=Ne.resolve(m,t.slice(u)),f()}}});var Tn=g((Ag,wo)=>{wo.exports=xe;xe.realpath=xe;xe.sync=Rn;xe.realpathSync=Rn;xe.monkeypatch=lf;xe.unmonkeypatch=ff;var Ze=require("fs"),On=Ze.realpath,xn=Ze.realpathSync,cf=process.version,yo=/^v[0-5]\./.test(cf),_o=vo();function Eo(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function xe(e,t,r){if(yo)return On(e,t,r);typeof t=="function"&&(r=t,t=null),On(e,t,function(n,i){Eo(n)?_o.realpath(e,t,r):r(n,i)})}function Rn(e,t){if(yo)return xn(e,t);try{return xn(e,t)}catch(r){if(Eo(r))return _o.realpathSync(e,t);throw r}}function lf(){Ze.realpath=xe,Ze.realpathSync=Rn}function ff(){Ze.realpath=On,Ze.realpathSync=xn}});var Ao=g((Sg,Bo)=>{Bo.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);df(i)?r.push.apply(r,i):r.push(i)}return r};var df=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Fo=g((bg,Do)=>{"use strict";Do.exports=bo;function bo(e,t,r){e instanceof RegExp&&(e=So(e,r)),t instanceof RegExp&&(t=So(t,r));var n=Co(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function So(e,t){var r=t.match(e);return r?r[0]:null}bo.range=Co;function Co(e,t,r){var n,i,s,o,u,a=r.indexOf(e),c=r.indexOf(t,a+1),l=a;if(a>=0&&c>0){if(e===t)return[a,c];for(n=[],s=r.length;l>=0&&!u;)l==a?(n.push(l),a=r.indexOf(e,l+1)):n.length==1?u=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(t,l+1)),l=a<c&&a>=0?a:c;n.length&&(u=[s,o])}return u}});var ko=g((Cg,qo)=>{var hf=Ao(),Io=Fo();qo.exports=mf;var Oo="\0SLASH"+Math.random()+"\0",xo="\0OPEN"+Math.random()+"\0",qn="\0CLOSE"+Math.random()+"\0",Ro="\0COMMA"+Math.random()+"\0",To="\0PERIOD"+Math.random()+"\0";function Pn(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function pf(e){return e.split("\\\\").join(Oo).split("\\{").join(xo).split("\\}").join(qn).split("\\,").join(Ro).split("\\.").join(To)}function gf(e){return e.split(Oo).join("\\").split(xo).join("{").split(qn).join("}").split(Ro).join(",").split(To).join(".")}function Po(e){if(!e)return[""];var t=[],r=Io("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var u=Po(s);return s.length&&(o[o.length-1]+=u.shift(),o.push.apply(o,u)),t.push.apply(t,o),t}function mf(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),et(pf(e),!0).map(gf)):[]}function vf(e){return"{"+e+"}"}function yf(e){return/^-?0\d/.test(e)}function _f(e,t){return e<=t}function Ef(e,t){return e>=t}function et(e,t){var r=[],n=Io("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,u=n.body.indexOf(",")>=0;if(!o&&!u)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+qn+n.post,et(e)):[e];var a;if(o)a=n.body.split(/\.\./);else if(a=Po(n.body),a.length===1&&(a=et(a[0],!1).map(vf),a.length===1)){var l=n.post.length?et(n.post,!1):[""];return l.map(function(wr){return n.pre+a[0]+wr})}var c=n.pre,l=n.post.length?et(n.post,!1):[""],f;if(o){var d=Pn(a[0]),h=Pn(a[1]),p=Math.max(a[0].length,a[1].length),v=a.length==3?Math.abs(Pn(a[2])):1,m=_f,E=h<d;E&&(v*=-1,m=Ef);var A=a.some(yf);f=[];for(var T=d;m(T,h);T+=v){var I;if(s)I=String.fromCharCode(T),I==="\\"&&(I="");else if(I=String(T),A){var w=p-I.length;if(w>0){var O=new Array(w+1).join("0");T<0?I="-"+O+I.slice(1):I=O+I}}f.push(I)}}else f=hf(a,function(bt){return et(bt,!1)});for(var S=0;S<f.length;S++)for(var ke=0;ke<l.length;ke++){var pe=c+f[S]+l[ke];(!t||o||pe)&&r.push(pe)}return r}});var rr=g((Dg,$o)=>{$o.exports=Y;Y.Minimatch=k;var mt=function(){try{return require("path")}catch{}}()||{sep:"/"};Y.sep=mt.sep;var Nn=Y.GLOBSTAR=k.GLOBSTAR={},wf=ko(),Mo={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},kn="[^/]",Mn=kn+"*?",Bf="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Af="(?:(?!(?:\\/|^)\\.).)*?",No=Sf("().*{}+?[]^$\\!");function Sf(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var jo=/\/+/;Y.filter=bf;function bf(e,t){return t=t||{},function(r,n,i){return Y(r,e,t)}}function Re(e,t){t=t||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}Y.defaults=function(e){if(!e||typeof e!="object"||!Object.keys(e).length)return Y;var t=Y,r=function(i,s,o){return t(i,s,Re(e,o))};return r.Minimatch=function(i,s){return new t.Minimatch(i,Re(e,s))},r.Minimatch.defaults=function(i){return t.defaults(Re(e,i)).Minimatch},r.filter=function(i,s){return t.filter(i,Re(e,s))},r.defaults=function(i){return t.defaults(Re(e,i))},r.makeRe=function(i,s){return t.makeRe(i,Re(e,s))},r.braceExpand=function(i,s){return t.braceExpand(i,Re(e,s))},r.match=function(n,i,s){return t.match(n,i,Re(e,s))},r};k.defaults=function(e){return Y.defaults(e).Minimatch};function Y(e,t,r){return tr(t),r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:new k(t,r).match(e)}function k(e,t){if(!(this instanceof k))return new k(e,t);tr(e),t||(t={}),e=e.trim(),!t.allowWindowsEscape&&mt.sep!=="/"&&(e=e.split(mt.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}k.prototype.debug=function(){};k.prototype.make=Cf;function Cf(){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(jo)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}k.prototype.parseNegate=Df;function Df(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=e.length;i<s&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}Y.braceExpand=function(e,t){return Uo(e,t)};k.prototype.braceExpand=Uo;function Uo(e,t){return t||(this instanceof k?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,tr(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:wf(e)}var Ff=1024*64,tr=function(e){if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>Ff)throw new TypeError("pattern is too long")};k.prototype.parse=If;var er={};function If(e,t){tr(e);var r=this.options;if(e==="**")if(r.noglobstar)e="*";else return Nn;if(e==="")return"";var n="",i=!!r.nocase,s=!1,o=[],u=[],a,c=!1,l=-1,f=-1,d=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",h=this;function p(){if(a){switch(a){case"*":n+=Mn,i=!0;break;case"?":n+=kn,i=!0;break;default:n+="\\"+a;break}h.debug("clearStateChar %j %j",a,n),a=!1}}for(var v=0,m=e.length,E;v<m&&(E=e.charAt(v));v++){if(this.debug("%s	%s %s %j",e,v,n,E),s&&No[E]){n+="\\"+E,s=!1;continue}switch(E){case"/":return!1;case"\\":p(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,v,n,E),c){this.debug("  in class"),E==="!"&&v===f+1&&(E="^"),n+=E;continue}h.debug("call clearStateChar %j",a),p(),a=E,r.noext&&p();continue;case"(":if(c){n+="(";continue}if(!a){n+="\\(";continue}o.push({type:a,start:v-1,reStart:n.length,open:Mo[a].open,close:Mo[a].close}),n+=a==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",a,n),a=!1;continue;case")":if(c||!o.length){n+="\\)";continue}p(),i=!0;var A=o.pop();n+=A.close,A.type==="!"&&u.push(A),A.reEnd=n.length;continue;case"|":if(c||!o.length||s){n+="\\|",s=!1;continue}p(),n+="|";continue;case"[":if(p(),c){n+="\\"+E;continue}c=!0,f=v,l=n.length,n+=E;continue;case"]":if(v===f+1||!c){n+="\\"+E,s=!1;continue}var T=e.substring(f+1,v);try{RegExp("["+T+"]")}catch{var I=this.parse(T,er);n=n.substr(0,l)+"\\["+I[0]+"\\]",i=i||I[1],c=!1;continue}i=!0,c=!1,n+=E;continue;default:p(),s?s=!1:No[E]&&!(E==="^"&&c)&&(n+="\\"),n+=E}}for(c&&(T=e.substr(f+1),I=this.parse(T,er),n=n.substr(0,l)+"\\["+I[0],i=i||I[1]),A=o.pop();A;A=o.pop()){var w=n.slice(A.reStart+A.open.length);this.debug("setting tail",n,A),w=w.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Di,Fi,Sr){return Sr||(Sr="\\"),Fi+Fi+Sr+"|"}),this.debug(`tail=%j
   %s`,w,w,A,n);var O=A.type==="*"?Mn:A.type==="?"?kn:"\\"+A.type;i=!0,n=n.slice(0,A.reStart)+O+"\\("+w}p(),s&&(n+="\\\\");var S=!1;switch(n.charAt(0)){case"[":case".":case"(":S=!0}for(var ke=u.length-1;ke>-1;ke--){var pe=u[ke],bt=n.slice(0,pe.reStart),wr=n.slice(pe.reStart,pe.reEnd-8),bi=n.slice(pe.reEnd-8,pe.reEnd),lt=n.slice(pe.reEnd);bi+=lt;var cu=bt.split("(").length-1,Br=lt;for(v=0;v<cu;v++)Br=Br.replace(/\)[+*?]?/,"");lt=Br;var Ci="";lt===""&&t!==er&&(Ci="$");var lu=bt+wr+lt+Ci+bi;n=lu}if(n!==""&&i&&(n="(?=.)"+n),S&&(n=d+n),t===er)return[n,i];if(!i)return xf(e);var fu=r.nocase?"i":"";try{var Ar=new RegExp("^"+n+"$",fu)}catch{return new RegExp("$.")}return Ar._glob=e,Ar._src=n,Ar}Y.makeRe=function(e,t){return new k(e,t||{}).makeRe()};k.prototype.makeRe=Of;function Of(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?Mn:t.dot?Bf:Af,n=t.nocase?"i":"",i=e.map(function(s){return s.map(function(o){return o===Nn?r:typeof o=="string"?Rf(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}Y.match=function(e,t,r){r=r||{};var n=new k(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};k.prototype.match=function(t,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;var n=this.options;mt.sep!=="/"&&(t=t.split(mt.sep).join("/")),t=t.split(jo),this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=t.length-1;o>=0&&(s=t[o],!s);o--);for(o=0;o<i.length;o++){var u=i[o],a=t;n.matchBase&&u.length===1&&(a=[s]);var c=this.matchOne(a,u,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};k.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,o=e.length,u=t.length;i<o&&s<u;i++,s++){this.debug("matchOne loop");var a=t[s],c=e[i];if(this.debug(t,a,c),a===!1)return!1;if(a===Nn){this.debug("GLOBSTAR",[t,a,c]);var l=i,f=s+1;if(f===u){for(this.debug("** at the end");i<o;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;l<o;){var d=e[l];if(this.debug(`
globstar while`,e,l,t,f,d),this.matchOne(e.slice(l),t.slice(f),r))return this.debug("globstar found match!",l,o,d),!0;if(d==="."||d===".."||!n.dot&&d.charAt(0)==="."){this.debug("dot detected!",e,l,t,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,l,t,f),l===o))}var h;if(typeof a=="string"?(h=c===a,this.debug("string match",a,c,h)):(h=c.match(a),this.debug("pattern match",a,c,h)),!h)return!1}if(i===o&&s===u)return!0;if(i===o)return r;if(s===u)return i===o-1&&e[i]==="";throw new Error("wtf?")};function xf(e){return e.replace(/\\(.)/g,"$1")}function Rf(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Lo=g((Fg,jn)=>{typeof Object.create=="function"?jn.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:jn.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var zo=g((Ig,$n)=>{try{if(Un=require("util"),typeof Un.inherits!="function")throw"";$n.exports=Un.inherits}catch{$n.exports=Lo()}var Un});var ir=g((Og,nr)=>{"use strict";function Ho(e){return e.charAt(0)==="/"}function Go(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(r[2]||i)}nr.exports=process.platform==="win32"?Go:Ho;nr.exports.posix=Ho;nr.exports.win32=Go});var zn=g(Te=>{Te.setopts=Nf;Te.ownProp=Wo;Te.makeAbs=vt;Te.finish=jf;Te.mark=Uf;Te.isIgnored=Yo;Te.childrenIgnored=$f;function Wo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Tf=require("fs"),tt=require("path"),Pf=rr(),Vo=ir(),Ln=Pf.Minimatch;function qf(e,t){return e.localeCompare(t,"en")}function kf(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(Mf))}function Mf(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new Ln(r,{dot:!0})}return{matcher:new Ln(e,{dot:!0}),gmatcher:t}}function Nf(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||Tf,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),kf(e,r),e.changedCwd=!1;var n=process.cwd();Wo(r,"cwd")?(e.cwd=tt.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||tt.resolve(e.cwd,"/"),e.root=tt.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=Vo(e.cwd)?e.cwd:vt(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,e.minimatch=new Ln(t,r),e.options=e.minimatch.options}function jf(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var s=e.matches[n];if(!s||Object.keys(s).length===0){if(e.nonull){var o=e.minimatch.globSet[n];t?r.push(o):r[o]=!0}}else{var u=Object.keys(s);t?r.push.apply(r,u):u.forEach(function(a){r[a]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(qf)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(a){var c=!/\/$/.test(a),l=e.cache[a]||e.cache[vt(e,a)];return c&&l&&(c=l!=="DIR"&&!Array.isArray(l)),c}))}e.ignore.length&&(r=r.filter(function(a){return!Yo(e,a)})),e.found=r}function Uf(e,t){var r=vt(e,t),n=e.cache[r],i=t;if(n){var s=n==="DIR"||Array.isArray(n),o=t.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==t){var u=vt(e,i);e.statCache[u]=e.statCache[r],e.cache[u]=e.cache[r]}}return i}function vt(e,t){var r=t;return t.charAt(0)==="/"?r=tt.join(e.root,t):Vo(t)||t===""?r=t:e.changedCwd?r=tt.resolve(e.cwd,t):r=tt.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Yo(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function $f(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var Zo=g((qg,Xo)=>{Xo.exports=Qo;Qo.GlobSync=R;var Lf=Tn(),Ko=rr(),Rg=Ko.Minimatch,Tg=Wn().Glob,Pg=require("util"),Hn=require("path"),Jo=require("assert"),sr=ir(),je=zn(),zf=je.setopts,Gn=je.ownProp,Hf=je.childrenIgnored,Gf=je.isIgnored;function Qo(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new R(e,t).found}function R(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof R))return new R(e,t);if(zf(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}R.prototype._finish=function(){if(Jo.ok(this instanceof R),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var s=Lf.realpathSync(i,e.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[e._makeAbs(i)]=!0;else throw o}})}je.finish(this)};R.prototype._process=function(e,t,r){Jo.ok(this instanceof R);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var s=e.slice(n),o;i===null?o=".":((sr(i)||sr(e.map(function(c){return typeof c=="string"?c:"[*]"}).join("/")))&&(!i||!sr(i))&&(i="/"+i),o=i);var u=this._makeAbs(o);if(!Hf(this,o)){var a=s[0]===Ko.GLOBSTAR;a?this._processGlobStar(i,o,u,s,t,r):this._processReaddir(i,o,u,s,t,r)}};R.prototype._processReaddir=function(e,t,r,n,i,s){var o=this._readdir(r,s);if(o){for(var u=n[0],a=!!this.minimatch.negate,c=u._glob,l=this.dot||c.charAt(0)===".",f=[],d=0;d<o.length;d++){var h=o[d];if(h.charAt(0)!=="."||l){var p;a&&!e?p=!h.match(u):p=h.match(u),p&&f.push(h)}}var v=f.length;if(v!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;d<v;d++){var h=f[d];e&&(e.slice(-1)!=="/"?h=e+"/"+h:h=e+h),h.charAt(0)==="/"&&!this.nomount&&(h=Hn.join(this.root,h)),this._emitMatch(i,h)}return}n.shift();for(var d=0;d<v;d++){var h=f[d],m;e?m=[e,h]:m=[h],this._process(m.concat(n),i,s)}}}};R.prototype._emitMatch=function(e,t){if(!Gf(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};R.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};R.prototype._readdir=function(e,t){var r;if(t&&!Gn(this.symlinks,e))return this._readdirInGlobStar(e);if(Gn(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};R.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};R.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};R.prototype._processGlobStar=function(e,t,r,n,i,s){var o=this._readdir(r,s);if(o){var u=n.slice(1),a=e?[e]:[],c=a.concat(u);this._process(c,i,!1);var l=o.length,f=this.symlinks[r];if(!(f&&s))for(var d=0;d<l;d++){var h=o[d];if(!(h.charAt(0)==="."&&!this.dot)){var p=a.concat(o[d],u);this._process(p,i,!0);var v=a.concat(o[d],n);this._process(v,i,!0)}}}};R.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&sr(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Hn.join(this.root,e):(e=Hn.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};R.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&Gn(this.cache,t)){var o=this.cache[t];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[t];if(!i){var s;try{s=this.fs.lstatSync(t)}catch(u){if(u&&(u.code==="ENOENT"||u.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(t)}catch{i=s}else i=s}this.statCache[t]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,r&&o==="FILE"?!1:o};R.prototype._mark=function(e){return je.mark(this,e)};R.prototype._makeAbs=function(e){return je.makeAbs(this,e)}});var Vn=g((kg,ta)=>{ta.exports=ea;function ea(e,t){if(e&&t)return ea(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(u){s[u]=o[u]}),s}}});var Kn=g((Mg,Yn)=>{var ra=Vn();Yn.exports=ra(or);Yn.exports.strict=ra(na);or.proto=or(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return or(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return na(this)},configurable:!0})});function or(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function na(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var sa=g((Ng,ia)=>{var Wf=Vn(),yt=Object.create(null),Vf=Kn();ia.exports=Wf(Yf);function Yf(e,t){return yt[e]?(yt[e].push(t),null):(yt[e]=[t],Kf(e))}function Kf(e){return Vf(function t(){var r=yt[e],n=r.length,i=Jf(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete yt[e]}})}function Jf(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var Wn=g(($g,aa)=>{aa.exports=Ue;var Qf=Tn(),oa=rr(),jg=oa.Minimatch,Xf=zo(),Zf=require("events").EventEmitter,Jn=require("path"),Qn=require("assert"),_t=ir(),Zn=Zo(),$e=zn(),ed=$e.setopts,Xn=$e.ownProp,ei=sa(),Ug=require("util"),td=$e.childrenIgnored,rd=$e.isIgnored,nd=Kn();function Ue(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return Zn(e,t)}return new B(e,t,r)}Ue.sync=Zn;var id=Ue.GlobSync=Zn.GlobSync;Ue.glob=Ue;function sd(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}Ue.hasMagic=function(e,t){var r=sd({},t);r.noprocess=!0;var n=new B(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};Ue.Glob=B;Xf(B,Zf);function B(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new id(e,t)}if(!(this instanceof B))return new B(e,t,r);ed(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=nd(r),this.on("error",r),this.on("end",function(a){r(null,a)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return u();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,u);s=!1;function u(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}B.prototype._finish=function(){if(Qn(this instanceof B),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();$e.finish(this),this.emit("end",this.found)}};B.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e===0&&t._finish()}};B.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,s=n.length;if(s===0)return t();var o=this.matches[e]=Object.create(null);n.forEach(function(u,a){u=i._makeAbs(u),Qf.realpath(u,i.realpathCache,function(c,l){c?c.syscall==="stat"?o[u]=!0:i.emit("error",c):o[l]=!0,--s===0&&(i.matches[e]=o,t())})})};B.prototype._mark=function(e){return $e.mark(this,e)};B.prototype._makeAbs=function(e){return $e.makeAbs(this,e)};B.prototype.abort=function(){this.aborted=!0,this.emit("abort")};B.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};B.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};B.prototype._process=function(e,t,r,n){if(Qn(this instanceof B),Qn(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var s;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:s=null;break;default:s=e.slice(0,i).join("/");break}var o=e.slice(i),u;s===null?u=".":((_t(s)||_t(e.map(function(l){return typeof l=="string"?l:"[*]"}).join("/")))&&(!s||!_t(s))&&(s="/"+s),u=s);var a=this._makeAbs(u);if(td(this,u))return n();var c=o[0]===oa.GLOBSTAR;c?this._processGlobStar(s,u,a,o,t,r,n):this._processReaddir(s,u,a,o,t,r,n)}};B.prototype._processReaddir=function(e,t,r,n,i,s,o){var u=this;this._readdir(r,s,function(a,c){return u._processReaddir2(e,t,r,n,i,s,c,o)})};B.prototype._processReaddir2=function(e,t,r,n,i,s,o,u){if(!o)return u();for(var a=n[0],c=!!this.minimatch.negate,l=a._glob,f=this.dot||l.charAt(0)===".",d=[],h=0;h<o.length;h++){var p=o[h];if(p.charAt(0)!=="."||f){var v;c&&!e?v=!p.match(a):v=p.match(a),v&&d.push(p)}}var m=d.length;if(m===0)return u();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<m;h++){var p=d[h];e&&(e!=="/"?p=e+"/"+p:p=e+p),p.charAt(0)==="/"&&!this.nomount&&(p=Jn.join(this.root,p)),this._emitMatch(i,p)}return u()}n.shift();for(var h=0;h<m;h++){var p=d[h],E;e&&(e!=="/"?p=e+"/"+p:p=e+p),this._process([p].concat(n),i,s,u)}u()};B.prototype._emitMatch=function(e,t){if(!this.aborted&&!rd(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=_t(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};B.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=ei(r,s);i&&n.fs.lstat(e,i);function s(o,u){if(o&&o.code==="ENOENT")return t();var a=u&&u.isSymbolicLink();n.symlinks[e]=a,!a&&u&&!u.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};B.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=ei("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!Xn(this.symlinks,e))return this._readdirInGlobStar(e,r);if(Xn(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,od(this,e,r))}};function od(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}B.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};B.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};B.prototype._processGlobStar=function(e,t,r,n,i,s,o){var u=this;this._readdir(r,s,function(a,c){u._processGlobStar2(e,t,r,n,i,s,c,o)})};B.prototype._processGlobStar2=function(e,t,r,n,i,s,o,u){if(!o)return u();var a=n.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,i,!1,u);var f=this.symlinks[r],d=o.length;if(f&&s)return u();for(var h=0;h<d;h++){var p=o[h];if(!(p.charAt(0)==="."&&!this.dot)){var v=c.concat(o[h],a);this._process(v,i,!0,u);var m=c.concat(o[h],n);this._process(m,i,!0,u)}}u()};B.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,s){n._processSimple2(e,t,i,s,r)})};B.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&_t(e)&&!this.nomount){var s=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Jn.join(this.root,e):(e=Jn.resolve(this.root,e),s&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};B.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Xn(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return t(null,o);var u=o.isDirectory()?"DIR":"FILE";return n&&u==="FILE"?t():t(null,u,o)}var a=this,c=ei("stat\0"+r,l);c&&a.fs.lstat(r,c);function l(f,d){if(d&&d.isSymbolicLink())return a.fs.stat(r,function(h,p){h?a._stat2(e,r,null,d,t):a._stat2(e,r,h,p,t)});a._stat2(e,r,f,d,t)}};B.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var s=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,s&&o==="FILE"?i():i(null,o,n)}});var ga=g((Lg,pa)=>{var C=require("assert"),fa=require("path"),ua=require("fs"),rt;try{rt=Wn()}catch{}var ad={nosort:!0,silent:!0},ti=0,Et=process.platform==="win32",da=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||ua[r],r=r+"Sync",e[r]=e[r]||ua[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&rt===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||ad},ni=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),C(e,"rimraf: missing path"),C.equal(typeof e,"string","rimraf: path should be a string"),C.equal(typeof r,"function","rimraf: callback function required"),C(t,"rimraf: invalid options argument provided"),C.equal(typeof t,"object","rimraf: options should be object"),da(t);let n=0,i=null,s=0,o=a=>{i=i||a,--s===0&&r(i)},u=(a,c)=>{if(a)return r(a);if(s=c.length,s===0)return r();c.forEach(l=>{let f=d=>{if(d){if((d.code==="EBUSY"||d.code==="ENOTEMPTY"||d.code==="EPERM")&&n<t.maxBusyTries)return n++,setTimeout(()=>ri(l,t,f),n*100);if(d.code==="EMFILE"&&ti<t.emfileWait)return setTimeout(()=>ri(l,t,f),ti++);d.code==="ENOENT"&&(d=null)}ti=0,o(d)};ri(l,t,f)})};if(t.disableGlob||!rt.hasMagic(e))return u(null,[e]);t.lstat(e,(a,c)=>{if(!a)return u(null,[e]);rt(e,t.glob,u)})},ri=(e,t,r)=>{C(e),C(t),C(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&Et&&ca(e,t,n,r),i&&i.isDirectory())return ar(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return Et?ca(e,t,s,r):ar(e,t,s,r);if(s.code==="EISDIR")return ar(e,t,s,r)}return r(s)})})},ca=(e,t,r,n)=>{C(e),C(t),C(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?ar(e,t,r,n):t.unlink(e,n)})})},la=(e,t,r)=>{C(e),C(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?ur(e,t,r):t.unlinkSync(e)},ar=(e,t,r,n)=>{C(e),C(t),C(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?ud(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},ud=(e,t,r)=>{C(e),C(t),C(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length;if(s===0)return t.rmdir(e,r);let o;i.forEach(u=>{ni(fa.join(e,u),t,a=>{if(!o){if(a)return r(o=a);--s===0&&t.rmdir(e,r)}})})})},ha=(e,t)=>{t=t||{},da(t),C(e,"rimraf: missing path"),C.equal(typeof e,"string","rimraf: path should be a string"),C(t,"rimraf: missing options"),C.equal(typeof t,"object","rimraf: options should be object");let r;if(t.disableGlob||!rt.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch{r=rt.sync(e,t.glob)}if(r.length)for(let n=0;n<r.length;n++){let i=r[n],s;try{s=t.lstatSync(i)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&Et&&la(i,t,o)}try{s&&s.isDirectory()?ur(i,t,null):t.unlinkSync(i)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return Et?la(i,t,o):ur(i,t,o);if(o.code!=="EISDIR")throw o;ur(i,t,o)}}},ur=(e,t,r)=>{C(e),C(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&cd(e,t)}},cd=(e,t)=>{C(e),C(t),t.readdirSync(e).forEach(i=>ha(fa.join(e,i),t));let r=Et?100:1,n=0;do{let i=!0;try{let s=t.rmdirSync(e,t);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)};pa.exports=ni;ni.sync=ha});var Ta=g((zg,ve)=>{var P=require("fs"),ui=require("os"),K=require("path"),ma=require("crypto"),fe={fs:P.constants,os:ui.constants},_a=ga(),va="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Ea=/XXXXXX/,ld=3,wa=(fe.O_CREAT||fe.fs.O_CREAT)|(fe.O_EXCL||fe.fs.O_EXCL)|(fe.O_RDWR||fe.fs.O_RDWR),fd=ui.platform()==="win32",dd=fe.EBADF||fe.os.errno.EBADF,hd=fe.ENOENT||fe.os.errno.ENOENT,Ba=448,Aa=384,pd="exit",nt=[],Sa=P.rmdirSync.bind(P),ba=_a.sync,Ca=!1;function ci(e,t){let r=it(e,t),n=r[0],i=r[1];try{Oa(n)}catch(o){return i(o)}let s=n.tries;(function o(){try{let u=Ia(n);P.stat(u,function(a){if(!a)return s-- >0?o():i(new Error("Could not get a unique tmp filename, max tries reached "+u));i(null,u)})}catch(u){i(u)}})()}function li(e){let t=it(e),r=t[0];Oa(r);let n=r.tries;do{let i=Ia(r);try{P.statSync(i)}catch{return i}}while(n-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function gd(e,t){let r=it(e,t),n=r[0],i=r[1];ci(n,function(o,u){if(o)return i(o);P.open(u,wa,n.mode||Aa,function(c,l){if(c)return i(c);if(n.discardDescriptor)return P.close(l,function(d){return i(d,u,void 0,si(u,-1,n,!1))});{let f=n.discardDescriptor||n.detachDescriptor;i(null,u,l,si(u,f?-1:l,n,!1))}})})}function md(e){let t=it(e),r=t[0],n=r.discardDescriptor||r.detachDescriptor,i=li(r);var s=P.openSync(i,wa,r.mode||Aa);return r.discardDescriptor&&(P.closeSync(s),s=void 0),{name:i,fd:s,removeCallback:si(i,n?-1:s,r,!0)}}function vd(e,t){let r=it(e,t),n=r[0],i=r[1];ci(n,function(o,u){if(o)return i(o);P.mkdir(u,n.mode||Ba,function(c){if(c)return i(c);i(null,u,Da(u,n,!1))})})}function yd(e){let t=it(e),r=t[0],n=li(r);return P.mkdirSync(n,r.mode||Ba),{name:n,removeCallback:Da(n,r,!0)}}function _d(e,t){let r=function(n){if(n&&!ai(n))return t(n);t()};0<=e[0]?P.close(e[0],function(){P.unlink(e[1],r)}):P.unlink(e[1],r)}function Ed(e){let t=null;try{0<=e[0]&&P.closeSync(e[0])}catch(r){if(!Bd(r)&&!ai(r))throw r}finally{try{P.unlinkSync(e[1])}catch(r){ai(r)||(t=r)}}if(t!==null)throw t}function si(e,t,r,n){let i=cr(Ed,[t,e],n),s=cr(_d,[t,e],n,i);return r.keep||nt.unshift(i),n?i:s}function Da(e,t,r){let n=t.unsafeCleanup?_a:P.rmdir.bind(P),i=t.unsafeCleanup?ba:Sa,s=cr(i,e,r),o=cr(n,e,r,s);return t.keep||nt.unshift(s),r?s:o}function cr(e,t,r,n){let i=!1;return function s(o){if(!i){let u=n||s,a=nt.indexOf(u);return a>=0&&nt.splice(a,1),i=!0,r||e===Sa||e===ba?e(t):e(t,o||function(){})}}}function wd(){if(Ca)for(;nt.length;)try{nt[0]()}catch{}}function ya(e){let t=[],r=null;try{r=ma.randomBytes(e)}catch{r=ma.pseudoRandomBytes(e)}for(var n=0;n<e;n++)t.push(va[r[n]%va.length]);return t.join("")}function Fa(e){return e===null||H(e)||!e.trim()}function H(e){return typeof e>"u"}function it(e,t){if(typeof e=="function")return[{},e];if(H(e))return[{},t];let r={};for(let n of Object.getOwnPropertyNames(e))r[n]=e[n];return[r,t]}function Ia(e){let t=e.tmpdir;if(!H(e.name))return K.join(t,e.dir,e.name);if(!H(e.template))return K.join(t,e.dir,e.template).replace(Ea,ya(6));let r=[e.prefix?e.prefix:"tmp","-",process.pid,"-",ya(12),e.postfix?"-"+e.postfix:""].join("");return K.join(t,e.dir,r)}function Oa(e){e.tmpdir=Ra(e);let t=e.tmpdir;if(H(e.name)||ii(e.name,"name",t),H(e.dir)||ii(e.dir,"dir",t),!H(e.template)&&(ii(e.template,"template",t),!e.template.match(Ea)))throw new Error(`Invalid template, found "${e.template}".`);if(!H(e.tries)&&isNaN(e.tries)||e.tries<0)throw new Error(`Invalid tries, found "${e.tries}".`);e.tries=H(e.name)?e.tries||ld:1,e.keep=!!e.keep,e.detachDescriptor=!!e.detachDescriptor,e.discardDescriptor=!!e.discardDescriptor,e.unsafeCleanup=!!e.unsafeCleanup,e.dir=H(e.dir)?"":K.relative(t,oi(e.dir,t)),e.template=H(e.template)?void 0:K.relative(t,oi(e.template,t)),e.template=Fa(e.template)?void 0:K.relative(e.dir,e.template),e.name=H(e.name)?void 0:fi(e.name),e.prefix=H(e.prefix)?"":e.prefix,e.postfix=H(e.postfix)?"":e.postfix}function oi(e,t){let r=fi(e);return r.startsWith(t)?K.resolve(r):K.resolve(K.join(t,r))}function fi(e){return Fa(e)?e:e.replace(/["']/g,"")}function ii(e,t,r){if(t==="name"){if(K.isAbsolute(e))throw new Error(`${t} option must not contain an absolute path, found "${e}".`);let n=K.basename(e);if(n===".."||n==="."||n!==e)throw new Error(`${t} option must not contain a path, found "${e}".`)}else{if(K.isAbsolute(e)&&!e.startsWith(r))throw new Error(`${t} option must be relative to "${r}", found "${e}".`);let n=oi(e,r);if(!n.startsWith(r))throw new Error(`${t} option must be relative to "${r}", found "${n}".`)}}function Bd(e){return xa(e,-dd,"EBADF")}function ai(e){return xa(e,-hd,"ENOENT")}function xa(e,t,r){return fd?e.code===r:e.code===r&&e.errno===t}function Ad(){Ca=!0}function Ra(e){return K.resolve(fi(e&&e.tmpdir||ui.tmpdir()))}process.addListener(pd,wd);Object.defineProperty(ve.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return Ra()}});ve.exports.dir=vd;ve.exports.dirSync=yd;ve.exports.file=gd;ve.exports.fileSync=md;ve.exports.tmpName=ci;ve.exports.tmpNameSync=li;ve.exports.setGracefulCleanup=Ad});var Pa=g((Hg,J)=>{"use strict";var{promisify:wt}=require("util"),Pe=Ta();J.exports.fileSync=Pe.fileSync;var Sd=wt((e,t)=>Pe.file(e,(r,n,i,s)=>r?t(r):t(void 0,{path:n,fd:i,cleanup:wt(s)})));J.exports.file=async e=>Sd(e);J.exports.withFile=async function(t,r){let{path:n,fd:i,cleanup:s}=await J.exports.file(r);try{return await t({path:n,fd:i})}finally{await s()}};J.exports.dirSync=Pe.dirSync;var bd=wt((e,t)=>Pe.dir(e,(r,n,i)=>r?t(r):t(void 0,{path:n,cleanup:wt(i)})));J.exports.dir=async e=>bd(e);J.exports.withDir=async function(t,r){let{path:n,cleanup:i}=await J.exports.dir(r);try{return await t({path:n})}finally{await i()}};J.exports.tmpNameSync=Pe.tmpNameSync;J.exports.tmpName=wt(Pe.tmpName);J.exports.tmpdir=Pe.tmpdir;J.exports.setGracefulCleanup=Pe.setGracefulCleanup});var st=g(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.getRetentionDays=D.getWorkSpaceDirectory=D.getWorkFlowRunId=D.getRuntimeUrl=D.getRuntimeToken=D.getDownloadFileConcurrency=D.getInitialRetryIntervalInMilliseconds=D.getRetryMultiplier=D.getRetryLimit=D.getUploadChunkSize=D.getUploadFileConcurrency=void 0;function Cd(){return 2}D.getUploadFileConcurrency=Cd;function Dd(){return 8*1024*1024}D.getUploadChunkSize=Dd;function Fd(){return 5}D.getRetryLimit=Fd;function Id(){return 1.5}D.getRetryMultiplier=Id;function Od(){return 3e3}D.getInitialRetryIntervalInMilliseconds=Od;function xd(){return 2}D.getDownloadFileConcurrency=xd;function Rd(){let e=process.env.ACTIONS_RUNTIME_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_RUNTIME_TOKEN env variable");return e}D.getRuntimeToken=Rd;function Td(){let e=process.env.ACTIONS_RUNTIME_URL;if(!e)throw new Error("Unable to get ACTIONS_RUNTIME_URL env variable");return e}D.getRuntimeUrl=Td;function Pd(){let e=process.env.GITHUB_RUN_ID;if(!e)throw new Error("Unable to get GITHUB_RUN_ID env variable");return e}D.getWorkFlowRunId=Pd;function qd(){let e=process.env.GITHUB_WORKSPACE;if(!e)throw new Error("Unable to get GITHUB_WORKSPACE env variable");return e}D.getWorkSpaceDirectory=qd;function kd(){return process.env.GITHUB_RETENTION_DAYS}D.getRetentionDays=kd});var qa=g(di=>{"use strict";Object.defineProperty(di,"__esModule",{value:!0});var Md=[BigInt("0x0000000000000000"),BigInt("0x7F6EF0C830358979"),BigInt("0xFEDDE190606B12F2"),BigInt("0x81B31158505E9B8B"),BigInt("0xC962E5739841B68F"),BigInt("0xB60C15BBA8743FF6"),BigInt("0x37BF04E3F82AA47D"),BigInt("0x48D1F42BC81F2D04"),BigInt("0xA61CECB46814FE75"),BigInt("0xD9721C7C5821770C"),BigInt("0x58C10D24087FEC87"),BigInt("0x27AFFDEC384A65FE"),BigInt("0x6F7E09C7F05548FA"),BigInt("0x1010F90FC060C183"),BigInt("0x91A3E857903E5A08"),BigInt("0xEECD189FA00BD371"),BigInt("0x78E0FF3B88BE6F81"),BigInt("0x078E0FF3B88BE6F8"),BigInt("0x863D1EABE8D57D73"),BigInt("0xF953EE63D8E0F40A"),BigInt("0xB1821A4810FFD90E"),BigInt("0xCEECEA8020CA5077"),BigInt("0x4F5FFBD87094CBFC"),BigInt("0x30310B1040A14285"),BigInt("0xDEFC138FE0AA91F4"),BigInt("0xA192E347D09F188D"),BigInt("0x2021F21F80C18306"),BigInt("0x5F4F02D7B0F40A7F"),BigInt("0x179EF6FC78EB277B"),BigInt("0x68F0063448DEAE02"),BigInt("0xE943176C18803589"),BigInt("0x962DE7A428B5BCF0"),BigInt("0xF1C1FE77117CDF02"),BigInt("0x8EAF0EBF2149567B"),BigInt("0x0F1C1FE77117CDF0"),BigInt("0x7072EF2F41224489"),BigInt("0x38A31B04893D698D"),BigInt("0x47CDEBCCB908E0F4"),BigInt("0xC67EFA94E9567B7F"),BigInt("0xB9100A5CD963F206"),BigInt("0x57DD12C379682177"),BigInt("0x28B3E20B495DA80E"),BigInt("0xA900F35319033385"),BigInt("0xD66E039B2936BAFC"),BigInt("0x9EBFF7B0E12997F8"),BigInt("0xE1D10778D11C1E81"),BigInt("0x606216208142850A"),BigInt("0x1F0CE6E8B1770C73"),BigInt("0x8921014C99C2B083"),BigInt("0xF64FF184A9F739FA"),BigInt("0x77FCE0DCF9A9A271"),BigInt("0x08921014C99C2B08"),BigInt("0x4043E43F0183060C"),BigInt("0x3F2D14F731B68F75"),BigInt("0xBE9E05AF61E814FE"),BigInt("0xC1F0F56751DD9D87"),BigInt("0x2F3DEDF8F1D64EF6"),BigInt("0x50531D30C1E3C78F"),BigInt("0xD1E00C6891BD5C04"),BigInt("0xAE8EFCA0A188D57D"),BigInt("0xE65F088B6997F879"),BigInt("0x9931F84359A27100"),BigInt("0x1882E91B09FCEA8B"),BigInt("0x67EC19D339C963F2"),BigInt("0xD75ADABD7A6E2D6F"),BigInt("0xA8342A754A5BA416"),BigInt("0x29873B2D1A053F9D"),BigInt("0x56E9CBE52A30B6E4"),BigInt("0x1E383FCEE22F9BE0"),BigInt("0x6156CF06D21A1299"),BigInt("0xE0E5DE5E82448912"),BigInt("0x9F8B2E96B271006B"),BigInt("0x71463609127AD31A"),BigInt("0x0E28C6C1224F5A63"),BigInt("0x8F9BD7997211C1E8"),BigInt("0xF0F5275142244891"),BigInt("0xB824D37A8A3B6595"),BigInt("0xC74A23B2BA0EECEC"),BigInt("0x46F932EAEA507767"),BigInt("0x3997C222DA65FE1E"),BigInt("0xAFBA2586F2D042EE"),BigInt("0xD0D4D54EC2E5CB97"),BigInt("0x5167C41692BB501C"),BigInt("0x2E0934DEA28ED965"),BigInt("0x66D8C0F56A91F461"),BigInt("0x19B6303D5AA47D18"),BigInt("0x980521650AFAE693"),BigInt("0xE76BD1AD3ACF6FEA"),BigInt("0x09A6C9329AC4BC9B"),BigInt("0x76C839FAAAF135E2"),BigInt("0xF77B28A2FAAFAE69"),BigInt("0x8815D86ACA9A2710"),BigInt("0xC0C42C4102850A14"),BigInt("0xBFAADC8932B0836D"),BigInt("0x3E19CDD162EE18E6"),BigInt("0x41773D1952DB919F"),BigInt("0x269B24CA6B12F26D"),BigInt("0x59F5D4025B277B14"),BigInt("0xD846C55A0B79E09F"),BigInt("0xA72835923B4C69E6"),BigInt("0xEFF9C1B9F35344E2"),BigInt("0x90973171C366CD9B"),BigInt("0x1124202993385610"),BigInt("0x6E4AD0E1A30DDF69"),BigInt("0x8087C87E03060C18"),BigInt("0xFFE938B633338561"),BigInt("0x7E5A29EE636D1EEA"),BigInt("0x0134D92653589793"),BigInt("0x49E52D0D9B47BA97"),BigInt("0x368BDDC5AB7233EE"),BigInt("0xB738CC9DFB2CA865"),BigInt("0xC8563C55CB19211C"),BigInt("0x5E7BDBF1E3AC9DEC"),BigInt("0x21152B39D3991495"),BigInt("0xA0A63A6183C78F1E"),BigInt("0xDFC8CAA9B3F20667"),BigInt("0x97193E827BED2B63"),BigInt("0xE877CE4A4BD8A21A"),BigInt("0x69C4DF121B863991"),BigInt("0x16AA2FDA2BB3B0E8"),BigInt("0xF86737458BB86399"),BigInt("0x8709C78DBB8DEAE0"),BigInt("0x06BAD6D5EBD3716B"),BigInt("0x79D4261DDBE6F812"),BigInt("0x3105D23613F9D516"),BigInt("0x4E6B22FE23CC5C6F"),BigInt("0xCFD833A67392C7E4"),BigInt("0xB0B6C36E43A74E9D"),BigInt("0x9A6C9329AC4BC9B5"),BigInt("0xE50263E19C7E40CC"),BigInt("0x64B172B9CC20DB47"),BigInt("0x1BDF8271FC15523E"),BigInt("0x530E765A340A7F3A"),BigInt("0x2C608692043FF643"),BigInt("0xADD397CA54616DC8"),BigInt("0xD2BD67026454E4B1"),BigInt("0x3C707F9DC45F37C0"),BigInt("0x431E8F55F46ABEB9"),BigInt("0xC2AD9E0DA4342532"),BigInt("0xBDC36EC59401AC4B"),BigInt("0xF5129AEE5C1E814F"),BigInt("0x8A7C6A266C2B0836"),BigInt("0x0BCF7B7E3C7593BD"),BigInt("0x74A18BB60C401AC4"),BigInt("0xE28C6C1224F5A634"),BigInt("0x9DE29CDA14C02F4D"),BigInt("0x1C518D82449EB4C6"),BigInt("0x633F7D4A74AB3DBF"),BigInt("0x2BEE8961BCB410BB"),BigInt("0x548079A98C8199C2"),BigInt("0xD53368F1DCDF0249"),BigInt("0xAA5D9839ECEA8B30"),BigInt("0x449080A64CE15841"),BigInt("0x3BFE706E7CD4D138"),BigInt("0xBA4D61362C8A4AB3"),BigInt("0xC52391FE1CBFC3CA"),BigInt("0x8DF265D5D4A0EECE"),BigInt("0xF29C951DE49567B7"),BigInt("0x732F8445B4CBFC3C"),BigInt("0x0C41748D84FE7545"),BigInt("0x6BAD6D5EBD3716B7"),BigInt("0x14C39D968D029FCE"),BigInt("0x95708CCEDD5C0445"),BigInt("0xEA1E7C06ED698D3C"),BigInt("0xA2CF882D2576A038"),BigInt("0xDDA178E515432941"),BigInt("0x5C1269BD451DB2CA"),BigInt("0x237C997575283BB3"),BigInt("0xCDB181EAD523E8C2"),BigInt("0xB2DF7122E51661BB"),BigInt("0x336C607AB548FA30"),BigInt("0x4C0290B2857D7349"),BigInt("0x04D364994D625E4D"),BigInt("0x7BBD94517D57D734"),BigInt("0xFA0E85092D094CBF"),BigInt("0x856075C11D3CC5C6"),BigInt("0x134D926535897936"),BigInt("0x6C2362AD05BCF04F"),BigInt("0xED9073F555E26BC4"),BigInt("0x92FE833D65D7E2BD"),BigInt("0xDA2F7716ADC8CFB9"),BigInt("0xA54187DE9DFD46C0"),BigInt("0x24F29686CDA3DD4B"),BigInt("0x5B9C664EFD965432"),BigInt("0xB5517ED15D9D8743"),BigInt("0xCA3F8E196DA80E3A"),BigInt("0x4B8C9F413DF695B1"),BigInt("0x34E26F890DC31CC8"),BigInt("0x7C339BA2C5DC31CC"),BigInt("0x035D6B6AF5E9B8B5"),BigInt("0x82EE7A32A5B7233E"),BigInt("0xFD808AFA9582AA47"),BigInt("0x4D364994D625E4DA"),BigInt("0x3258B95CE6106DA3"),BigInt("0xB3EBA804B64EF628"),BigInt("0xCC8558CC867B7F51"),BigInt("0x8454ACE74E645255"),BigInt("0xFB3A5C2F7E51DB2C"),BigInt("0x7A894D772E0F40A7"),BigInt("0x05E7BDBF1E3AC9DE"),BigInt("0xEB2AA520BE311AAF"),BigInt("0x944455E88E0493D6"),BigInt("0x15F744B0DE5A085D"),BigInt("0x6A99B478EE6F8124"),BigInt("0x224840532670AC20"),BigInt("0x5D26B09B16452559"),BigInt("0xDC95A1C3461BBED2"),BigInt("0xA3FB510B762E37AB"),BigInt("0x35D6B6AF5E9B8B5B"),BigInt("0x4AB846676EAE0222"),BigInt("0xCB0B573F3EF099A9"),BigInt("0xB465A7F70EC510D0"),BigInt("0xFCB453DCC6DA3DD4"),BigInt("0x83DAA314F6EFB4AD"),BigInt("0x0269B24CA6B12F26"),BigInt("0x7D0742849684A65F"),BigInt("0x93CA5A1B368F752E"),BigInt("0xECA4AAD306BAFC57"),BigInt("0x6D17BB8B56E467DC"),BigInt("0x12794B4366D1EEA5"),BigInt("0x5AA8BF68AECEC3A1"),BigInt("0x25C64FA09EFB4AD8"),BigInt("0xA4755EF8CEA5D153"),BigInt("0xDB1BAE30FE90582A"),BigInt("0xBCF7B7E3C7593BD8"),BigInt("0xC399472BF76CB2A1"),BigInt("0x422A5673A732292A"),BigInt("0x3D44A6BB9707A053"),BigInt("0x759552905F188D57"),BigInt("0x0AFBA2586F2D042E"),BigInt("0x8B48B3003F739FA5"),BigInt("0xF42643C80F4616DC"),BigInt("0x1AEB5B57AF4DC5AD"),BigInt("0x6585AB9F9F784CD4"),BigInt("0xE436BAC7CF26D75F"),BigInt("0x9B584A0FFF135E26"),BigInt("0xD389BE24370C7322"),BigInt("0xACE74EEC0739FA5B"),BigInt("0x2D545FB4576761D0"),BigInt("0x523AAF7C6752E8A9"),BigInt("0xC41748D84FE75459"),BigInt("0xBB79B8107FD2DD20"),BigInt("0x3ACAA9482F8C46AB"),BigInt("0x45A459801FB9CFD2"),BigInt("0x0D75ADABD7A6E2D6"),BigInt("0x721B5D63E7936BAF"),BigInt("0xF3A84C3BB7CDF024"),BigInt("0x8CC6BCF387F8795D"),BigInt("0x620BA46C27F3AA2C"),BigInt("0x1D6554A417C62355"),BigInt("0x9CD645FC4798B8DE"),BigInt("0xE3B8B53477AD31A7"),BigInt("0xAB69411FBFB21CA3"),BigInt("0xD407B1D78F8795DA"),BigInt("0x55B4A08FDFD90E51"),BigInt("0x2ADA5047EFEC8728")],ot=class{constructor(){this._crc=BigInt(0)}update(t){let r=typeof t=="string"?Buffer.from(t):t,n=ot.flip64Bits(this._crc);for(let i of r){let s=Number(n&BigInt(255));n=Md[s^i]^n>>BigInt(8)}this._crc=ot.flip64Bits(n)}digest(t){switch(t){case"hex":return this._crc.toString(16).toUpperCase();case"base64":return this.toBuffer().toString("base64");default:return this.toBuffer()}}toBuffer(){return Buffer.from([0,8,16,24,32,40,48,56].map(t=>Number(this._crc>>BigInt(t)&BigInt(255))))}static flip64Bits(t){return(BigInt(1)<<BigInt(64))-BigInt(1)-t}};di.default=ot});var ut=g(_=>{"use strict";var at=_&&_.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})},ka=_&&_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});_.digestForStream=_.sleep=_.getProperRetention=_.rmFile=_.getFileSize=_.createEmptyFilesForArtifact=_.createDirectoriesForArtifact=_.displayHttpDiagnostics=_.getArtifactUrl=_.createHttpClient=_.getUploadHeaders=_.getDownloadHeaders=_.getContentRange=_.tryGetRetryAfterValueTimeInMilliseconds=_.isThrottledStatusCode=_.isRetryableStatusCode=_.isForbiddenStatusCode=_.isSuccessStatusCode=_.getApiVersion=_.parseEnvNumber=_.getExponentialRetryTimeInMilliseconds=void 0;var Nd=ka(require("crypto")),lr=require("fs"),ze=se(),qe=Xt(),jd=En(),Le=st(),Ud=ka(qa());function $d(e){if(e<0)throw new Error("RetryCount should not be negative");if(e===0)return Le.getInitialRetryIntervalInMilliseconds();let t=Le.getInitialRetryIntervalInMilliseconds()*Le.getRetryMultiplier()*e,r=t*Le.getRetryMultiplier();return Math.trunc(Math.random()*(r-t)+t)}_.getExponentialRetryTimeInMilliseconds=$d;function Ld(e){let t=Number(process.env[e]);if(!(Number.isNaN(t)||t<0))return t}_.parseEnvNumber=Ld;function Bt(){return"6.0-preview"}_.getApiVersion=Bt;function zd(e){return e?e>=200&&e<300:!1}_.isSuccessStatusCode=zd;function Hd(e){return e?e===qe.HttpCodes.Forbidden:!1}_.isForbiddenStatusCode=Hd;function Gd(e){return e?[qe.HttpCodes.BadGateway,qe.HttpCodes.GatewayTimeout,qe.HttpCodes.InternalServerError,qe.HttpCodes.ServiceUnavailable,qe.HttpCodes.TooManyRequests,413].includes(e):!1}_.isRetryableStatusCode=Gd;function Wd(e){return e?e===qe.HttpCodes.TooManyRequests:!1}_.isThrottledStatusCode=Wd;function Vd(e){if(e["retry-after"]){let t=Number(e["retry-after"]);if(!isNaN(t))return ze.info(`Retry-After header is present with a value of ${t}`),t*1e3;ze.info(`Returned retry-after header value: ${t} is non-numeric and cannot be used`);return}ze.info("No retry-after header was found. Dumping all headers for diagnostic purposes"),console.log(e)}_.tryGetRetryAfterValueTimeInMilliseconds=Vd;function Yd(e,t,r){return`bytes ${e}-${t}/${r}`}_.getContentRange=Yd;function Kd(e,t,r){let n={};return e&&(n["Content-Type"]=e),t&&(n.Connection="Keep-Alive",n["Keep-Alive"]="10"),r?(n["Accept-Encoding"]="gzip",n.Accept=`application/octet-stream;api-version=${Bt()}`):n.Accept=`application/json;api-version=${Bt()}`,n}_.getDownloadHeaders=Kd;function Jd(e,t,r,n,i,s,o){let u={};return u.Accept=`application/json;api-version=${Bt()}`,e&&(u["Content-Type"]=e),t&&(u.Connection="Keep-Alive",u["Keep-Alive"]="10"),r&&(u["Content-Encoding"]="gzip",u["x-tfs-filelength"]=n),i&&(u["Content-Length"]=i),s&&(u["Content-Range"]=s),o&&(u["x-actions-results-crc64"]=o.crc64,u["x-actions-results-md5"]=o.md5),u}_.getUploadHeaders=Jd;function Qd(e){return new qe.HttpClient(e,[new jd.BearerCredentialHandler(Le.getRuntimeToken())])}_.createHttpClient=Qd;function Xd(){let e=`${Le.getRuntimeUrl()}_apis/pipelines/workflows/${Le.getWorkFlowRunId()}/artifacts?api-version=${Bt()}`;return ze.debug(`Artifact Url: ${e}`),e}_.getArtifactUrl=Xd;function Zd(e){ze.info(`##### Begin Diagnostic HTTP information #####
Status Code: ${e.message.statusCode}
Status Message: ${e.message.statusMessage}
Header Information: ${JSON.stringify(e.message.headers,void 0,2)}
###### End Diagnostic HTTP information ######`)}_.displayHttpDiagnostics=Zd;function eh(e){return at(this,void 0,void 0,function*(){for(let t of e)yield lr.promises.mkdir(t,{recursive:!0})})}_.createDirectoriesForArtifact=eh;function th(e){return at(this,void 0,void 0,function*(){for(let t of e)yield(yield lr.promises.open(t,"w")).close()})}_.createEmptyFilesForArtifact=th;function rh(e){return at(this,void 0,void 0,function*(){let t=yield lr.promises.stat(e);return ze.debug(`${e} size:(${t.size}) blksize:(${t.blksize}) blocks:(${t.blocks})`),t.size})}_.getFileSize=rh;function nh(e){return at(this,void 0,void 0,function*(){yield lr.promises.unlink(e)})}_.rmFile=nh;function ih(e,t){if(e<0)throw new Error("Invalid retention, minimum value is 1.");let r=e;if(t){let n=parseInt(t);!isNaN(n)&&n<r&&(ze.warning(`Retention days is greater than the max value allowed by the repository setting, reduce retention to ${n} days`),r=n)}return r}_.getProperRetention=ih;function sh(e){return at(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(t,e))})}_.sleep=sh;function oh(e){return at(this,void 0,void 0,function*(){return new Promise((t,r)=>{let n=new Ud.default,i=Nd.default.createHash("md5");e.on("data",s=>{n.update(s),i.update(s)}).on("end",()=>t({crc64:n.digest("base64"),md5:i.digest("base64")})).on("error",r)})})}_.digestForStream=oh});var pi=g(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.StatusReporter=void 0;var Ma=se(),hi=class{constructor(t){this.totalNumberOfFilesToProcess=0,this.processedCount=0,this.largeFiles=new Map,this.totalFileStatus=void 0,this.displayFrequencyInMilliseconds=t}setTotalNumberOfFilesToProcess(t){this.totalNumberOfFilesToProcess=t,this.processedCount=0}start(){this.totalFileStatus=setInterval(()=>{let t=this.formatPercentage(this.processedCount,this.totalNumberOfFilesToProcess);Ma.info(`Total file count: ${this.totalNumberOfFilesToProcess} ---- Processed file #${this.processedCount} (${t.slice(0,t.indexOf(".")+2)}%)`)},this.displayFrequencyInMilliseconds)}updateLargeFileStatus(t,r,n,i){let s=this.formatPercentage(n,i);Ma.info(`Uploaded ${t} (${s.slice(0,s.indexOf(".")+2)}%) bytes ${r}:${n}`)}stop(){this.totalFileStatus&&clearInterval(this.totalFileStatus)}incrementProcessedCount(){this.processedCount++}formatPercentage(t,r){return(t/r*100).toFixed(4).toString()}};fr.StatusReporter=hi});var mi=g(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});dr.HttpManager=void 0;var Na=ut(),gi=class{constructor(t,r){if(t<1)throw new Error("There must be at least one client");this.userAgent=r,this.clients=new Array(t).fill(Na.createHttpClient(r))}getClient(t){return this.clients[t]}disposeAndReplaceClient(t){this.clients[t].dispose(),this.clients[t]=Na.createHttpClient(this.userAgent)}disposeAndReplaceAllClients(){for(let[t]of this.clients.entries())this.disposeAndReplaceClient(t)}};dr.HttpManager=gi});var $a=g(N=>{"use strict";var ah=N&&N.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uh=N&&N.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ja=N&&N.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&ah(t,e,r);return uh(t,e),t},hr=N&&N.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})},ch=N&&N.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(u,a){o=e[s](o),i(u,a,o.done,o.value)})}}function i(s,o,u,a){Promise.resolve(a).then(function(c){s({value:c,done:u})},o)}};Object.defineProperty(N,"__esModule",{value:!0});N.createGZipFileInBuffer=N.createGZipFileOnDisk=void 0;var pr=ja(require("fs")),Ua=ja(require("zlib")),lh=require("util"),fh=lh.promisify(pr.stat),dh=[".gzip",".zip",".tar.lz",".tar.gz",".tar.bz2",".7z"];function hh(e,t){return hr(this,void 0,void 0,function*(){for(let r of dh)if(e.endsWith(r))return Number.MAX_SAFE_INTEGER;return new Promise((r,n)=>{let i=pr.createReadStream(e),s=Ua.createGzip(),o=pr.createWriteStream(t);i.pipe(s).pipe(o),o.on("finish",()=>hr(this,void 0,void 0,function*(){let u=(yield fh(t)).size;r(u)})),o.on("error",u=>{console.log(u)})})})}N.createGZipFileOnDisk=hh;function ph(e){return hr(this,void 0,void 0,function*(){return new Promise(t=>hr(this,void 0,void 0,function*(){var r,n;let i=pr.createReadStream(e),s=Ua.createGzip();i.pipe(s);let o=[];try{for(var u=ch(s),a;a=yield u.next(),!a.done;){let c=a.value;o.push(c)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=u.return)&&(yield n.call(u))}finally{if(r)throw r.error}}t(Buffer.concat(o))}))})}N.createGZipFileInBuffer=ph});var vi=g(G=>{"use strict";var gh=G&&G.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mh=G&&G.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vh=G&&G.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&gh(t,e,r);return mh(t,e),t},za=G&&G.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(G,"__esModule",{value:!0});G.retryHttpClientRequest=G.retry=void 0;var ct=ut(),La=vh(se()),yh=st();function Ha(e,t,r,n){return za(this,void 0,void 0,function*(){let i,s,o=!1,u="",a,c=1;for(;c<=n;){try{if(i=yield t(),s=i.message.statusCode,ct.isSuccessStatusCode(s))return i;s&&(a=r.get(s)),o=ct.isRetryableStatusCode(s),u=`Artifact service responded with ${s}`}catch(l){o=!0,u=l.message}if(!o){La.info(`${e} - Error is not retryable`),i&&ct.displayHttpDiagnostics(i);break}La.info(`${e} - Attempt ${c} of ${n} failed with error: ${u}`),yield ct.sleep(ct.getExponentialRetryTimeInMilliseconds(c)),c++}throw i&&ct.displayHttpDiagnostics(i),Error(a?`${e} failed: ${a}`:`${e} failed: ${u}`)})}G.retry=Ha;function _h(e,t,r=new Map,n=yh.getRetryLimit()){return za(this,void 0,void 0,function*(){return yield Ha(e,t,r,n)})}G.retryHttpClientRequest=_h});var Ka=g(te=>{"use strict";var Eh=te&&te.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wh=te&&te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gr=te&&te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Eh(t,e,r);return wh(t,e),t},de=te&&te.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(te,"__esModule",{value:!0});te.UploadHttpClient=void 0;var _i=gr(require("fs")),F=gr(se()),Bh=gr(Pa()),Ah=gr(require("stream")),M=ut(),At=st(),Sh=require("util"),Ga=require("url"),Wa=require("perf_hooks"),bh=pi(),yi=Xt(),Ch=mi(),Va=$a(),Ya=vi(),Dh=Sh.promisify(_i.stat),Ei=class{constructor(){this.uploadHttpManager=new Ch.HttpManager(At.getUploadFileConcurrency(),"@actions/artifact-upload"),this.statusReporter=new bh.StatusReporter(1e4)}createArtifactInFileContainer(t,r){return de(this,void 0,void 0,function*(){let n={Type:"actions_storage",Name:t};if(r&&r.retentionDays){let f=At.getRetentionDays();n.RetentionDays=M.getProperRetention(r.retentionDays,f)}let i=JSON.stringify(n,null,2),s=M.getArtifactUrl(),o=this.uploadHttpManager.getClient(0),u=M.getUploadHeaders("application/json",!1),a=new Map([[yi.HttpCodes.Forbidden,"Artifact storage quota has been hit. Unable to upload any new artifacts"],[yi.HttpCodes.BadRequest,`The artifact name ${t} is not valid. Request URL ${s}`]]),l=yield(yield Ya.retryHttpClientRequest("Create Artifact Container",()=>de(this,void 0,void 0,function*(){return o.post(s,i,u)}),a)).readBody();return JSON.parse(l)})}uploadArtifactToFileContainer(t,r,n){return de(this,void 0,void 0,function*(){let i=At.getUploadFileConcurrency(),s=At.getUploadChunkSize();F.debug(`File Concurrency: ${i}, and Chunk Size: ${s}`);let o=[],u=!0;n&&n.continueOnError===!1&&(u=!1);for(let v of r){let m=new Ga.URL(t);m.searchParams.append("itemPath",v.uploadFilePath),o.push({file:v.absoluteFilePath,resourceUrl:m.toString(),maxChunkSize:s,continueOnError:u})}let a=[...new Array(i).keys()],c=[],l=0,f=0,d=0,h=0,p=!1;return this.statusReporter.setTotalNumberOfFilesToProcess(r.length),this.statusReporter.start(),yield Promise.all(a.map(v=>de(this,void 0,void 0,function*(){for(;l<r.length;){let m=o[l];if(l+=1,p){c.push(m.file);continue}let E=Wa.performance.now(),A=yield this.uploadFileAsync(v,m);F.isDebug()&&F.debug(`File: ${++f}/${r.length}. ${m.file} took ${(Wa.performance.now()-E).toFixed(3)} milliseconds to finish upload`),d+=A.successfulUploadSize,h+=A.totalSize,A.isSuccess===!1&&(c.push(m.file),u||(F.error("aborting artifact upload"),p=!0)),this.statusReporter.incrementProcessedCount()}}))),this.statusReporter.stop(),this.uploadHttpManager.disposeAndReplaceAllClients(),F.info(`Total size of all the files uploaded is ${d} bytes`),{uploadSize:d,totalSize:h,failedItems:c}})}uploadFileAsync(t,r){return de(this,void 0,void 0,function*(){let n=yield Dh(r.file),i=n.size,s=n.isFIFO(),o=0,u=!0,a=0,c=0,l=!0;if(!s&&i<65536){F.debug(`${r.file} is less than 64k in size. Creating a gzip file in-memory to potentially reduce the upload size`);let f=yield Va.createGZipFileInBuffer(r.file),d;return i<f.byteLength?(F.debug(`The gzip file created for ${r.file} did not help with reducing the size of the file. The original file will be uploaded as-is`),d=()=>_i.createReadStream(r.file),l=!1,c=i):(F.debug(`A gzip file created for ${r.file} helped with reducing the size of the original file. The file will be uploaded using gzip.`),d=()=>{let p=new Ah.PassThrough;return p.end(f),p},c=f.byteLength),(yield this.uploadChunk(t,r.resourceUrl,d,0,c-1,c,l,i))||(u=!1,a+=c,F.warning(`Aborting upload for ${r.file} due to failure`)),{isSuccess:u,successfulUploadSize:c-a,totalSize:i}}else{let f=yield Bh.file();F.debug(`${r.file} is greater than 64k in size. Creating a gzip file on-disk ${f.path} to potentially reduce the upload size`),c=yield Va.createGZipFileOnDisk(r.file,f.path);let d=f.path;!s&&i<c?(F.debug(`The gzip file created for ${r.file} did not help with reducing the size of the file. The original file will be uploaded as-is`),c=i,d=r.file,l=!1):F.debug(`The gzip file created for ${r.file} is smaller than the original file. The file will be uploaded using gzip.`);let h=!1;for(;o<c;){let p=Math.min(c-o,r.maxChunkSize),v=o,m=o+p-1;if(o+=r.maxChunkSize,h){a+=p;continue}(yield this.uploadChunk(t,r.resourceUrl,()=>_i.createReadStream(d,{start:v,end:m,autoClose:!1}),v,m,c,l,i))?c>8388608&&this.statusReporter.updateLargeFileStatus(r.file,v,m,c):(u=!1,a+=p,F.warning(`Aborting upload for ${r.file} due to failure`),h=!0)}return F.debug(`deleting temporary gzip file ${f.path}`),yield f.cleanup(),{isSuccess:u,successfulUploadSize:c-a,totalSize:i}}})}uploadChunk(t,r,n,i,s,o,u,a){return de(this,void 0,void 0,function*(){let c=yield M.digestForStream(n()),l=M.getUploadHeaders("application/octet-stream",!0,u,a,s-i+1,M.getContentRange(i,s,o),c),f=()=>de(this,void 0,void 0,function*(){return yield this.uploadHttpManager.getClient(t).sendStream("PUT",r,n(),l)}),d=0,h=At.getRetryLimit(),p=m=>(d++,d>h?(m&&M.displayHttpDiagnostics(m),F.info(`Retry limit has been reached for chunk at offset ${i} to ${r}`),!0):!1),v=m=>de(this,void 0,void 0,function*(){if(this.uploadHttpManager.disposeAndReplaceClient(t),m)F.info(`Backoff due to too many requests, retry #${d}. Waiting for ${m} milliseconds before continuing the upload`),yield M.sleep(m);else{let E=M.getExponentialRetryTimeInMilliseconds(d);F.info(`Exponential backoff for retry #${d}. Waiting for ${E} milliseconds before continuing the upload at offset ${i}`),yield M.sleep(E)}F.info(`Finished backoff for retry #${d}, continuing with upload`)});for(;d<=h;){let m;try{m=yield f()}catch(E){if(F.info(`An error has been caught http-client index ${t}, retrying the upload`),console.log(E),p())return!1;yield v();continue}if(yield m.readBody(),M.isSuccessStatusCode(m.message.statusCode))return!0;if(M.isRetryableStatusCode(m.message.statusCode)){if(F.info(`A ${m.message.statusCode} status code has been received, will attempt to retry the upload`),p(m))return!1;M.isThrottledStatusCode(m.message.statusCode)?yield v(M.tryGetRetryAfterValueTimeInMilliseconds(m.message.headers)):yield v()}else return F.error(`Unexpected response. Unable to upload chunk to ${r}`),M.displayHttpDiagnostics(m),!1}return!1})}patchArtifactSize(t,r){return de(this,void 0,void 0,function*(){let n=new Ga.URL(M.getArtifactUrl());n.searchParams.append("artifactName",r);let s=JSON.stringify({Size:t},null,2);F.debug(`URL is ${n.toString()}`);let o=this.uploadHttpManager.getClient(0),u=M.getUploadHeaders("application/json",!1),a=new Map([[yi.HttpCodes.NotFound,`An Artifact with the name ${r} was not found`]]);yield(yield Ya.retryHttpClientRequest("Finalize artifact upload",()=>de(this,void 0,void 0,function*(){return o.patch(n.toString(),s,u)}),a)).readBody(),F.debug(`Artifact ${r} has been successfully uploaded, total size in bytes: ${t}`)})}};te.UploadHttpClient=Ei});var Za=g(re=>{"use strict";var Fh=re&&re.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ih=re&&re.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ai=re&&re.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Fh(t,e,r);return Ih(t,e),t},oe=re&&re.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(re,"__esModule",{value:!0});re.DownloadHttpClient=void 0;var Ja=Ai(require("fs")),$=Ai(se()),Oh=Ai(require("zlib")),W=ut(),xh=require("url"),Rh=pi(),Qa=require("perf_hooks"),Th=mi(),wi=st(),Xa=vi(),Bi=class{constructor(){this.downloadHttpManager=new Th.HttpManager(wi.getDownloadFileConcurrency(),"@actions/artifact-download"),this.statusReporter=new Rh.StatusReporter(1e3)}listArtifacts(){return oe(this,void 0,void 0,function*(){let t=W.getArtifactUrl(),r=this.downloadHttpManager.getClient(0),n=W.getDownloadHeaders("application/json"),s=yield(yield Xa.retryHttpClientRequest("List Artifacts",()=>oe(this,void 0,void 0,function*(){return r.get(t,n)}))).readBody();return JSON.parse(s)})}getContainerItems(t,r){return oe(this,void 0,void 0,function*(){let n=new xh.URL(r);n.searchParams.append("itemPath",t);let i=this.downloadHttpManager.getClient(0),s=W.getDownloadHeaders("application/json"),u=yield(yield Xa.retryHttpClientRequest("Get Container Items",()=>oe(this,void 0,void 0,function*(){return i.get(n.toString(),s)}))).readBody();return JSON.parse(u)})}downloadSingleArtifact(t){return oe(this,void 0,void 0,function*(){let r=wi.getDownloadFileConcurrency();$.debug(`Download file concurrency is set to ${r}`);let n=[...new Array(r).keys()],i=0,s=0;$.info(`Total number of files that will be downloaded: ${t.length}`),this.statusReporter.setTotalNumberOfFilesToProcess(t.length),this.statusReporter.start(),yield Promise.all(n.map(o=>oe(this,void 0,void 0,function*(){for(;i<t.length;){let u=t[i];i+=1;let a=Qa.performance.now();yield this.downloadIndividualFile(o,u.sourceLocation,u.targetPath),$.isDebug()&&$.debug(`File: ${++s}/${t.length}. ${u.targetPath} took ${(Qa.performance.now()-a).toFixed(3)} milliseconds to finish downloading`),this.statusReporter.incrementProcessedCount()}}))).catch(o=>{throw new Error(`Unable to download the artifact: ${o}`)}).finally(()=>{this.statusReporter.stop(),this.downloadHttpManager.disposeAndReplaceAllClients()})})}downloadIndividualFile(t,r,n){return oe(this,void 0,void 0,function*(){let i=0,s=wi.getRetryLimit(),o=Ja.createWriteStream(n),u=W.getDownloadHeaders("application/json",!0,!0),a=()=>oe(this,void 0,void 0,function*(){return yield this.downloadHttpManager.getClient(t).get(r,u)}),c=h=>"content-encoding"in h&&h["content-encoding"]==="gzip",l=h=>oe(this,void 0,void 0,function*(){if(i++,i>s)return Promise.reject(new Error(`Retry limit has been reached. Unable to download ${r}`));if(this.downloadHttpManager.disposeAndReplaceClient(t),h)$.info(`Backoff due to too many requests, retry #${i}. Waiting for ${h} milliseconds before continuing the download`),yield W.sleep(h);else{let p=W.getExponentialRetryTimeInMilliseconds(i);$.info(`Exponential backoff for retry #${i}. Waiting for ${p} milliseconds before continuing the download`),yield W.sleep(p)}$.info(`Finished backoff for retry #${i}, continuing with download`)}),f=(h,p)=>!h||!p||process.env.ACTIONS_ARTIFACT_SKIP_DOWNLOAD_VALIDATION?($.info("Skipping download validation."),!0):parseInt(h)===p,d=h=>oe(this,void 0,void 0,function*(){o.close(),yield new Promise(p=>{o.on("close",p),o.writableFinished&&p()}),yield W.rmFile(h),o=Ja.createWriteStream(h)});for(;i<=s;){let h;try{h=yield a()}catch(v){$.info("An error occurred while attempting to download a file"),console.log(v),yield l();continue}let p=!1;if(W.isSuccessStatusCode(h.message.statusCode))try{let v=c(h.message.headers);if(yield this.pipeResponseToFile(h,o,v),v||f(h.message.headers["content-length"],yield W.getFileSize(n)))return;p=!0}catch{p=!0}if(p||W.isRetryableStatusCode(h.message.statusCode))$.info(`A ${h.message.statusCode} response code has been received while attempting to download an artifact`),d(n),W.isThrottledStatusCode(h.message.statusCode)?yield l(W.tryGetRetryAfterValueTimeInMilliseconds(h.message.headers)):yield l();else return W.displayHttpDiagnostics(h),Promise.reject(new Error(`Unexpected http ${h.message.statusCode} during download for ${r}`))}})}pipeResponseToFile(t,r,n){return oe(this,void 0,void 0,function*(){yield new Promise((i,s)=>{if(n){let o=Oh.createGunzip();t.message.on("error",u=>{$.error("An error occurred while attempting to read the response stream"),o.close(),r.close(),s(u)}).pipe(o).on("error",u=>{$.error("An error occurred while attempting to decompress the response stream"),r.close(),s(u)}).pipe(r).on("close",()=>{i()}).on("error",u=>{$.error(`An error occurred while writing a downloaded file to ${r.path}`),s(u)})}else t.message.on("error",o=>{$.error("An error occurred while attempting to read the response stream"),r.close(),s(o)}).pipe(r).on("close",()=>{i()}).on("error",o=>{$.error(`An error occurred while writing a downloaded file to ${r.path}`),s(o)})})})}};re.DownloadHttpClient=Bi});var eu=g(he=>{"use strict";var Ph=he&&he.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qh=he&&he.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kh=he&&he.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ph(t,e,r);return qh(t,e),t};Object.defineProperty(he,"__esModule",{value:!0});he.getDownloadSpecification=void 0;var mr=kh(require("path"));function Mh(e,t,r,n){let i=new Set,s={rootDownloadLocation:n?mr.join(r,e):r,directoryStructure:[],emptyFilesToCreate:[],filesToDownload:[]};for(let o of t)if(o.path.startsWith(`${e}/`)||o.path.startsWith(`${e}\\`)){let u=mr.normalize(o.path),a=mr.join(r,n?u:u.replace(e,""));o.itemType==="file"&&(i.add(mr.dirname(a)),o.fileLength===0?s.emptyFilesToCreate.push(a):s.filesToDownload.push({sourceLocation:o.contentLocation,targetPath:a}))}return s.directoryStructure=Array.from(i),s}he.getDownloadSpecification=Mh});var iu=g(ne=>{"use strict";var Nh=ne&&ne.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jh=ne&&ne.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Uh=ne&&ne.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Nh(t,e,r);return jh(t,e),t},Si=ne&&ne.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(l){try{c(n.next(l))}catch(f){o(f)}}function a(l){try{c(n.throw(l))}catch(f){o(f)}}function c(l){l.done?s(l.value):i(l.value).then(u,a)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(ne,"__esModule",{value:!0});ne.DefaultArtifactClient=void 0;var V=Uh(se()),$h=mo(),Lh=Ka(),vr=ut(),zh=Fn(),tu=Za(),ru=eu(),nu=st(),yr=require("path"),St=class{static create(){return new St}uploadArtifact(t,r,n,i){return Si(this,void 0,void 0,function*(){V.info(`Starting artifact upload
For more detailed logs during the artifact upload process, enable step-debugging: https://docs.github.com/actions/monitoring-and-troubleshooting-workflows/enabling-debug-logging#enabling-step-debug-logging`),zh.checkArtifactName(t);let s=$h.getUploadSpecification(t,n,r),o={artifactName:t,artifactItems:[],size:0,failedItems:[]},u=new Lh.UploadHttpClient;if(s.length===0)V.warning("No files found that can be uploaded");else{let a=yield u.createArtifactInFileContainer(t,i);if(!a.fileContainerResourceUrl)throw V.debug(a.toString()),new Error("No URL provided by the Artifact Service to upload an artifact to");V.debug(`Upload Resource URL: ${a.fileContainerResourceUrl}`),V.info(`Container for artifact "${t}" successfully created. Starting upload of file(s)`);let c=yield u.uploadArtifactToFileContainer(a.fileContainerResourceUrl,s,i);V.info("File upload process has finished. Finalizing the artifact upload"),yield u.patchArtifactSize(c.totalSize,t),c.failedItems.length>0?V.info(`Upload finished. There were ${c.failedItems.length} items that failed to upload`):V.info("Artifact has been finalized. All files have been successfully uploaded!"),V.info(`
The raw size of all the files that were specified for upload is ${c.totalSize} bytes
The size of all the files that were uploaded is ${c.uploadSize} bytes. This takes into account any gzip compression used to reduce the upload size, time and storage

Note: The size of downloaded zips can differ significantly from the reported size. For more information see: https://github.com/actions/upload-artifact#zipped-artifact-downloads \r
`),o.artifactItems=s.map(l=>l.absoluteFilePath),o.size=c.uploadSize,o.failedItems=c.failedItems}return o})}downloadArtifact(t,r,n){return Si(this,void 0,void 0,function*(){let i=new tu.DownloadHttpClient,s=yield i.listArtifacts();if(s.count===0)throw new Error("Unable to find any artifacts for the associated workflow");let o=s.value.find(c=>c.name===t);if(!o)throw new Error(`Unable to find an artifact with the name: ${t}`);let u=yield i.getContainerItems(o.name,o.fileContainerResourceUrl);r||(r=nu.getWorkSpaceDirectory()),r=yr.normalize(r),r=yr.resolve(r);let a=ru.getDownloadSpecification(t,u.value,r,(n==null?void 0:n.createArtifactFolder)||!1);return a.filesToDownload.length===0?V.info(`No downloadable files were found for the artifact: ${o.name}`):(yield vr.createDirectoriesForArtifact(a.directoryStructure),V.info("Directory structure has been setup for the artifact"),yield vr.createEmptyFilesForArtifact(a.emptyFilesToCreate),yield i.downloadSingleArtifact(a.filesToDownload)),{artifactName:t,downloadPath:a.rootDownloadLocation}})}downloadAllArtifacts(t){return Si(this,void 0,void 0,function*(){let r=new tu.DownloadHttpClient,n=[],i=yield r.listArtifacts();if(i.count===0)return V.info("Unable to find any artifacts for the associated workflow"),n;t||(t=nu.getWorkSpaceDirectory()),t=yr.normalize(t),t=yr.resolve(t);let s=0;for(;s<i.count;){let o=i.value[s];s+=1,V.info(`starting download of artifact ${o.name} : ${s}/${i.count}`);let u=yield r.getContainerItems(o.name,o.fileContainerResourceUrl),a=ru.getDownloadSpecification(o.name,u.value,t,!0);a.filesToDownload.length===0?V.info(`No downloadable files were found for any artifact ${o.name}`):(yield vr.createDirectoriesForArtifact(a.directoryStructure),yield vr.createEmptyFilesForArtifact(a.emptyFilesToCreate),yield r.downloadSingleArtifact(a.filesToDownload)),n.push({artifactName:o.name,downloadPath:a.rootDownloadLocation})}return n})}};ne.DefaultArtifactClient=St});var su=g(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.create=void 0;var Hh=iu();function Gh(){return Hh.DefaultArtifactClient.create()}_r.create=Gh});var ou=require("crypto"),au=He(ps()),Er=He(se()),uu=He(su());async function Wh(){try{let e=(0,uu.create)(),t=(0,Er.getInput)("path").split(`
`).map(n=>n.trim()).filter(Boolean),r=Array.from(new Set(t));await Promise.all(r.map(async n=>{let i=(0,ou.createHash)("sha256").update(n).digest("hex"),s=await Vh(n);return e.uploadArtifact(i,s,".",{continueOnError:!1})}))}catch(e){e instanceof Error&&(0,Er.setFailed)(e)}}function Vh(e){return new Promise((t,r)=>{(0,au.walk)(e,{entryFilter:({dirent:n})=>!n.isDirectory()},(n,i)=>{if(n){r(n);return}t(i.map(s=>s.path))})})}Wh();
/*! Bundled license information:

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

tmp/lib/tmp.js:
  (*!
   * Tmp
   *
   * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
   *
   * MIT Licensed
   *)
*/
