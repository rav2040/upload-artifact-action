"use strict";var Oa=Object.create;var Lt=Object.defineProperty;var Ra=Object.getOwnPropertyDescriptor;var xa=Object.getOwnPropertyNames;var Ta=Object.getPrototypeOf,Ma=Object.prototype.hasOwnProperty;var $=(e,t)=>()=>(e&&(t=e(e=0)),t);var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qa=(e,t)=>{for(var r in t)Lt(e,r,{get:t[r],enumerable:!0})},hi=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of xa(t))!Ma.call(e,i)&&i!==r&&Lt(e,i,{get:()=>t[i],enumerable:!(n=Ra(t,i))||n.enumerable});return e};var Ze=(e,t,r)=>(r=e!=null?Oa(Ta(e)):{},hi(t||!e||!e.__esModule?Lt(r,"default",{value:e,enumerable:!0}):r,e)),Pa=e=>hi(Lt({},"__esModule",{value:!0}),e);var zt=y(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.toCommandProperties=Ye.toCommandValue=void 0;function ja(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}Ye.toCommandValue=ja;function $a(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}Ye.toCommandProperties=$a});var mi=y(te=>{"use strict";var Na=te&&te.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ua=te&&te.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ka=te&&te.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Na(t,e,r);return Ua(t,e),t};Object.defineProperty(te,"__esModule",{value:!0});te.issue=te.issueCommand=void 0;var La=ka(require("os")),pi=zt();function gi(e,t,r){let n=new xr(e,t,r);process.stdout.write(n.toString()+La.EOL)}te.issueCommand=gi;function za(e,t=""){gi(e,{},t)}te.issue=za;var di="::",xr=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=di+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:t+=",",t+=`${n}=${Ha(i)}`)}}return t+=`${di}${Ga(this.message)}`,t}};function Ga(e){return pi.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Ha(e){return pi.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function yt(){return Gt>Ht.length-16&&(vi.default.randomFillSync(Ht),Gt=0),Ht.slice(Gt,Gt+=16)}var vi,Ht,Gt,Tr=$(()=>{vi=Ze(require("crypto")),Ht=new Uint8Array(256),Gt=Ht.length});var yi,_i=$(()=>{yi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Wa(e){return typeof e=="string"&&yi.test(e)}var Be,_t=$(()=>{_i();Be=Wa});function Va(e,t=0){let r=(T[e[t+0]]+T[e[t+1]]+T[e[t+2]]+T[e[t+3]]+"-"+T[e[t+4]]+T[e[t+5]]+"-"+T[e[t+6]]+T[e[t+7]]+"-"+T[e[t+8]]+T[e[t+9]]+"-"+T[e[t+10]]+T[e[t+11]]+T[e[t+12]]+T[e[t+13]]+T[e[t+14]]+T[e[t+15]]).toLowerCase();if(!Be(r))throw TypeError("Stringified UUID is invalid");return r}var T,Ae,wt=$(()=>{_t();T=[];for(let e=0;e<256;++e)T.push((e+256).toString(16).substr(1));Ae=Va});function Ka(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let s=e.node||wi,o=e.clockseq!==void 0?e.clockseq:Mr;if(s==null||o==null){let h=e.random||(e.rng||yt)();s==null&&(s=wi=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),o==null&&(o=Mr=(h[6]<<8|h[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Pr+1,u=a-qr+(c-Pr)/1e4;if(u<0&&e.clockseq===void 0&&(o=o+1&16383),(u<0||a>qr)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");qr=a,Pr=c,Mr=o,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let h=0;h<6;++h)i[n+h]=s[h];return t||Ae(i)}var wi,Mr,qr,Pr,bi,Ei=$(()=>{Tr();wt();qr=0,Pr=0;bi=Ka});function Ja(e){if(!Be(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Wt,jr=$(()=>{_t();Wt=Ja});function Za(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Vt(e,t,r){function n(i,s,o,a){if(typeof i=="string"&&(i=Za(i)),typeof s=="string"&&(s=Wt(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(let u=0;u<16;++u)o[a+u]=c[u];return o}return Ae(c)}try{n.name=e}catch{}return n.DNS=Ya,n.URL=Xa,n}var Ya,Xa,$r=$(()=>{wt();jr();Ya="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Xa="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Qa(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Bi.default.createHash("md5").update(e).digest()}var Bi,Ai,Ci=$(()=>{Bi=Ze(require("crypto"));Ai=Qa});var ec,Si,Di=$(()=>{$r();Ci();ec=Vt("v3",48,Ai),Si=ec});function tc(e,t,r){e=e||{};let n=e.random||(e.rng||yt)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Ae(n)}var Ii,Fi=$(()=>{Tr();wt();Ii=tc});function rc(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Oi.default.createHash("sha1").update(e).digest()}var Oi,Ri,xi=$(()=>{Oi=Ze(require("crypto"));Ri=rc});var nc,Ti,Mi=$(()=>{$r();xi();nc=Vt("v5",80,Ri),Ti=nc});var qi,Pi=$(()=>{qi="00000000-0000-0000-0000-000000000000"});function ic(e){if(!Be(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var ji,$i=$(()=>{_t();ji=ic});var Ni={};qa(Ni,{NIL:()=>qi,parse:()=>Wt,stringify:()=>Ae,v1:()=>bi,v3:()=>Si,v4:()=>Ii,v5:()=>Ti,validate:()=>Be,version:()=>ji});var Ui=$(()=>{Ei();Di();Fi();Mi();Pi();$i();_t();wt();jr()});var Gi=y(re=>{"use strict";var sc=re&&re.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),oc=re&&re.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Li=re&&re.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&sc(t,e,r);return oc(t,e),t};Object.defineProperty(re,"__esModule",{value:!0});re.prepareKeyValueMessage=re.issueFileCommand=void 0;var ki=Li(require("fs")),Nr=Li(require("os")),ac=(Ui(),Pa(Ni)),zi=zt();function cc(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!ki.existsSync(r))throw new Error(`Missing file at path: ${r}`);ki.appendFileSync(r,`${zi.toCommandValue(t)}${Nr.EOL}`,{encoding:"utf8"})}re.issueFileCommand=cc;function uc(e,t){let r=`ghadelimiter_${ac.v4()}`,n=zi.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${Nr.EOL}${n}${Nr.EOL}${r}`}re.prepareKeyValueMessage=uc});var Wi=y(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.checkBypass=Xe.getProxyUrl=void 0;function lc(e){let t=e.protocol==="https:";if(Hi(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}Xe.getProxyUrl=lc;function Hi(e){if(!e.hostname)return!1;let t=e.hostname;if(fc(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let i=[e.hostname.toUpperCase()];typeof n=="number"&&i.push(`${i[0]}:${n}`);for(let s of r.split(",").map(o=>o.trim().toUpperCase()).filter(o=>o))if(s==="*"||i.some(o=>o===s||o.endsWith(`.${s}`)||s.startsWith(".")&&o.endsWith(`${s}`)))return!0;return!1}Xe.checkBypass=Hi;function fc(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var Zi=y(Qe=>{"use strict";var kd=require("net"),hc=require("tls"),Ur=require("http"),Vi=require("https"),dc=require("events"),Ld=require("assert"),pc=require("util");Qe.httpOverHttp=gc;Qe.httpsOverHttp=mc;Qe.httpOverHttps=vc;Qe.httpsOverHttps=yc;function gc(e){var t=new _e(e);return t.request=Ur.request,t}function mc(e){var t=new _e(e);return t.request=Ur.request,t.createSocket=Ki,t.defaultPort=443,t}function vc(e){var t=new _e(e);return t.request=Vi.request,t}function yc(e){var t=new _e(e);return t.request=Vi.request,t.createSocket=Ki,t.defaultPort=443,t}function _e(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||Ur.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,i,s,o){for(var a=Ji(i,s,o),c=0,u=t.requests.length;c<u;++c){var l=t.requests[c];if(l.host===a.host&&l.port===a.port){t.requests.splice(c,1),l.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}pc.inherits(_e,dc.EventEmitter);_e.prototype.addRequest=function(t,r,n,i){var s=this,o=kr({request:t},s.options,Ji(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(a){a.on("free",c),a.on("close",u),a.on("agentRemove",u),t.onSocket(a);function c(){s.emit("free",a,o)}function u(l){s.removeSocket(a),a.removeListener("free",c),a.removeListener("close",u),a.removeListener("agentRemove",u)}})};_e.prototype.createSocket=function(t,r){var n=this,i={};n.sockets.push(i);var s=kr({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),Ce("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",a),o.once("upgrade",c),o.once("connect",u),o.once("error",l),o.end();function a(f){f.upgrade=!0}function c(f,h,d){process.nextTick(function(){u(f,h,d)})}function u(f,h,d){if(o.removeAllListeners(),h.removeAllListeners(),f.statusCode!==200){Ce("tunneling socket could not be established, statusCode=%d",f.statusCode),h.destroy();var p=new Error("tunneling socket could not be established, statusCode="+f.statusCode);p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(i);return}if(d.length>0){Ce("got illegal response body from proxy"),h.destroy();var p=new Error("got illegal response body from proxy");p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(i);return}return Ce("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=h,r(h)}function l(f){o.removeAllListeners(),Ce(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var h=new Error("tunneling socket could not be established, cause="+f.message);h.code="ECONNRESET",t.request.emit("error",h),n.removeSocket(i)}};_e.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function Ki(e,t){var r=this;_e.prototype.createSocket.call(r,e,function(n){var i=e.request.getHeader("host"),s=kr({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):e.host}),o=hc.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,t(o)})}function Ji(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function kr(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var a=i[s];n[a]!==void 0&&(e[a]=n[a])}}return e}var Ce;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Ce=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Ce=function(){};Qe.debug=Ce});var Xi=y((Gd,Yi)=>{Yi.exports=Zi()});var Qt=y(E=>{"use strict";var _c=E&&E.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),wc=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Xt=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&_c(t,e,r);return wc(t,e),t},I=E&&E.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(E,"__esModule",{value:!0});E.HttpClient=E.isHttps=E.HttpClientResponse=E.HttpClientError=E.getProxyUrl=E.MediaTypes=E.Headers=E.HttpCodes=void 0;var Kt=Xt(require("http")),Lr=Xt(require("https")),Qi=Xt(Wi()),Jt=Xt(Xi()),le;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(le=E.HttpCodes||(E.HttpCodes={}));var N;(function(e){e.Accept="accept",e.ContentType="content-type"})(N=E.Headers||(E.Headers={}));var Se;(function(e){e.ApplicationJson="application/json"})(Se=E.MediaTypes||(E.MediaTypes={}));function bc(e){let t=Qi.getProxyUrl(new URL(e));return t?t.href:""}E.getProxyUrl=bc;var Ec=[le.MovedPermanently,le.ResourceMoved,le.SeeOther,le.TemporaryRedirect,le.PermanentRedirect],Bc=[le.BadGateway,le.ServiceUnavailable,le.GatewayTimeout],Ac=["OPTIONS","GET","DELETE","HEAD"],Cc=10,Sc=5,et=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,et.prototype)}};E.HttpClientError=et;var Yt=class{constructor(t){this.message=t}readBody(){return I(this,void 0,void 0,function*(){return new Promise(t=>I(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};E.HttpClientResponse=Yt;function Dc(e){return new URL(e).protocol==="https:"}E.isHttps=Dc;var zr=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return I(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return I(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return I(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return I(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return I(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return I(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return I(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,i){return I(this,void 0,void 0,function*(){return this.request(t,r,n,i)})}getJson(t,r={}){return I(this,void 0,void 0,function*(){r[N.Accept]=this._getExistingOrDefaultHeader(r,N.Accept,Se.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return I(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[N.Accept]=this._getExistingOrDefaultHeader(n,N.Accept,Se.ApplicationJson),n[N.ContentType]=this._getExistingOrDefaultHeader(n,N.ContentType,Se.ApplicationJson);let s=yield this.post(t,i,n);return this._processResponse(s,this.requestOptions)})}putJson(t,r,n={}){return I(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[N.Accept]=this._getExistingOrDefaultHeader(n,N.Accept,Se.ApplicationJson),n[N.ContentType]=this._getExistingOrDefaultHeader(n,N.ContentType,Se.ApplicationJson);let s=yield this.put(t,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(t,r,n={}){return I(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[N.Accept]=this._getExistingOrDefaultHeader(n,N.Accept,Se.ApplicationJson),n[N.ContentType]=this._getExistingOrDefaultHeader(n,N.ContentType,Se.ApplicationJson);let s=yield this.patch(t,i,n);return this._processResponse(s,this.requestOptions)})}request(t,r,n,i){return I(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(t,s,i),a=this._allowRetries&&Ac.includes(t)?this._maxRetries+1:1,c=0,u;do{if(u=yield this.requestRaw(o,n),u&&u.message&&u.message.statusCode===le.Unauthorized){let f;for(let h of this.handlers)if(h.canHandleAuthentication(u)){f=h;break}return f?f.handleAuthentication(this,o,n):u}let l=this._maxRedirects;for(;u.message.statusCode&&Ec.includes(u.message.statusCode)&&this._allowRedirects&&l>0;){let f=u.message.headers.location;if(!f)break;let h=new URL(f);if(s.protocol==="https:"&&s.protocol!==h.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield u.readBody(),h.hostname!==s.hostname)for(let d in i)d.toLowerCase()==="authorization"&&delete i[d];o=this._prepareRequest(t,h,i),u=yield this.requestRaw(o,n),l--}if(!u.message.statusCode||!Bc.includes(u.message.statusCode))return u;c+=1,c<a&&(yield u.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return u})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return I(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(o,a){o?i(o):a?n(a):i(new Error("Unknown error"))}this.requestRawWithCallback(t,r,s)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(c,u){i||(i=!0,n(c,u))}let o=t.httpModule.request(t.options,c=>{let u=new Yt(c);s(void 0,u)}),a;o.on("socket",c=>{a=c}),o.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),s(new Error(`Request timeout: ${t.options.path}`))}),o.on("error",function(c){s(c)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?Lr:Kt;let o=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(i.options);return i}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Zt(this.requestOptions.headers),Zt(t||{})):Zt(t||{})}_getExistingOrDefaultHeader(t,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=Zt(this.requestOptions.headers)[r]),t[r]||i||n}_getAgent(t){let r,n=Qi.getProxyUrl(t),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=t.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||Kt.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,u=n.protocol==="https:";s?c=u?Jt.httpsOverHttps:Jt.httpsOverHttp:c=u?Jt.httpOverHttps:Jt.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:o};r=s?new Lr.Agent(a):new Kt.Agent(a),this._agent=r}return r||(r=s?Lr.globalAgent:Kt.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return I(this,void 0,void 0,function*(){t=Math.min(Cc,t);let r=Sc*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return I(this,void 0,void 0,function*(){return new Promise((n,i)=>I(this,void 0,void 0,function*(){let s=t.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===le.NotFound&&n(o);function a(l,f){if(typeof f=="string"){let h=new Date(f);if(!isNaN(h.valueOf()))return h}return f}let c,u;try{u=yield t.readBody(),u&&u.length>0&&(r&&r.deserializeDates?c=JSON.parse(u,a):c=JSON.parse(u),o.result=c),o.headers=t.message.headers}catch{}if(s>299){let l;c&&c.message?l=c.message:u&&u.length>0?l=u:l=`Failed request: (${s})`;let f=new et(l,s);f.result=o.result,i(f)}else n(o)}))})}};E.HttpClient=zr;var Zt=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var Kr=y(he=>{"use strict";var Vr=he&&he.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(he,"__esModule",{value:!0});he.PersonalAccessTokenCredentialHandler=he.BearerCredentialHandler=he.BasicCredentialHandler=void 0;var Gr=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Vr(this,void 0,void 0,function*(){throw new Error("not implemented")})}};he.BasicCredentialHandler=Gr;var Hr=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Vr(this,void 0,void 0,function*(){throw new Error("not implemented")})}};he.BearerCredentialHandler=Hr;var Wr=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Vr(this,void 0,void 0,function*(){throw new Error("not implemented")})}};he.PersonalAccessTokenCredentialHandler=Wr});var rs=y(tt=>{"use strict";var es=tt&&tt.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(tt,"__esModule",{value:!0});tt.OidcClient=void 0;var Ic=Qt(),Fc=Kr(),ts=k(),De=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new Ic.HttpClient("actions/oidc-client",[new Fc.BearerCredentialHandler(De.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return es(this,void 0,void 0,function*(){let s=(r=(yield De.createHttpClient().getJson(t).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(t){return es(this,void 0,void 0,function*(){try{let r=De.getIDTokenUrl();if(t){let i=encodeURIComponent(t);r=`${r}&audience=${i}`}ts.debug(`ID token url is ${r}`);let n=yield De.getCall(r);return ts.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};tt.OidcClient=De});var Xr=y(L=>{"use strict";var Jr=L&&L.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(L,"__esModule",{value:!0});L.summary=L.markdownSummary=L.SUMMARY_DOCS_URL=L.SUMMARY_ENV_VAR=void 0;var Oc=require("os"),Zr=require("fs"),{access:Rc,appendFile:xc,writeFile:Tc}=Zr.promises;L.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";L.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Yr=class{constructor(){this._buffer=""}filePath(){return Jr(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[L.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${L.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Rc(t,Zr.constants.R_OK|Zr.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let i=Object.entries(n).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${t}${i}>${r}</${t}>`:`<${t}${i}>`}write(t){return Jr(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),n=yield this.filePath();return yield(r?Tc:xc)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Jr(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(Oc.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(i).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",i=t.map(o=>this.wrap("li",o)).join(""),s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(t){let r=t.map(i=>{let s=i.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:a,data:c,colspan:u,rowspan:l}=o,f=a?"th":"td",h=Object.assign(Object.assign({},u&&{colspan:u}),l&&{rowspan:l});return this.wrap(f,c,h)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:i,height:s}=n||{},o=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),a=this.wrap("img",null,Object.assign({src:t,alt:r},o));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(i,t);return this.addRaw(s).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",t,n);return this.addRaw(i).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},ns=new Yr;L.markdownSummary=ns;L.summary=ns});var is=y(z=>{"use strict";var Mc=z&&z.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qc=z&&z.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Pc=z&&z.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Mc(t,e,r);return qc(t,e),t};Object.defineProperty(z,"__esModule",{value:!0});z.toPlatformPath=z.toWin32Path=z.toPosixPath=void 0;var jc=Pc(require("path"));function $c(e){return e.replace(/[\\]/g,"/")}z.toPosixPath=$c;function Nc(e){return e.replace(/[/]/g,"\\")}z.toWin32Path=Nc;function Uc(e){return e.replace(/[/\\]/g,jc.sep)}z.toPlatformPath=Uc});var k=y(m=>{"use strict";var kc=m&&m.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Lc=m&&m.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ss=m&&m.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&kc(t,e,r);return Lc(t,e),t},os=m&&m.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(m,"__esModule",{value:!0});m.getIDToken=m.getState=m.saveState=m.group=m.endGroup=m.startGroup=m.info=m.notice=m.warning=m.error=m.debug=m.isDebug=m.setFailed=m.setCommandEcho=m.setOutput=m.getBooleanInput=m.getMultilineInput=m.getInput=m.addPath=m.setSecret=m.exportVariable=m.ExitCode=void 0;var ne=mi(),Ue=Gi(),rt=zt(),as=ss(require("os")),zc=ss(require("path")),Gc=rs(),cs;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(cs=m.ExitCode||(m.ExitCode={}));function Hc(e,t){let r=rt.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return Ue.issueFileCommand("ENV",Ue.prepareKeyValueMessage(e,t));ne.issueCommand("set-env",{name:e},r)}m.exportVariable=Hc;function Wc(e){ne.issueCommand("add-mask",{},e)}m.setSecret=Wc;function Vc(e){process.env.GITHUB_PATH||""?Ue.issueFileCommand("PATH",e):ne.issueCommand("add-path",{},e),process.env.PATH=`${e}${zc.delimiter}${process.env.PATH}`}m.addPath=Vc;function Qr(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}m.getInput=Qr;function Kc(e,t){let r=Qr(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}m.getMultilineInput=Kc;function Jc(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=Qr(e,t);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}m.getBooleanInput=Jc;function Zc(e,t){if(process.env.GITHUB_OUTPUT||"")return Ue.issueFileCommand("OUTPUT",Ue.prepareKeyValueMessage(e,t));process.stdout.write(as.EOL),ne.issueCommand("set-output",{name:e},rt.toCommandValue(t))}m.setOutput=Zc;function Yc(e){ne.issue("echo",e?"on":"off")}m.setCommandEcho=Yc;function Xc(e){process.exitCode=cs.Failure,us(e)}m.setFailed=Xc;function Qc(){return process.env.RUNNER_DEBUG==="1"}m.isDebug=Qc;function eu(e){ne.issueCommand("debug",{},e)}m.debug=eu;function us(e,t={}){ne.issueCommand("error",rt.toCommandProperties(t),e instanceof Error?e.toString():e)}m.error=us;function tu(e,t={}){ne.issueCommand("warning",rt.toCommandProperties(t),e instanceof Error?e.toString():e)}m.warning=tu;function ru(e,t={}){ne.issueCommand("notice",rt.toCommandProperties(t),e instanceof Error?e.toString():e)}m.notice=ru;function nu(e){process.stdout.write(e+as.EOL)}m.info=nu;function ls(e){ne.issue("group",e)}m.startGroup=ls;function fs(){ne.issue("endgroup")}m.endGroup=fs;function iu(e,t){return os(this,void 0,void 0,function*(){ls(e);let r;try{r=yield t()}finally{fs()}return r})}m.group=iu;function su(e,t){if(process.env.GITHUB_STATE||"")return Ue.issueFileCommand("STATE",Ue.prepareKeyValueMessage(e,t));ne.issueCommand("save-state",{name:e},rt.toCommandValue(t))}m.saveState=su;function ou(e){return process.env[`STATE_${e}`]||""}m.getState=ou;function au(e){return os(this,void 0,void 0,function*(){return yield Gc.OidcClient.getIDToken(e)})}m.getIDToken=au;var cu=Xr();Object.defineProperty(m,"summary",{enumerable:!0,get:function(){return cu.summary}});var uu=Xr();Object.defineProperty(m,"markdownSummary",{enumerable:!0,get:function(){return uu.markdownSummary}});var en=is();Object.defineProperty(m,"toPosixPath",{enumerable:!0,get:function(){return en.toPosixPath}});Object.defineProperty(m,"toWin32Path",{enumerable:!0,get:function(){return en.toWin32Path}});Object.defineProperty(m,"toPlatformPath",{enumerable:!0,get:function(){return en.toPlatformPath}})});var rn=y(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.checkArtifactFilePath=nt.checkArtifactName=void 0;var lu=k(),tn=new Map([['"',' Double quote "'],[":"," Colon :"],["<"," Less than <"],[">"," Greater than >"],["|"," Vertical bar |"],["*"," Asterisk *"],["?"," Question mark ?"],["\r"," Carriage return \\r"],[`
`," Line feed \\n"]]),hs=new Map([...tn,["\\"," Backslash \\"],["/"," Forward slash /"]]);function fu(e){if(!e)throw new Error(`Artifact name: ${e}, is incorrectly provided`);for(let[t,r]of hs)if(e.includes(t))throw new Error(`Artifact name is not valid: ${e}. Contains the following character: ${r}
          
Invalid characters include: ${Array.from(hs.values()).toString()}
          
These characters are not allowed in the artifact name due to limitations with certain file systems such as NTFS. To maintain file system agnostic behavior, these characters are intentionally not allowed to prevent potential problems with downloads on different file systems.`);lu.info("Artifact name is valid!")}nt.checkArtifactName=fu;function hu(e){if(!e)throw new Error(`Artifact path: ${e}, is incorrectly provided`);for(let[t,r]of tn)if(e.includes(t))throw new Error(`Artifact path is not valid: ${e}. Contains the following character: ${r}
          
Invalid characters include: ${Array.from(tn.values()).toString()}
          
The following characters are not allowed in files that are uploaded due to limitations with certain file systems such as NTFS. To maintain file system agnostic behavior, these characters are intentionally not allowed to prevent potential problems with downloads on different file systems.
          `)}nt.checkArtifactFilePath=hu});var ds=y(de=>{"use strict";var du=de&&de.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pu=de&&de.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gu=de&&de.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&du(t,e,r);return pu(t,e),t};Object.defineProperty(de,"__esModule",{value:!0});de.getUploadSpecification=void 0;var er=gu(require("fs")),mu=k(),bt=require("path"),vu=rn();function yu(e,t,r){let n=[];if(!er.existsSync(t))throw new Error(`Provided rootDirectory ${t} does not exist`);if(!er.lstatSync(t).isDirectory())throw new Error(`Provided rootDirectory ${t} is not a valid directory`);t=bt.normalize(t),t=bt.resolve(t);for(let i of r){if(!er.existsSync(i))throw new Error(`File ${i} does not exist`);if(er.lstatSync(i).isDirectory())mu.debug(`Removing ${i} from rawSearchResults because it is a directory`);else{if(i=bt.normalize(i),i=bt.resolve(i),!i.startsWith(t))throw new Error(`The rootDirectory: ${t} is not a parent directory of the file: ${i}`);let s=i.replace(t,"");vu.checkArtifactFilePath(s),n.push({absoluteFilePath:i,uploadFilePath:bt.join(e,s)})}}return n}de.getUploadSpecification=yu});var ps=y(nn=>{var ke=require("path"),Fe=process.platform==="win32",Ie=require("fs"),_u=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function wu(){var e;if(_u){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function bu(e){return typeof e=="function"?e:wu()}var Qd=ke.normalize;Fe?we=/(.*?)(?:[\/\\]+|$)/g:we=/(.*?)(?:[\/]+|$)/g;var we;Fe?Et=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Et=/^[\/]*/;var Et;nn.realpathSync=function(t,r){if(t=ke.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},s={},o,a,c,u;l();function l(){var g=Et.exec(t);o=g[0].length,a=g[0],c=g[0],u="",Fe&&!s[c]&&(Ie.lstatSync(c),s[c]=!0)}for(;o<t.length;){we.lastIndex=o;var f=we.exec(t);if(u=a,a+=f[0],c=u+f[1],o=we.lastIndex,!(s[c]||r&&r[c]===c)){var h;if(r&&Object.prototype.hasOwnProperty.call(r,c))h=r[c];else{var d=Ie.lstatSync(c);if(!d.isSymbolicLink()){s[c]=!0,r&&(r[c]=c);continue}var p=null;if(!Fe){var v=d.dev.toString(32)+":"+d.ino.toString(32);i.hasOwnProperty(v)&&(p=i[v])}p===null&&(Ie.statSync(c),p=Ie.readlinkSync(c)),h=ke.resolve(u,p),r&&(r[c]=h),Fe||(i[v]=p)}t=ke.resolve(h,t.slice(o)),l()}}return r&&(r[n]=t),t};nn.realpath=function(t,r,n){if(typeof n!="function"&&(n=bu(r),r=null),t=ke.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,s={},o={},a,c,u,l;f();function f(){var g=Et.exec(t);a=g[0].length,c=g[0],u=g[0],l="",Fe&&!o[u]?Ie.lstat(u,function(w){if(w)return n(w);o[u]=!0,h()}):process.nextTick(h)}function h(){if(a>=t.length)return r&&(r[i]=t),n(null,t);we.lastIndex=a;var g=we.exec(t);return l=c,c+=g[0],u=l+g[1],a=we.lastIndex,o[u]||r&&r[u]===u?process.nextTick(h):r&&Object.prototype.hasOwnProperty.call(r,u)?v(r[u]):Ie.lstat(u,d)}function d(g,w){if(g)return n(g);if(!w.isSymbolicLink())return o[u]=!0,r&&(r[u]=u),process.nextTick(h);if(!Fe){var B=w.dev.toString(32)+":"+w.ino.toString(32);if(s.hasOwnProperty(B))return p(null,s[B],u)}Ie.stat(u,function(P){if(P)return n(P);Ie.readlink(u,function(O,ue){Fe||(s[B]=ue),p(O,ue)})})}function p(g,w,B){if(g)return n(g);var P=ke.resolve(l,w);r&&(r[B]=P),v(P)}function v(g){t=ke.resolve(g,t.slice(a)),f()}}});var cn=y((tp,ys)=>{ys.exports=Oe;Oe.realpath=Oe;Oe.sync=an;Oe.realpathSync=an;Oe.monkeypatch=Bu;Oe.unmonkeypatch=Au;var it=require("fs"),sn=it.realpath,on=it.realpathSync,Eu=process.version,gs=/^v[0-5]\./.test(Eu),ms=ps();function vs(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function Oe(e,t,r){if(gs)return sn(e,t,r);typeof t=="function"&&(r=t,t=null),sn(e,t,function(n,i){vs(n)?ms.realpath(e,t,r):r(n,i)})}function an(e,t){if(gs)return on(e,t);try{return on(e,t)}catch(r){if(vs(r))return ms.realpathSync(e,t);throw r}}function Bu(){it.realpath=Oe,it.realpathSync=an}function Au(){it.realpath=sn,it.realpathSync=on}});var ws=y((rp,_s)=>{_s.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);Cu(i)?r.push.apply(r,i):r.push(i)}return r};var Cu=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Cs=y((np,As)=>{"use strict";As.exports=Es;function Es(e,t,r){e instanceof RegExp&&(e=bs(e,r)),t instanceof RegExp&&(t=bs(t,r));var n=Bs(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function bs(e,t){var r=t.match(e);return r?r[0]:null}Es.range=Bs;function Bs(e,t,r){var n,i,s,o,a,c=r.indexOf(e),u=r.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(n=[],s=r.length;l>=0&&!a;)l==c?(n.push(l),c=r.indexOf(e,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<s&&(s=i,o=u),u=r.indexOf(t,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[s,o])}return a}});var Ts=y((ip,xs)=>{var Su=ws(),Ss=Cs();xs.exports=Fu;var Ds="\0SLASH"+Math.random()+"\0",Is="\0OPEN"+Math.random()+"\0",ln="\0CLOSE"+Math.random()+"\0",Fs="\0COMMA"+Math.random()+"\0",Os="\0PERIOD"+Math.random()+"\0";function un(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function Du(e){return e.split("\\\\").join(Ds).split("\\{").join(Is).split("\\}").join(ln).split("\\,").join(Fs).split("\\.").join(Os)}function Iu(e){return e.split(Ds).join("\\").split(Is).join("{").split(ln).join("}").split(Fs).join(",").split(Os).join(".")}function Rs(e){if(!e)return[""];var t=[],r=Ss("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Rs(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function Fu(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),st(Du(e),!0).map(Iu)):[]}function Ou(e){return"{"+e+"}"}function Ru(e){return/^-?0\d/.test(e)}function xu(e,t){return e<=t}function Tu(e,t){return e>=t}function st(e,t){var r=[],n=Ss("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,a=n.body.indexOf(",")>=0;if(!o&&!a)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+ln+n.post,st(e)):[e];var c;if(o)c=n.body.split(/\.\./);else if(c=Rs(n.body),c.length===1&&(c=st(c[0],!1).map(Ou),c.length===1)){var l=n.post.length?st(n.post,!1):[""];return l.map(function(Ir){return n.pre+c[0]+Ir})}var u=n.pre,l=n.post.length?st(n.post,!1):[""],f;if(o){var h=un(c[0]),d=un(c[1]),p=Math.max(c[0].length,c[1].length),v=c.length==3?Math.abs(un(c[2])):1,g=xu,w=d<h;w&&(v*=-1,g=Tu);var B=c.some(Ru);f=[];for(var P=h;g(P,d);P+=v){var O;if(s)O=String.fromCharCode(P),O==="\\"&&(O="");else if(O=String(P),B){var ue=p-O.length;if(ue>0){var Ut=new Array(ue+1).join("0");P<0?O="-"+Ut+O.slice(1):O=Ut+O}}f.push(O)}}else f=Su(c,function(kt){return st(kt,!1)});for(var Je=0;Je<f.length;Je++)for(var Ne=0;Ne<l.length;Ne++){var ye=u+f[Je]+l[Ne];(!t||o||ye)&&r.push(ye)}return r}});var At=y((sp,$s)=>{$s.exports=X;X.Minimatch=M;var Bt=function(){try{return require("path")}catch{}}()||{sep:"/"};X.sep=Bt.sep;var dn=X.GLOBSTAR=M.GLOBSTAR={},Mu=Ts(),Ms={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},fn="[^/]",hn=fn+"*?",qu="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Pu="(?:(?!(?:\\/|^)\\.).)*?",qs=ju("().*{}+?[]^$\\!");function ju(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var Ps=/\/+/;X.filter=$u;function $u(e,t){return t=t||{},function(r,n,i){return X(r,e,t)}}function Re(e,t){t=t||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}X.defaults=function(e){if(!e||typeof e!="object"||!Object.keys(e).length)return X;var t=X,r=function(i,s,o){return t(i,s,Re(e,o))};return r.Minimatch=function(i,s){return new t.Minimatch(i,Re(e,s))},r.Minimatch.defaults=function(i){return t.defaults(Re(e,i)).Minimatch},r.filter=function(i,s){return t.filter(i,Re(e,s))},r.defaults=function(i){return t.defaults(Re(e,i))},r.makeRe=function(i,s){return t.makeRe(i,Re(e,s))},r.braceExpand=function(i,s){return t.braceExpand(i,Re(e,s))},r.match=function(n,i,s){return t.match(n,i,Re(e,s))},r};M.defaults=function(e){return X.defaults(e).Minimatch};function X(e,t,r){return rr(t),r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:new M(t,r).match(e)}function M(e,t){if(!(this instanceof M))return new M(e,t);rr(e),t||(t={}),e=e.trim(),!t.allowWindowsEscape&&Bt.sep!=="/"&&(e=e.split(Bt.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}M.prototype.debug=function(){};M.prototype.make=Nu;function Nu(){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(Ps)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}M.prototype.parseNegate=Uu;function Uu(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=e.length;i<s&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}X.braceExpand=function(e,t){return js(e,t)};M.prototype.braceExpand=js;function js(e,t){return t||(this instanceof M?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,rr(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:Mu(e)}var ku=1024*64,rr=function(e){if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>ku)throw new TypeError("pattern is too long")};M.prototype.parse=Lu;var tr={};function Lu(e,t){rr(e);var r=this.options;if(e==="**")if(r.noglobstar)e="*";else return dn;if(e==="")return"";var n="",i=!!r.nocase,s=!1,o=[],a=[],c,u=!1,l=-1,f=-1,h=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",d=this;function p(){if(c){switch(c){case"*":n+=hn,i=!0;break;case"?":n+=fn,i=!0;break;default:n+="\\"+c;break}d.debug("clearStateChar %j %j",c,n),c=!1}}for(var v=0,g=e.length,w;v<g&&(w=e.charAt(v));v++){if(this.debug("%s	%s %s %j",e,v,n,w),s&&qs[w]){n+="\\"+w,s=!1;continue}switch(w){case"/":return!1;case"\\":p(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,v,n,w),u){this.debug("  in class"),w==="!"&&v===f+1&&(w="^"),n+=w;continue}d.debug("call clearStateChar %j",c),p(),c=w,r.noext&&p();continue;case"(":if(u){n+="(";continue}if(!c){n+="\\(";continue}o.push({type:c,start:v-1,reStart:n.length,open:Ms[c].open,close:Ms[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(u||!o.length){n+="\\)";continue}p(),i=!0;var B=o.pop();n+=B.close,B.type==="!"&&a.push(B),B.reEnd=n.length;continue;case"|":if(u||!o.length||s){n+="\\|",s=!1;continue}p(),n+="|";continue;case"[":if(p(),u){n+="\\"+w;continue}u=!0,f=v,l=n.length,n+=w;continue;case"]":if(v===f+1||!u){n+="\\"+w,s=!1;continue}var P=e.substring(f+1,v);try{RegExp("["+P+"]")}catch{var O=this.parse(P,tr);n=n.substr(0,l)+"\\["+O[0]+"\\]",i=i||O[1],u=!1;continue}i=!0,u=!1,n+=w;continue;default:p(),s?s=!1:qs[w]&&!(w==="^"&&u)&&(n+="\\"),n+=w}}for(u&&(P=e.substr(f+1),O=this.parse(P,tr),n=n.substr(0,l)+"\\["+O[0],i=i||O[1]),B=o.pop();B;B=o.pop()){var ue=n.slice(B.reStart+B.open.length);this.debug("setting tail",n,B),ue=ue.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(li,fi,Rr){return Rr||(Rr="\\"),fi+fi+Rr+"|"}),this.debug(`tail=%j
   %s`,ue,ue,B,n);var Ut=B.type==="*"?hn:B.type==="?"?fn:"\\"+B.type;i=!0,n=n.slice(0,B.reStart)+Ut+"\\("+ue}p(),s&&(n+="\\\\");var Je=!1;switch(n.charAt(0)){case"[":case".":case"(":Je=!0}for(var Ne=a.length-1;Ne>-1;Ne--){var ye=a[Ne],kt=n.slice(0,ye.reStart),Ir=n.slice(ye.reStart,ye.reEnd-8),ci=n.slice(ye.reEnd-8,ye.reEnd),vt=n.slice(ye.reEnd);ci+=vt;var Da=kt.split("(").length-1,Fr=vt;for(v=0;v<Da;v++)Fr=Fr.replace(/\)[+*?]?/,"");vt=Fr;var ui="";vt===""&&t!==tr&&(ui="$");var Ia=kt+Ir+vt+ui+ci;n=Ia}if(n!==""&&i&&(n="(?=.)"+n),Je&&(n=h+n),t===tr)return[n,i];if(!i)return Gu(e);var Fa=r.nocase?"i":"";try{var Or=new RegExp("^"+n+"$",Fa)}catch{return new RegExp("$.")}return Or._glob=e,Or._src=n,Or}X.makeRe=function(e,t){return new M(e,t||{}).makeRe()};M.prototype.makeRe=zu;function zu(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?hn:t.dot?qu:Pu,n=t.nocase?"i":"",i=e.map(function(s){return s.map(function(o){return o===dn?r:typeof o=="string"?Hu(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}X.match=function(e,t,r){r=r||{};var n=new M(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};M.prototype.match=function(t,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;var n=this.options;Bt.sep!=="/"&&(t=t.split(Bt.sep).join("/")),t=t.split(Ps),this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=t.length-1;o>=0&&(s=t[o],!s);o--);for(o=0;o<i.length;o++){var a=i[o],c=t;n.matchBase&&a.length===1&&(c=[s]);var u=this.matchOne(c,a,r);if(u)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};M.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,o=e.length,a=t.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var c=t[s],u=e[i];if(this.debug(t,c,u),c===!1)return!1;if(c===dn){this.debug("GLOBSTAR",[t,c,u]);var l=i,f=s+1;if(f===a){for(this.debug("** at the end");i<o;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;l<o;){var h=e[l];if(this.debug(`
globstar while`,e,l,t,f,h),this.matchOne(e.slice(l),t.slice(f),r))return this.debug("globstar found match!",l,o,h),!0;if(h==="."||h===".."||!n.dot&&h.charAt(0)==="."){this.debug("dot detected!",e,l,t,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,l,t,f),l===o))}var d;if(typeof c=="string"?(d=u===c,this.debug("string match",c,u,d)):(d=u.match(c),this.debug("pattern match",c,u,d)),!d)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&e[i]==="";throw new Error("wtf?")};function Gu(e){return e.replace(/\\(.)/g,"$1")}function Hu(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Ns=y((op,pn)=>{typeof Object.create=="function"?pn.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:pn.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var Us=y((ap,mn)=>{try{if(gn=require("util"),typeof gn.inherits!="function")throw"";mn.exports=gn.inherits}catch{mn.exports=Ns()}var gn});var ir=y((cp,nr)=>{"use strict";function ks(e){return e.charAt(0)==="/"}function Ls(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(r[2]||i)}nr.exports=process.platform==="win32"?Ls:ks;nr.exports.posix=ks;nr.exports.win32=Ls});var yn=y(xe=>{xe.setopts=Yu;xe.ownProp=zs;xe.makeAbs=Ct;xe.finish=Xu;xe.mark=Qu;xe.isIgnored=Hs;xe.childrenIgnored=el;function zs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Wu=require("fs"),ot=require("path"),Vu=At(),Gs=ir(),vn=Vu.Minimatch;function Ku(e,t){return e.localeCompare(t,"en")}function Ju(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(Zu))}function Zu(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new vn(r,{dot:!0})}return{matcher:new vn(e,{dot:!0}),gmatcher:t}}function Yu(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||Wu,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),Ju(e,r),e.changedCwd=!1;var n=process.cwd();zs(r,"cwd")?(e.cwd=ot.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||ot.resolve(e.cwd,"/"),e.root=ot.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=Gs(e.cwd)?e.cwd:Ct(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,e.minimatch=new vn(t,r),e.options=e.minimatch.options}function Xu(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var s=e.matches[n];if(!s||Object.keys(s).length===0){if(e.nonull){var o=e.minimatch.globSet[n];t?r.push(o):r[o]=!0}}else{var a=Object.keys(s);t?r.push.apply(r,a):a.forEach(function(c){r[c]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(Ku)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(c){var u=!/\/$/.test(c),l=e.cache[c]||e.cache[Ct(e,c)];return u&&l&&(u=l!=="DIR"&&!Array.isArray(l)),u}))}e.ignore.length&&(r=r.filter(function(c){return!Hs(e,c)})),e.found=r}function Qu(e,t){var r=Ct(e,t),n=e.cache[r],i=t;if(n){var s=n==="DIR"||Array.isArray(n),o=t.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==t){var a=Ct(e,i);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return i}function Ct(e,t){var r=t;return t.charAt(0)==="/"?r=ot.join(e.root,t):Gs(t)||t===""?r=t:e.changedCwd?r=ot.resolve(e.cwd,t):r=ot.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function Hs(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function el(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var Zs=y((dp,Js)=>{Js.exports=Ks;Ks.GlobSync=F;var tl=cn(),Ws=At(),lp=Ws.Minimatch,fp=bn().Glob,hp=require("util"),_n=require("path"),Vs=require("assert"),sr=ir(),Le=yn(),rl=Le.setopts,wn=Le.ownProp,nl=Le.childrenIgnored,il=Le.isIgnored;function Ks(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new F(e,t).found}function F(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof F))return new F(e,t);if(rl(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}F.prototype._finish=function(){if(Vs.ok(this instanceof F),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var s=tl.realpathSync(i,e.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[e._makeAbs(i)]=!0;else throw o}})}Le.finish(this)};F.prototype._process=function(e,t,r){Vs.ok(this instanceof F);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var s=e.slice(n),o;i===null?o=".":((sr(i)||sr(e.map(function(u){return typeof u=="string"?u:"[*]"}).join("/")))&&(!i||!sr(i))&&(i="/"+i),o=i);var a=this._makeAbs(o);if(!nl(this,o)){var c=s[0]===Ws.GLOBSTAR;c?this._processGlobStar(i,o,a,s,t,r):this._processReaddir(i,o,a,s,t,r)}};F.prototype._processReaddir=function(e,t,r,n,i,s){var o=this._readdir(r,s);if(o){for(var a=n[0],c=!!this.minimatch.negate,u=a._glob,l=this.dot||u.charAt(0)===".",f=[],h=0;h<o.length;h++){var d=o[h];if(d.charAt(0)!=="."||l){var p;c&&!e?p=!d.match(a):p=d.match(a),p&&f.push(d)}}var v=f.length;if(v!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var h=0;h<v;h++){var d=f[h];e&&(e.slice(-1)!=="/"?d=e+"/"+d:d=e+d),d.charAt(0)==="/"&&!this.nomount&&(d=_n.join(this.root,d)),this._emitMatch(i,d)}return}n.shift();for(var h=0;h<v;h++){var d=f[h],g;e?g=[e,d]:g=[d],this._process(g.concat(n),i,s)}}}};F.prototype._emitMatch=function(e,t){if(!il(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};F.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};F.prototype._readdir=function(e,t){var r;if(t&&!wn(this.symlinks,e))return this._readdirInGlobStar(e);if(wn(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};F.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};F.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};F.prototype._processGlobStar=function(e,t,r,n,i,s){var o=this._readdir(r,s);if(o){var a=n.slice(1),c=e?[e]:[],u=c.concat(a);this._process(u,i,!1);var l=o.length,f=this.symlinks[r];if(!(f&&s))for(var h=0;h<l;h++){var d=o[h];if(!(d.charAt(0)==="."&&!this.dot)){var p=c.concat(o[h],a);this._process(p,i,!0);var v=c.concat(o[h],n);this._process(v,i,!0)}}}};F.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&sr(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=_n.join(this.root,e):(e=_n.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};F.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&wn(this.cache,t)){var o=this.cache[t];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[t];if(!i){var s;try{s=this.fs.lstatSync(t)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(t)}catch{i=s}else i=s}this.statCache[t]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,r&&o==="FILE"?!1:o};F.prototype._mark=function(e){return Le.mark(this,e)};F.prototype._makeAbs=function(e){return Le.makeAbs(this,e)}});var En=y((pp,Xs)=>{Xs.exports=Ys;function Ys(e,t){if(e&&t)return Ys(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var An=y((gp,Bn)=>{var Qs=En();Bn.exports=Qs(or);Bn.exports.strict=Qs(eo);or.proto=or(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return or(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return eo(this)},configurable:!0})});function or(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function eo(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var ro=y((mp,to)=>{var sl=En(),St=Object.create(null),ol=An();to.exports=sl(al);function al(e,t){return St[e]?(St[e].push(t),null):(St[e]=[t],cl(e))}function cl(e){return ol(function t(){var r=St[e],n=r.length,i=ul(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete St[e]}})}function ul(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var bn=y((_p,io)=>{io.exports=ze;var ll=cn(),no=At(),vp=no.Minimatch,fl=Us(),hl=require("events").EventEmitter,Cn=require("path"),Sn=require("assert"),Dt=ir(),In=Zs(),Ge=yn(),dl=Ge.setopts,Dn=Ge.ownProp,Fn=ro(),yp=require("util"),pl=Ge.childrenIgnored,gl=Ge.isIgnored,ml=An();function ze(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return In(e,t)}return new b(e,t,r)}ze.sync=In;var vl=ze.GlobSync=In.GlobSync;ze.glob=ze;function yl(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}ze.hasMagic=function(e,t){var r=yl({},t);r.noprocess=!0;var n=new b(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};ze.Glob=b;fl(b,hl);function b(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new vl(e,t)}if(!(this instanceof b))return new b(e,t,r);dl(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=ml(r),this.on("error",r),this.on("end",function(c){r(null,c)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}b.prototype._finish=function(){if(Sn(this instanceof b),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Ge.finish(this),this.emit("end",this.found)}};b.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e===0&&t._finish()}};b.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,s=n.length;if(s===0)return t();var o=this.matches[e]=Object.create(null);n.forEach(function(a,c){a=i._makeAbs(a),ll.realpath(a,i.realpathCache,function(u,l){u?u.syscall==="stat"?o[a]=!0:i.emit("error",u):o[l]=!0,--s===0&&(i.matches[e]=o,t())})})};b.prototype._mark=function(e){return Ge.mark(this,e)};b.prototype._makeAbs=function(e){return Ge.makeAbs(this,e)};b.prototype.abort=function(){this.aborted=!0,this.emit("abort")};b.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};b.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};b.prototype._process=function(e,t,r,n){if(Sn(this instanceof b),Sn(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var s;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:s=null;break;default:s=e.slice(0,i).join("/");break}var o=e.slice(i),a;s===null?a=".":((Dt(s)||Dt(e.map(function(l){return typeof l=="string"?l:"[*]"}).join("/")))&&(!s||!Dt(s))&&(s="/"+s),a=s);var c=this._makeAbs(a);if(pl(this,a))return n();var u=o[0]===no.GLOBSTAR;u?this._processGlobStar(s,a,c,o,t,r,n):this._processReaddir(s,a,c,o,t,r,n)}};b.prototype._processReaddir=function(e,t,r,n,i,s,o){var a=this;this._readdir(r,s,function(c,u){return a._processReaddir2(e,t,r,n,i,s,u,o)})};b.prototype._processReaddir2=function(e,t,r,n,i,s,o,a){if(!o)return a();for(var c=n[0],u=!!this.minimatch.negate,l=c._glob,f=this.dot||l.charAt(0)===".",h=[],d=0;d<o.length;d++){var p=o[d];if(p.charAt(0)!=="."||f){var v;u&&!e?v=!p.match(c):v=p.match(c),v&&h.push(p)}}var g=h.length;if(g===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;d<g;d++){var p=h[d];e&&(e!=="/"?p=e+"/"+p:p=e+p),p.charAt(0)==="/"&&!this.nomount&&(p=Cn.join(this.root,p)),this._emitMatch(i,p)}return a()}n.shift();for(var d=0;d<g;d++){var p=h[d],w;e&&(e!=="/"?p=e+"/"+p:p=e+p),this._process([p].concat(n),i,s,a)}a()};b.prototype._emitMatch=function(e,t){if(!this.aborted&&!gl(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Dt(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};b.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=Fn(r,s);i&&n.fs.lstat(e,i);function s(o,a){if(o&&o.code==="ENOENT")return t();var c=a&&a.isSymbolicLink();n.symlinks[e]=c,!c&&a&&!a.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};b.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=Fn("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!Dn(this.symlinks,e))return this._readdirInGlobStar(e,r);if(Dn(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,_l(this,e,r))}};function _l(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}b.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};b.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};b.prototype._processGlobStar=function(e,t,r,n,i,s,o){var a=this;this._readdir(r,s,function(c,u){a._processGlobStar2(e,t,r,n,i,s,u,o)})};b.prototype._processGlobStar2=function(e,t,r,n,i,s,o,a){if(!o)return a();var c=n.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,i,!1,a);var f=this.symlinks[r],h=o.length;if(f&&s)return a();for(var d=0;d<h;d++){var p=o[d];if(!(p.charAt(0)==="."&&!this.dot)){var v=u.concat(o[d],c);this._process(v,i,!0,a);var g=u.concat(o[d],n);this._process(g,i,!0,a)}}a()};b.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,s){n._processSimple2(e,t,i,s,r)})};b.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&Dt(e)&&!this.nomount){var s=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Cn.join(this.root,e):(e=Cn.resolve(this.root,e),s&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};b.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Dn(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return t(null,o);var a=o.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?t():t(null,a,o)}var c=this,u=Fn("stat\0"+r,l);u&&c.fs.lstat(r,u);function l(f,h){if(h&&h.isSymbolicLink())return c.fs.stat(r,function(d,p){d?c._stat2(e,r,null,h,t):c._stat2(e,r,d,p,t)});c._stat2(e,r,f,h,t)}};b.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var s=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,s&&o==="FILE"?i():i(null,o,n)}});var ho=y((wp,fo)=>{var A=require("assert"),co=require("path"),so=require("fs"),at;try{at=bn()}catch{}var wl={nosort:!0,silent:!0},On=0,It=process.platform==="win32",uo=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||so[r],r=r+"Sync",e[r]=e[r]||so[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&at===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||wl},xn=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),A(e,"rimraf: missing path"),A.equal(typeof e,"string","rimraf: path should be a string"),A.equal(typeof r,"function","rimraf: callback function required"),A(t,"rimraf: invalid options argument provided"),A.equal(typeof t,"object","rimraf: options should be object"),uo(t);let n=0,i=null,s=0,o=c=>{i=i||c,--s===0&&r(i)},a=(c,u)=>{if(c)return r(c);if(s=u.length,s===0)return r();u.forEach(l=>{let f=h=>{if(h){if((h.code==="EBUSY"||h.code==="ENOTEMPTY"||h.code==="EPERM")&&n<t.maxBusyTries)return n++,setTimeout(()=>Rn(l,t,f),n*100);if(h.code==="EMFILE"&&On<t.emfileWait)return setTimeout(()=>Rn(l,t,f),On++);h.code==="ENOENT"&&(h=null)}On=0,o(h)};Rn(l,t,f)})};if(t.disableGlob||!at.hasMagic(e))return a(null,[e]);t.lstat(e,(c,u)=>{if(!c)return a(null,[e]);at(e,t.glob,a)})},Rn=(e,t,r)=>{A(e),A(t),A(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&It&&oo(e,t,n,r),i&&i.isDirectory())return ar(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return It?oo(e,t,s,r):ar(e,t,s,r);if(s.code==="EISDIR")return ar(e,t,s,r)}return r(s)})})},oo=(e,t,r,n)=>{A(e),A(t),A(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?ar(e,t,r,n):t.unlink(e,n)})})},ao=(e,t,r)=>{A(e),A(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?cr(e,t,r):t.unlinkSync(e)},ar=(e,t,r,n)=>{A(e),A(t),A(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?bl(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},bl=(e,t,r)=>{A(e),A(t),A(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length;if(s===0)return t.rmdir(e,r);let o;i.forEach(a=>{xn(co.join(e,a),t,c=>{if(!o){if(c)return r(o=c);--s===0&&t.rmdir(e,r)}})})})},lo=(e,t)=>{t=t||{},uo(t),A(e,"rimraf: missing path"),A.equal(typeof e,"string","rimraf: path should be a string"),A(t,"rimraf: missing options"),A.equal(typeof t,"object","rimraf: options should be object");let r;if(t.disableGlob||!at.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch{r=at.sync(e,t.glob)}if(r.length)for(let n=0;n<r.length;n++){let i=r[n],s;try{s=t.lstatSync(i)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&It&&ao(i,t,o)}try{s&&s.isDirectory()?cr(i,t,null):t.unlinkSync(i)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return It?ao(i,t,o):cr(i,t,o);if(o.code!=="EISDIR")throw o;cr(i,t,o)}}},cr=(e,t,r)=>{A(e),A(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&El(e,t)}},El=(e,t)=>{A(e),A(t),t.readdirSync(e).forEach(i=>lo(co.join(e,i),t));let r=It?100:1,n=0;do{let i=!0;try{let s=t.rmdirSync(e,t);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)};fo.exports=xn;xn.sync=lo});var Ro=y((bp,be)=>{var R=require("fs"),jn=require("os"),Q=require("path"),po=require("crypto"),pe={fs:R.constants,os:jn.constants},vo=ho(),go="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",yo=/XXXXXX/,Bl=3,_o=(pe.O_CREAT||pe.fs.O_CREAT)|(pe.O_EXCL||pe.fs.O_EXCL)|(pe.O_RDWR||pe.fs.O_RDWR),Al=jn.platform()==="win32",Cl=pe.EBADF||pe.os.errno.EBADF,Sl=pe.ENOENT||pe.os.errno.ENOENT,wo=448,bo=384,Dl="exit",ct=[],Eo=R.rmdirSync.bind(R),Bo=vo.sync,Ao=!1;function $n(e,t){let r=ut(e,t),n=r[0],i=r[1];try{Io(n)}catch(o){return i(o)}let s=n.tries;(function o(){try{let a=Do(n);R.stat(a,function(c){if(!c)return s-- >0?o():i(new Error("Could not get a unique tmp filename, max tries reached "+a));i(null,a)})}catch(a){i(a)}})()}function Nn(e){let t=ut(e),r=t[0];Io(r);let n=r.tries;do{let i=Do(r);try{R.statSync(i)}catch{return i}}while(n-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function Il(e,t){let r=ut(e,t),n=r[0],i=r[1];$n(n,function(o,a){if(o)return i(o);R.open(a,_o,n.mode||bo,function(u,l){if(u)return i(u);if(n.discardDescriptor)return R.close(l,function(h){return i(h,a,void 0,Mn(a,-1,n,!1))});{let f=n.discardDescriptor||n.detachDescriptor;i(null,a,l,Mn(a,f?-1:l,n,!1))}})})}function Fl(e){let t=ut(e),r=t[0],n=r.discardDescriptor||r.detachDescriptor,i=Nn(r);var s=R.openSync(i,_o,r.mode||bo);return r.discardDescriptor&&(R.closeSync(s),s=void 0),{name:i,fd:s,removeCallback:Mn(i,n?-1:s,r,!0)}}function Ol(e,t){let r=ut(e,t),n=r[0],i=r[1];$n(n,function(o,a){if(o)return i(o);R.mkdir(a,n.mode||wo,function(u){if(u)return i(u);i(null,a,Co(a,n,!1))})})}function Rl(e){let t=ut(e),r=t[0],n=Nn(r);return R.mkdirSync(n,r.mode||wo),{name:n,removeCallback:Co(n,r,!0)}}function xl(e,t){let r=function(n){if(n&&!Pn(n))return t(n);t()};0<=e[0]?R.close(e[0],function(){R.unlink(e[1],r)}):R.unlink(e[1],r)}function Tl(e){let t=null;try{0<=e[0]&&R.closeSync(e[0])}catch(r){if(!ql(r)&&!Pn(r))throw r}finally{try{R.unlinkSync(e[1])}catch(r){Pn(r)||(t=r)}}if(t!==null)throw t}function Mn(e,t,r,n){let i=ur(Tl,[t,e],n),s=ur(xl,[t,e],n,i);return r.keep||ct.unshift(i),n?i:s}function Co(e,t,r){let n=t.unsafeCleanup?vo:R.rmdir.bind(R),i=t.unsafeCleanup?Bo:Eo,s=ur(i,e,r),o=ur(n,e,r,s);return t.keep||ct.unshift(s),r?s:o}function ur(e,t,r,n){let i=!1;return function s(o){if(!i){let a=n||s,c=ct.indexOf(a);return c>=0&&ct.splice(c,1),i=!0,r||e===Eo||e===Bo?e(t):e(t,o||function(){})}}}function Ml(){if(Ao)for(;ct.length;)try{ct[0]()}catch{}}function mo(e){let t=[],r=null;try{r=po.randomBytes(e)}catch{r=po.pseudoRandomBytes(e)}for(var n=0;n<e;n++)t.push(go[r[n]%go.length]);return t.join("")}function So(e){return e===null||G(e)||!e.trim()}function G(e){return typeof e>"u"}function ut(e,t){if(typeof e=="function")return[{},e];if(G(e))return[{},t];let r={};for(let n of Object.getOwnPropertyNames(e))r[n]=e[n];return[r,t]}function Do(e){let t=e.tmpdir;if(!G(e.name))return Q.join(t,e.dir,e.name);if(!G(e.template))return Q.join(t,e.dir,e.template).replace(yo,mo(6));let r=[e.prefix?e.prefix:"tmp","-",process.pid,"-",mo(12),e.postfix?"-"+e.postfix:""].join("");return Q.join(t,e.dir,r)}function Io(e){e.tmpdir=Oo(e);let t=e.tmpdir;if(G(e.name)||Tn(e.name,"name",t),G(e.dir)||Tn(e.dir,"dir",t),!G(e.template)&&(Tn(e.template,"template",t),!e.template.match(yo)))throw new Error(`Invalid template, found "${e.template}".`);if(!G(e.tries)&&isNaN(e.tries)||e.tries<0)throw new Error(`Invalid tries, found "${e.tries}".`);e.tries=G(e.name)?e.tries||Bl:1,e.keep=!!e.keep,e.detachDescriptor=!!e.detachDescriptor,e.discardDescriptor=!!e.discardDescriptor,e.unsafeCleanup=!!e.unsafeCleanup,e.dir=G(e.dir)?"":Q.relative(t,qn(e.dir,t)),e.template=G(e.template)?void 0:Q.relative(t,qn(e.template,t)),e.template=So(e.template)?void 0:Q.relative(e.dir,e.template),e.name=G(e.name)?void 0:Un(e.name),e.prefix=G(e.prefix)?"":e.prefix,e.postfix=G(e.postfix)?"":e.postfix}function qn(e,t){let r=Un(e);return r.startsWith(t)?Q.resolve(r):Q.resolve(Q.join(t,r))}function Un(e){return So(e)?e:e.replace(/["']/g,"")}function Tn(e,t,r){if(t==="name"){if(Q.isAbsolute(e))throw new Error(`${t} option must not contain an absolute path, found "${e}".`);let n=Q.basename(e);if(n===".."||n==="."||n!==e)throw new Error(`${t} option must not contain a path, found "${e}".`)}else{if(Q.isAbsolute(e)&&!e.startsWith(r))throw new Error(`${t} option must be relative to "${r}", found "${e}".`);let n=qn(e,r);if(!n.startsWith(r))throw new Error(`${t} option must be relative to "${r}", found "${n}".`)}}function ql(e){return Fo(e,-Cl,"EBADF")}function Pn(e){return Fo(e,-Sl,"ENOENT")}function Fo(e,t,r){return Al?e.code===r:e.code===r&&e.errno===t}function Pl(){Ao=!0}function Oo(e){return Q.resolve(Un(e&&e.tmpdir||jn.tmpdir()))}process.addListener(Dl,Ml);Object.defineProperty(be.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return Oo()}});be.exports.dir=Ol;be.exports.dirSync=Rl;be.exports.file=Il;be.exports.fileSync=Fl;be.exports.tmpName=$n;be.exports.tmpNameSync=Nn;be.exports.setGracefulCleanup=Pl});var xo=y((Ep,ee)=>{"use strict";var{promisify:Ft}=require("util"),Te=Ro();ee.exports.fileSync=Te.fileSync;var jl=Ft((e,t)=>Te.file(e,(r,n,i,s)=>r?t(r):t(void 0,{path:n,fd:i,cleanup:Ft(s)})));ee.exports.file=async e=>jl(e);ee.exports.withFile=async function(t,r){let{path:n,fd:i,cleanup:s}=await ee.exports.file(r);try{return await t({path:n,fd:i})}finally{await s()}};ee.exports.dirSync=Te.dirSync;var $l=Ft((e,t)=>Te.dir(e,(r,n,i)=>r?t(r):t(void 0,{path:n,cleanup:Ft(i)})));ee.exports.dir=async e=>$l(e);ee.exports.withDir=async function(t,r){let{path:n,cleanup:i}=await ee.exports.dir(r);try{return await t({path:n})}finally{await i()}};ee.exports.tmpNameSync=Te.tmpNameSync;ee.exports.tmpName=Ft(Te.tmpName);ee.exports.tmpdir=Te.tmpdir;ee.exports.setGracefulCleanup=Te.setGracefulCleanup});var lt=y(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.getRetentionDays=C.getWorkSpaceDirectory=C.getWorkFlowRunId=C.getRuntimeUrl=C.getRuntimeToken=C.getDownloadFileConcurrency=C.getInitialRetryIntervalInMilliseconds=C.getRetryMultiplier=C.getRetryLimit=C.getUploadChunkSize=C.getUploadFileConcurrency=void 0;function Nl(){return 2}C.getUploadFileConcurrency=Nl;function Ul(){return 8*1024*1024}C.getUploadChunkSize=Ul;function kl(){return 5}C.getRetryLimit=kl;function Ll(){return 1.5}C.getRetryMultiplier=Ll;function zl(){return 3e3}C.getInitialRetryIntervalInMilliseconds=zl;function Gl(){return 2}C.getDownloadFileConcurrency=Gl;function Hl(){let e=process.env.ACTIONS_RUNTIME_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_RUNTIME_TOKEN env variable");return e}C.getRuntimeToken=Hl;function Wl(){let e=process.env.ACTIONS_RUNTIME_URL;if(!e)throw new Error("Unable to get ACTIONS_RUNTIME_URL env variable");return e}C.getRuntimeUrl=Wl;function Vl(){let e=process.env.GITHUB_RUN_ID;if(!e)throw new Error("Unable to get GITHUB_RUN_ID env variable");return e}C.getWorkFlowRunId=Vl;function Kl(){let e=process.env.GITHUB_WORKSPACE;if(!e)throw new Error("Unable to get GITHUB_WORKSPACE env variable");return e}C.getWorkSpaceDirectory=Kl;function Jl(){return process.env.GITHUB_RETENTION_DAYS}C.getRetentionDays=Jl});var To=y(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});var Zl=[BigInt("0x0000000000000000"),BigInt("0x7F6EF0C830358979"),BigInt("0xFEDDE190606B12F2"),BigInt("0x81B31158505E9B8B"),BigInt("0xC962E5739841B68F"),BigInt("0xB60C15BBA8743FF6"),BigInt("0x37BF04E3F82AA47D"),BigInt("0x48D1F42BC81F2D04"),BigInt("0xA61CECB46814FE75"),BigInt("0xD9721C7C5821770C"),BigInt("0x58C10D24087FEC87"),BigInt("0x27AFFDEC384A65FE"),BigInt("0x6F7E09C7F05548FA"),BigInt("0x1010F90FC060C183"),BigInt("0x91A3E857903E5A08"),BigInt("0xEECD189FA00BD371"),BigInt("0x78E0FF3B88BE6F81"),BigInt("0x078E0FF3B88BE6F8"),BigInt("0x863D1EABE8D57D73"),BigInt("0xF953EE63D8E0F40A"),BigInt("0xB1821A4810FFD90E"),BigInt("0xCEECEA8020CA5077"),BigInt("0x4F5FFBD87094CBFC"),BigInt("0x30310B1040A14285"),BigInt("0xDEFC138FE0AA91F4"),BigInt("0xA192E347D09F188D"),BigInt("0x2021F21F80C18306"),BigInt("0x5F4F02D7B0F40A7F"),BigInt("0x179EF6FC78EB277B"),BigInt("0x68F0063448DEAE02"),BigInt("0xE943176C18803589"),BigInt("0x962DE7A428B5BCF0"),BigInt("0xF1C1FE77117CDF02"),BigInt("0x8EAF0EBF2149567B"),BigInt("0x0F1C1FE77117CDF0"),BigInt("0x7072EF2F41224489"),BigInt("0x38A31B04893D698D"),BigInt("0x47CDEBCCB908E0F4"),BigInt("0xC67EFA94E9567B7F"),BigInt("0xB9100A5CD963F206"),BigInt("0x57DD12C379682177"),BigInt("0x28B3E20B495DA80E"),BigInt("0xA900F35319033385"),BigInt("0xD66E039B2936BAFC"),BigInt("0x9EBFF7B0E12997F8"),BigInt("0xE1D10778D11C1E81"),BigInt("0x606216208142850A"),BigInt("0x1F0CE6E8B1770C73"),BigInt("0x8921014C99C2B083"),BigInt("0xF64FF184A9F739FA"),BigInt("0x77FCE0DCF9A9A271"),BigInt("0x08921014C99C2B08"),BigInt("0x4043E43F0183060C"),BigInt("0x3F2D14F731B68F75"),BigInt("0xBE9E05AF61E814FE"),BigInt("0xC1F0F56751DD9D87"),BigInt("0x2F3DEDF8F1D64EF6"),BigInt("0x50531D30C1E3C78F"),BigInt("0xD1E00C6891BD5C04"),BigInt("0xAE8EFCA0A188D57D"),BigInt("0xE65F088B6997F879"),BigInt("0x9931F84359A27100"),BigInt("0x1882E91B09FCEA8B"),BigInt("0x67EC19D339C963F2"),BigInt("0xD75ADABD7A6E2D6F"),BigInt("0xA8342A754A5BA416"),BigInt("0x29873B2D1A053F9D"),BigInt("0x56E9CBE52A30B6E4"),BigInt("0x1E383FCEE22F9BE0"),BigInt("0x6156CF06D21A1299"),BigInt("0xE0E5DE5E82448912"),BigInt("0x9F8B2E96B271006B"),BigInt("0x71463609127AD31A"),BigInt("0x0E28C6C1224F5A63"),BigInt("0x8F9BD7997211C1E8"),BigInt("0xF0F5275142244891"),BigInt("0xB824D37A8A3B6595"),BigInt("0xC74A23B2BA0EECEC"),BigInt("0x46F932EAEA507767"),BigInt("0x3997C222DA65FE1E"),BigInt("0xAFBA2586F2D042EE"),BigInt("0xD0D4D54EC2E5CB97"),BigInt("0x5167C41692BB501C"),BigInt("0x2E0934DEA28ED965"),BigInt("0x66D8C0F56A91F461"),BigInt("0x19B6303D5AA47D18"),BigInt("0x980521650AFAE693"),BigInt("0xE76BD1AD3ACF6FEA"),BigInt("0x09A6C9329AC4BC9B"),BigInt("0x76C839FAAAF135E2"),BigInt("0xF77B28A2FAAFAE69"),BigInt("0x8815D86ACA9A2710"),BigInt("0xC0C42C4102850A14"),BigInt("0xBFAADC8932B0836D"),BigInt("0x3E19CDD162EE18E6"),BigInt("0x41773D1952DB919F"),BigInt("0x269B24CA6B12F26D"),BigInt("0x59F5D4025B277B14"),BigInt("0xD846C55A0B79E09F"),BigInt("0xA72835923B4C69E6"),BigInt("0xEFF9C1B9F35344E2"),BigInt("0x90973171C366CD9B"),BigInt("0x1124202993385610"),BigInt("0x6E4AD0E1A30DDF69"),BigInt("0x8087C87E03060C18"),BigInt("0xFFE938B633338561"),BigInt("0x7E5A29EE636D1EEA"),BigInt("0x0134D92653589793"),BigInt("0x49E52D0D9B47BA97"),BigInt("0x368BDDC5AB7233EE"),BigInt("0xB738CC9DFB2CA865"),BigInt("0xC8563C55CB19211C"),BigInt("0x5E7BDBF1E3AC9DEC"),BigInt("0x21152B39D3991495"),BigInt("0xA0A63A6183C78F1E"),BigInt("0xDFC8CAA9B3F20667"),BigInt("0x97193E827BED2B63"),BigInt("0xE877CE4A4BD8A21A"),BigInt("0x69C4DF121B863991"),BigInt("0x16AA2FDA2BB3B0E8"),BigInt("0xF86737458BB86399"),BigInt("0x8709C78DBB8DEAE0"),BigInt("0x06BAD6D5EBD3716B"),BigInt("0x79D4261DDBE6F812"),BigInt("0x3105D23613F9D516"),BigInt("0x4E6B22FE23CC5C6F"),BigInt("0xCFD833A67392C7E4"),BigInt("0xB0B6C36E43A74E9D"),BigInt("0x9A6C9329AC4BC9B5"),BigInt("0xE50263E19C7E40CC"),BigInt("0x64B172B9CC20DB47"),BigInt("0x1BDF8271FC15523E"),BigInt("0x530E765A340A7F3A"),BigInt("0x2C608692043FF643"),BigInt("0xADD397CA54616DC8"),BigInt("0xD2BD67026454E4B1"),BigInt("0x3C707F9DC45F37C0"),BigInt("0x431E8F55F46ABEB9"),BigInt("0xC2AD9E0DA4342532"),BigInt("0xBDC36EC59401AC4B"),BigInt("0xF5129AEE5C1E814F"),BigInt("0x8A7C6A266C2B0836"),BigInt("0x0BCF7B7E3C7593BD"),BigInt("0x74A18BB60C401AC4"),BigInt("0xE28C6C1224F5A634"),BigInt("0x9DE29CDA14C02F4D"),BigInt("0x1C518D82449EB4C6"),BigInt("0x633F7D4A74AB3DBF"),BigInt("0x2BEE8961BCB410BB"),BigInt("0x548079A98C8199C2"),BigInt("0xD53368F1DCDF0249"),BigInt("0xAA5D9839ECEA8B30"),BigInt("0x449080A64CE15841"),BigInt("0x3BFE706E7CD4D138"),BigInt("0xBA4D61362C8A4AB3"),BigInt("0xC52391FE1CBFC3CA"),BigInt("0x8DF265D5D4A0EECE"),BigInt("0xF29C951DE49567B7"),BigInt("0x732F8445B4CBFC3C"),BigInt("0x0C41748D84FE7545"),BigInt("0x6BAD6D5EBD3716B7"),BigInt("0x14C39D968D029FCE"),BigInt("0x95708CCEDD5C0445"),BigInt("0xEA1E7C06ED698D3C"),BigInt("0xA2CF882D2576A038"),BigInt("0xDDA178E515432941"),BigInt("0x5C1269BD451DB2CA"),BigInt("0x237C997575283BB3"),BigInt("0xCDB181EAD523E8C2"),BigInt("0xB2DF7122E51661BB"),BigInt("0x336C607AB548FA30"),BigInt("0x4C0290B2857D7349"),BigInt("0x04D364994D625E4D"),BigInt("0x7BBD94517D57D734"),BigInt("0xFA0E85092D094CBF"),BigInt("0x856075C11D3CC5C6"),BigInt("0x134D926535897936"),BigInt("0x6C2362AD05BCF04F"),BigInt("0xED9073F555E26BC4"),BigInt("0x92FE833D65D7E2BD"),BigInt("0xDA2F7716ADC8CFB9"),BigInt("0xA54187DE9DFD46C0"),BigInt("0x24F29686CDA3DD4B"),BigInt("0x5B9C664EFD965432"),BigInt("0xB5517ED15D9D8743"),BigInt("0xCA3F8E196DA80E3A"),BigInt("0x4B8C9F413DF695B1"),BigInt("0x34E26F890DC31CC8"),BigInt("0x7C339BA2C5DC31CC"),BigInt("0x035D6B6AF5E9B8B5"),BigInt("0x82EE7A32A5B7233E"),BigInt("0xFD808AFA9582AA47"),BigInt("0x4D364994D625E4DA"),BigInt("0x3258B95CE6106DA3"),BigInt("0xB3EBA804B64EF628"),BigInt("0xCC8558CC867B7F51"),BigInt("0x8454ACE74E645255"),BigInt("0xFB3A5C2F7E51DB2C"),BigInt("0x7A894D772E0F40A7"),BigInt("0x05E7BDBF1E3AC9DE"),BigInt("0xEB2AA520BE311AAF"),BigInt("0x944455E88E0493D6"),BigInt("0x15F744B0DE5A085D"),BigInt("0x6A99B478EE6F8124"),BigInt("0x224840532670AC20"),BigInt("0x5D26B09B16452559"),BigInt("0xDC95A1C3461BBED2"),BigInt("0xA3FB510B762E37AB"),BigInt("0x35D6B6AF5E9B8B5B"),BigInt("0x4AB846676EAE0222"),BigInt("0xCB0B573F3EF099A9"),BigInt("0xB465A7F70EC510D0"),BigInt("0xFCB453DCC6DA3DD4"),BigInt("0x83DAA314F6EFB4AD"),BigInt("0x0269B24CA6B12F26"),BigInt("0x7D0742849684A65F"),BigInt("0x93CA5A1B368F752E"),BigInt("0xECA4AAD306BAFC57"),BigInt("0x6D17BB8B56E467DC"),BigInt("0x12794B4366D1EEA5"),BigInt("0x5AA8BF68AECEC3A1"),BigInt("0x25C64FA09EFB4AD8"),BigInt("0xA4755EF8CEA5D153"),BigInt("0xDB1BAE30FE90582A"),BigInt("0xBCF7B7E3C7593BD8"),BigInt("0xC399472BF76CB2A1"),BigInt("0x422A5673A732292A"),BigInt("0x3D44A6BB9707A053"),BigInt("0x759552905F188D57"),BigInt("0x0AFBA2586F2D042E"),BigInt("0x8B48B3003F739FA5"),BigInt("0xF42643C80F4616DC"),BigInt("0x1AEB5B57AF4DC5AD"),BigInt("0x6585AB9F9F784CD4"),BigInt("0xE436BAC7CF26D75F"),BigInt("0x9B584A0FFF135E26"),BigInt("0xD389BE24370C7322"),BigInt("0xACE74EEC0739FA5B"),BigInt("0x2D545FB4576761D0"),BigInt("0x523AAF7C6752E8A9"),BigInt("0xC41748D84FE75459"),BigInt("0xBB79B8107FD2DD20"),BigInt("0x3ACAA9482F8C46AB"),BigInt("0x45A459801FB9CFD2"),BigInt("0x0D75ADABD7A6E2D6"),BigInt("0x721B5D63E7936BAF"),BigInt("0xF3A84C3BB7CDF024"),BigInt("0x8CC6BCF387F8795D"),BigInt("0x620BA46C27F3AA2C"),BigInt("0x1D6554A417C62355"),BigInt("0x9CD645FC4798B8DE"),BigInt("0xE3B8B53477AD31A7"),BigInt("0xAB69411FBFB21CA3"),BigInt("0xD407B1D78F8795DA"),BigInt("0x55B4A08FDFD90E51"),BigInt("0x2ADA5047EFEC8728")],ft=class{constructor(){this._crc=BigInt(0)}update(t){let r=typeof t=="string"?Buffer.from(t):t,n=ft.flip64Bits(this._crc);for(let i of r){let s=Number(n&BigInt(255));n=Zl[s^i]^n>>BigInt(8)}this._crc=ft.flip64Bits(n)}digest(t){switch(t){case"hex":return this._crc.toString(16).toUpperCase();case"base64":return this.toBuffer().toString("base64");default:return this.toBuffer()}}toBuffer(){return Buffer.from([0,8,16,24,32,40,48,56].map(t=>Number(this._crc>>BigInt(t)&BigInt(255))))}static flip64Bits(t){return(BigInt(1)<<BigInt(64))-BigInt(1)-t}};kn.default=ft});var dt=y(_=>{"use strict";var ht=_&&_.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Mo=_&&_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_,"__esModule",{value:!0});_.digestForStream=_.sleep=_.getProperRetention=_.rmFile=_.getFileSize=_.createEmptyFilesForArtifact=_.createDirectoriesForArtifact=_.displayHttpDiagnostics=_.getArtifactUrl=_.createHttpClient=_.getUploadHeaders=_.getDownloadHeaders=_.getContentRange=_.tryGetRetryAfterValueTimeInMilliseconds=_.isThrottledStatusCode=_.isRetryableStatusCode=_.isForbiddenStatusCode=_.isSuccessStatusCode=_.getApiVersion=_.parseEnvNumber=_.getExponentialRetryTimeInMilliseconds=void 0;var Yl=Mo(require("crypto")),lr=require("fs"),We=k(),Me=Qt(),Xl=Kr(),He=lt(),Ql=Mo(To());function ef(e){if(e<0)throw new Error("RetryCount should not be negative");if(e===0)return He.getInitialRetryIntervalInMilliseconds();let t=He.getInitialRetryIntervalInMilliseconds()*He.getRetryMultiplier()*e,r=t*He.getRetryMultiplier();return Math.trunc(Math.random()*(r-t)+t)}_.getExponentialRetryTimeInMilliseconds=ef;function tf(e){let t=Number(process.env[e]);if(!(Number.isNaN(t)||t<0))return t}_.parseEnvNumber=tf;function Ot(){return"6.0-preview"}_.getApiVersion=Ot;function rf(e){return e?e>=200&&e<300:!1}_.isSuccessStatusCode=rf;function nf(e){return e?e===Me.HttpCodes.Forbidden:!1}_.isForbiddenStatusCode=nf;function sf(e){return e?[Me.HttpCodes.BadGateway,Me.HttpCodes.GatewayTimeout,Me.HttpCodes.InternalServerError,Me.HttpCodes.ServiceUnavailable,Me.HttpCodes.TooManyRequests,413].includes(e):!1}_.isRetryableStatusCode=sf;function of(e){return e?e===Me.HttpCodes.TooManyRequests:!1}_.isThrottledStatusCode=of;function af(e){if(e["retry-after"]){let t=Number(e["retry-after"]);if(!isNaN(t))return We.info(`Retry-After header is present with a value of ${t}`),t*1e3;We.info(`Returned retry-after header value: ${t} is non-numeric and cannot be used`);return}We.info("No retry-after header was found. Dumping all headers for diagnostic purposes"),console.log(e)}_.tryGetRetryAfterValueTimeInMilliseconds=af;function cf(e,t,r){return`bytes ${e}-${t}/${r}`}_.getContentRange=cf;function uf(e,t,r){let n={};return e&&(n["Content-Type"]=e),t&&(n.Connection="Keep-Alive",n["Keep-Alive"]="10"),r?(n["Accept-Encoding"]="gzip",n.Accept=`application/octet-stream;api-version=${Ot()}`):n.Accept=`application/json;api-version=${Ot()}`,n}_.getDownloadHeaders=uf;function lf(e,t,r,n,i,s,o){let a={};return a.Accept=`application/json;api-version=${Ot()}`,e&&(a["Content-Type"]=e),t&&(a.Connection="Keep-Alive",a["Keep-Alive"]="10"),r&&(a["Content-Encoding"]="gzip",a["x-tfs-filelength"]=n),i&&(a["Content-Length"]=i),s&&(a["Content-Range"]=s),o&&(a["x-actions-results-crc64"]=o.crc64,a["x-actions-results-md5"]=o.md5),a}_.getUploadHeaders=lf;function ff(e){return new Me.HttpClient(e,[new Xl.BearerCredentialHandler(He.getRuntimeToken())])}_.createHttpClient=ff;function hf(){let e=`${He.getRuntimeUrl()}_apis/pipelines/workflows/${He.getWorkFlowRunId()}/artifacts?api-version=${Ot()}`;return We.debug(`Artifact Url: ${e}`),e}_.getArtifactUrl=hf;function df(e){We.info(`##### Begin Diagnostic HTTP information #####
Status Code: ${e.message.statusCode}
Status Message: ${e.message.statusMessage}
Header Information: ${JSON.stringify(e.message.headers,void 0,2)}
###### End Diagnostic HTTP information ######`)}_.displayHttpDiagnostics=df;function pf(e){return ht(this,void 0,void 0,function*(){for(let t of e)yield lr.promises.mkdir(t,{recursive:!0})})}_.createDirectoriesForArtifact=pf;function gf(e){return ht(this,void 0,void 0,function*(){for(let t of e)yield(yield lr.promises.open(t,"w")).close()})}_.createEmptyFilesForArtifact=gf;function mf(e){return ht(this,void 0,void 0,function*(){let t=yield lr.promises.stat(e);return We.debug(`${e} size:(${t.size}) blksize:(${t.blksize}) blocks:(${t.blocks})`),t.size})}_.getFileSize=mf;function vf(e){return ht(this,void 0,void 0,function*(){yield lr.promises.unlink(e)})}_.rmFile=vf;function yf(e,t){if(e<0)throw new Error("Invalid retention, minimum value is 1.");let r=e;if(t){let n=parseInt(t);!isNaN(n)&&n<r&&(We.warning(`Retention days is greater than the max value allowed by the repository setting, reduce retention to ${n} days`),r=n)}return r}_.getProperRetention=yf;function _f(e){return ht(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(t,e))})}_.sleep=_f;function wf(e){return ht(this,void 0,void 0,function*(){return new Promise((t,r)=>{let n=new Ql.default,i=Yl.default.createHash("md5");e.on("data",s=>{n.update(s),i.update(s)}).on("end",()=>t({crc64:n.digest("base64"),md5:i.digest("base64")})).on("error",r)})})}_.digestForStream=wf});var zn=y(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.StatusReporter=void 0;var qo=k(),Ln=class{constructor(t){this.totalNumberOfFilesToProcess=0,this.processedCount=0,this.largeFiles=new Map,this.totalFileStatus=void 0,this.displayFrequencyInMilliseconds=t}setTotalNumberOfFilesToProcess(t){this.totalNumberOfFilesToProcess=t,this.processedCount=0}start(){this.totalFileStatus=setInterval(()=>{let t=this.formatPercentage(this.processedCount,this.totalNumberOfFilesToProcess);qo.info(`Total file count: ${this.totalNumberOfFilesToProcess} ---- Processed file #${this.processedCount} (${t.slice(0,t.indexOf(".")+2)}%)`)},this.displayFrequencyInMilliseconds)}updateLargeFileStatus(t,r,n,i){let s=this.formatPercentage(n,i);qo.info(`Uploaded ${t} (${s.slice(0,s.indexOf(".")+2)}%) bytes ${r}:${n}`)}stop(){this.totalFileStatus&&clearInterval(this.totalFileStatus)}incrementProcessedCount(){this.processedCount++}formatPercentage(t,r){return(t/r*100).toFixed(4).toString()}};fr.StatusReporter=Ln});var Hn=y(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.HttpManager=void 0;var Po=dt(),Gn=class{constructor(t,r){if(t<1)throw new Error("There must be at least one client");this.userAgent=r,this.clients=new Array(t).fill(Po.createHttpClient(r))}getClient(t){return this.clients[t]}disposeAndReplaceClient(t){this.clients[t].dispose(),this.clients[t]=Po.createHttpClient(this.userAgent)}disposeAndReplaceAllClients(){for(let[t]of this.clients.entries())this.disposeAndReplaceClient(t)}};hr.HttpManager=Gn});var No=y(j=>{"use strict";var bf=j&&j.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ef=j&&j.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jo=j&&j.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&bf(t,e,r);return Ef(t,e),t},dr=j&&j.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Bf=j&&j.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}};Object.defineProperty(j,"__esModule",{value:!0});j.createGZipFileInBuffer=j.createGZipFileOnDisk=void 0;var pr=jo(require("fs")),$o=jo(require("zlib")),Af=require("util"),Cf=Af.promisify(pr.stat),Sf=[".gzip",".zip",".tar.lz",".tar.gz",".tar.bz2",".7z"];function Df(e,t){return dr(this,void 0,void 0,function*(){for(let r of Sf)if(e.endsWith(r))return Number.MAX_SAFE_INTEGER;return new Promise((r,n)=>{let i=pr.createReadStream(e),s=$o.createGzip(),o=pr.createWriteStream(t);i.pipe(s).pipe(o),o.on("finish",()=>dr(this,void 0,void 0,function*(){let a=(yield Cf(t)).size;r(a)})),o.on("error",a=>{console.log(a)})})})}j.createGZipFileOnDisk=Df;function If(e){return dr(this,void 0,void 0,function*(){return new Promise(t=>dr(this,void 0,void 0,function*(){var r,n;let i=pr.createReadStream(e),s=$o.createGzip();i.pipe(s);let o=[];try{for(var a=Bf(s),c;c=yield a.next(),!c.done;){let u=c.value;o.push(u)}}catch(u){r={error:u}}finally{try{c&&!c.done&&(n=a.return)&&(yield n.call(a))}finally{if(r)throw r.error}}t(Buffer.concat(o))}))})}j.createGZipFileInBuffer=If});var Wn=y(H=>{"use strict";var Ff=H&&H.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Of=H&&H.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Rf=H&&H.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ff(t,e,r);return Of(t,e),t},ko=H&&H.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(H,"__esModule",{value:!0});H.retryHttpClientRequest=H.retry=void 0;var pt=dt(),Uo=Rf(k()),xf=lt();function Lo(e,t,r,n){return ko(this,void 0,void 0,function*(){let i,s,o=!1,a="",c,u=1;for(;u<=n;){try{if(i=yield t(),s=i.message.statusCode,pt.isSuccessStatusCode(s))return i;s&&(c=r.get(s)),o=pt.isRetryableStatusCode(s),a=`Artifact service responded with ${s}`}catch(l){o=!0,a=l.message}if(!o){Uo.info(`${e} - Error is not retryable`),i&&pt.displayHttpDiagnostics(i);break}Uo.info(`${e} - Attempt ${u} of ${n} failed with error: ${a}`),yield pt.sleep(pt.getExponentialRetryTimeInMilliseconds(u)),u++}throw i&&pt.displayHttpDiagnostics(i),Error(c?`${e} failed: ${c}`:`${e} failed: ${a}`)})}H.retry=Lo;function Tf(e,t,r=new Map,n=xf.getRetryLimit()){return ko(this,void 0,void 0,function*(){return yield Lo(e,t,r,n)})}H.retryHttpClientRequest=Tf});var Vo=y(ie=>{"use strict";var Mf=ie&&ie.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qf=ie&&ie.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gr=ie&&ie.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Mf(t,e,r);return qf(t,e),t},ge=ie&&ie.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(ie,"__esModule",{value:!0});ie.UploadHttpClient=void 0;var Kn=gr(require("fs")),S=gr(k()),Pf=gr(xo()),jf=gr(require("stream")),q=dt(),Rt=lt(),$f=require("util"),zo=require("url"),Go=require("perf_hooks"),Nf=zn(),Vn=Qt(),Uf=Hn(),Ho=No(),Wo=Wn(),kf=$f.promisify(Kn.stat),Jn=class{constructor(){this.uploadHttpManager=new Uf.HttpManager(Rt.getUploadFileConcurrency(),"@actions/artifact-upload"),this.statusReporter=new Nf.StatusReporter(1e4)}createArtifactInFileContainer(t,r){return ge(this,void 0,void 0,function*(){let n={Type:"actions_storage",Name:t};if(r&&r.retentionDays){let f=Rt.getRetentionDays();n.RetentionDays=q.getProperRetention(r.retentionDays,f)}let i=JSON.stringify(n,null,2),s=q.getArtifactUrl(),o=this.uploadHttpManager.getClient(0),a=q.getUploadHeaders("application/json",!1),c=new Map([[Vn.HttpCodes.Forbidden,"Artifact storage quota has been hit. Unable to upload any new artifacts"],[Vn.HttpCodes.BadRequest,`The artifact name ${t} is not valid. Request URL ${s}`]]),l=yield(yield Wo.retryHttpClientRequest("Create Artifact Container",()=>ge(this,void 0,void 0,function*(){return o.post(s,i,a)}),c)).readBody();return JSON.parse(l)})}uploadArtifactToFileContainer(t,r,n){return ge(this,void 0,void 0,function*(){let i=Rt.getUploadFileConcurrency(),s=Rt.getUploadChunkSize();S.debug(`File Concurrency: ${i}, and Chunk Size: ${s}`);let o=[],a=!0;n&&n.continueOnError===!1&&(a=!1);for(let v of r){let g=new zo.URL(t);g.searchParams.append("itemPath",v.uploadFilePath),o.push({file:v.absoluteFilePath,resourceUrl:g.toString(),maxChunkSize:s,continueOnError:a})}let c=[...new Array(i).keys()],u=[],l=0,f=0,h=0,d=0,p=!1;return this.statusReporter.setTotalNumberOfFilesToProcess(r.length),this.statusReporter.start(),yield Promise.all(c.map(v=>ge(this,void 0,void 0,function*(){for(;l<r.length;){let g=o[l];if(l+=1,p){u.push(g.file);continue}let w=Go.performance.now(),B=yield this.uploadFileAsync(v,g);S.isDebug()&&S.debug(`File: ${++f}/${r.length}. ${g.file} took ${(Go.performance.now()-w).toFixed(3)} milliseconds to finish upload`),h+=B.successfulUploadSize,d+=B.totalSize,B.isSuccess===!1&&(u.push(g.file),a||(S.error("aborting artifact upload"),p=!0)),this.statusReporter.incrementProcessedCount()}}))),this.statusReporter.stop(),this.uploadHttpManager.disposeAndReplaceAllClients(),S.info(`Total size of all the files uploaded is ${h} bytes`),{uploadSize:h,totalSize:d,failedItems:u}})}uploadFileAsync(t,r){return ge(this,void 0,void 0,function*(){let n=yield kf(r.file),i=n.size,s=n.isFIFO(),o=0,a=!0,c=0,u=0,l=!0;if(!s&&i<65536){S.debug(`${r.file} is less than 64k in size. Creating a gzip file in-memory to potentially reduce the upload size`);let f=yield Ho.createGZipFileInBuffer(r.file),h;return i<f.byteLength?(S.debug(`The gzip file created for ${r.file} did not help with reducing the size of the file. The original file will be uploaded as-is`),h=()=>Kn.createReadStream(r.file),l=!1,u=i):(S.debug(`A gzip file created for ${r.file} helped with reducing the size of the original file. The file will be uploaded using gzip.`),h=()=>{let p=new jf.PassThrough;return p.end(f),p},u=f.byteLength),(yield this.uploadChunk(t,r.resourceUrl,h,0,u-1,u,l,i))||(a=!1,c+=u,S.warning(`Aborting upload for ${r.file} due to failure`)),{isSuccess:a,successfulUploadSize:u-c,totalSize:i}}else{let f=yield Pf.file();S.debug(`${r.file} is greater than 64k in size. Creating a gzip file on-disk ${f.path} to potentially reduce the upload size`),u=yield Ho.createGZipFileOnDisk(r.file,f.path);let h=f.path;!s&&i<u?(S.debug(`The gzip file created for ${r.file} did not help with reducing the size of the file. The original file will be uploaded as-is`),u=i,h=r.file,l=!1):S.debug(`The gzip file created for ${r.file} is smaller than the original file. The file will be uploaded using gzip.`);let d=!1;for(;o<u;){let p=Math.min(u-o,r.maxChunkSize),v=o,g=o+p-1;if(o+=r.maxChunkSize,d){c+=p;continue}(yield this.uploadChunk(t,r.resourceUrl,()=>Kn.createReadStream(h,{start:v,end:g,autoClose:!1}),v,g,u,l,i))?u>8388608&&this.statusReporter.updateLargeFileStatus(r.file,v,g,u):(a=!1,c+=p,S.warning(`Aborting upload for ${r.file} due to failure`),d=!0)}return S.debug(`deleting temporary gzip file ${f.path}`),yield f.cleanup(),{isSuccess:a,successfulUploadSize:u-c,totalSize:i}}})}uploadChunk(t,r,n,i,s,o,a,c){return ge(this,void 0,void 0,function*(){let u=yield q.digestForStream(n()),l=q.getUploadHeaders("application/octet-stream",!0,a,c,s-i+1,q.getContentRange(i,s,o),u),f=()=>ge(this,void 0,void 0,function*(){return yield this.uploadHttpManager.getClient(t).sendStream("PUT",r,n(),l)}),h=0,d=Rt.getRetryLimit(),p=g=>(h++,h>d?(g&&q.displayHttpDiagnostics(g),S.info(`Retry limit has been reached for chunk at offset ${i} to ${r}`),!0):!1),v=g=>ge(this,void 0,void 0,function*(){if(this.uploadHttpManager.disposeAndReplaceClient(t),g)S.info(`Backoff due to too many requests, retry #${h}. Waiting for ${g} milliseconds before continuing the upload`),yield q.sleep(g);else{let w=q.getExponentialRetryTimeInMilliseconds(h);S.info(`Exponential backoff for retry #${h}. Waiting for ${w} milliseconds before continuing the upload at offset ${i}`),yield q.sleep(w)}S.info(`Finished backoff for retry #${h}, continuing with upload`)});for(;h<=d;){let g;try{g=yield f()}catch(w){if(S.info(`An error has been caught http-client index ${t}, retrying the upload`),console.log(w),p())return!1;yield v();continue}if(yield g.readBody(),q.isSuccessStatusCode(g.message.statusCode))return!0;if(q.isRetryableStatusCode(g.message.statusCode)){if(S.info(`A ${g.message.statusCode} status code has been received, will attempt to retry the upload`),p(g))return!1;q.isThrottledStatusCode(g.message.statusCode)?yield v(q.tryGetRetryAfterValueTimeInMilliseconds(g.message.headers)):yield v()}else return S.error(`Unexpected response. Unable to upload chunk to ${r}`),q.displayHttpDiagnostics(g),!1}return!1})}patchArtifactSize(t,r){return ge(this,void 0,void 0,function*(){let n=new zo.URL(q.getArtifactUrl());n.searchParams.append("artifactName",r);let s=JSON.stringify({Size:t},null,2);S.debug(`URL is ${n.toString()}`);let o=this.uploadHttpManager.getClient(0),a=q.getUploadHeaders("application/json",!1),c=new Map([[Vn.HttpCodes.NotFound,`An Artifact with the name ${r} was not found`]]);yield(yield Wo.retryHttpClientRequest("Finalize artifact upload",()=>ge(this,void 0,void 0,function*(){return o.patch(n.toString(),s,a)}),c)).readBody(),S.debug(`Artifact ${r} has been successfully uploaded, total size in bytes: ${t}`)})}};ie.UploadHttpClient=Jn});var Yo=y(se=>{"use strict";var Lf=se&&se.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zf=se&&se.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Xn=se&&se.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Lf(t,e,r);return zf(t,e),t},fe=se&&se.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(se,"__esModule",{value:!0});se.DownloadHttpClient=void 0;var Ko=Xn(require("fs")),U=Xn(k()),Gf=Xn(require("zlib")),W=dt(),Hf=require("url"),Wf=zn(),Jo=require("perf_hooks"),Vf=Hn(),Zn=lt(),Zo=Wn(),Yn=class{constructor(){this.downloadHttpManager=new Vf.HttpManager(Zn.getDownloadFileConcurrency(),"@actions/artifact-download"),this.statusReporter=new Wf.StatusReporter(1e3)}listArtifacts(){return fe(this,void 0,void 0,function*(){let t=W.getArtifactUrl(),r=this.downloadHttpManager.getClient(0),n=W.getDownloadHeaders("application/json"),s=yield(yield Zo.retryHttpClientRequest("List Artifacts",()=>fe(this,void 0,void 0,function*(){return r.get(t,n)}))).readBody();return JSON.parse(s)})}getContainerItems(t,r){return fe(this,void 0,void 0,function*(){let n=new Hf.URL(r);n.searchParams.append("itemPath",t);let i=this.downloadHttpManager.getClient(0),s=W.getDownloadHeaders("application/json"),a=yield(yield Zo.retryHttpClientRequest("Get Container Items",()=>fe(this,void 0,void 0,function*(){return i.get(n.toString(),s)}))).readBody();return JSON.parse(a)})}downloadSingleArtifact(t){return fe(this,void 0,void 0,function*(){let r=Zn.getDownloadFileConcurrency();U.debug(`Download file concurrency is set to ${r}`);let n=[...new Array(r).keys()],i=0,s=0;U.info(`Total number of files that will be downloaded: ${t.length}`),this.statusReporter.setTotalNumberOfFilesToProcess(t.length),this.statusReporter.start(),yield Promise.all(n.map(o=>fe(this,void 0,void 0,function*(){for(;i<t.length;){let a=t[i];i+=1;let c=Jo.performance.now();yield this.downloadIndividualFile(o,a.sourceLocation,a.targetPath),U.isDebug()&&U.debug(`File: ${++s}/${t.length}. ${a.targetPath} took ${(Jo.performance.now()-c).toFixed(3)} milliseconds to finish downloading`),this.statusReporter.incrementProcessedCount()}}))).catch(o=>{throw new Error(`Unable to download the artifact: ${o}`)}).finally(()=>{this.statusReporter.stop(),this.downloadHttpManager.disposeAndReplaceAllClients()})})}downloadIndividualFile(t,r,n){return fe(this,void 0,void 0,function*(){let i=0,s=Zn.getRetryLimit(),o=Ko.createWriteStream(n),a=W.getDownloadHeaders("application/json",!0,!0),c=()=>fe(this,void 0,void 0,function*(){return yield this.downloadHttpManager.getClient(t).get(r,a)}),u=d=>"content-encoding"in d&&d["content-encoding"]==="gzip",l=d=>fe(this,void 0,void 0,function*(){if(i++,i>s)return Promise.reject(new Error(`Retry limit has been reached. Unable to download ${r}`));if(this.downloadHttpManager.disposeAndReplaceClient(t),d)U.info(`Backoff due to too many requests, retry #${i}. Waiting for ${d} milliseconds before continuing the download`),yield W.sleep(d);else{let p=W.getExponentialRetryTimeInMilliseconds(i);U.info(`Exponential backoff for retry #${i}. Waiting for ${p} milliseconds before continuing the download`),yield W.sleep(p)}U.info(`Finished backoff for retry #${i}, continuing with download`)}),f=(d,p)=>!d||!p||process.env.ACTIONS_ARTIFACT_SKIP_DOWNLOAD_VALIDATION?(U.info("Skipping download validation."),!0):parseInt(d)===p,h=d=>fe(this,void 0,void 0,function*(){o.close(),yield new Promise(p=>{o.on("close",p),o.writableFinished&&p()}),yield W.rmFile(d),o=Ko.createWriteStream(d)});for(;i<=s;){let d;try{d=yield c()}catch(v){U.info("An error occurred while attempting to download a file"),console.log(v),yield l();continue}let p=!1;if(W.isSuccessStatusCode(d.message.statusCode))try{let v=u(d.message.headers);if(yield this.pipeResponseToFile(d,o,v),v||f(d.message.headers["content-length"],yield W.getFileSize(n)))return;p=!0}catch{p=!0}if(p||W.isRetryableStatusCode(d.message.statusCode))U.info(`A ${d.message.statusCode} response code has been received while attempting to download an artifact`),h(n),W.isThrottledStatusCode(d.message.statusCode)?yield l(W.tryGetRetryAfterValueTimeInMilliseconds(d.message.headers)):yield l();else return W.displayHttpDiagnostics(d),Promise.reject(new Error(`Unexpected http ${d.message.statusCode} during download for ${r}`))}})}pipeResponseToFile(t,r,n){return fe(this,void 0,void 0,function*(){yield new Promise((i,s)=>{if(n){let o=Gf.createGunzip();t.message.on("error",a=>{U.error("An error occurred while attempting to read the response stream"),o.close(),r.close(),s(a)}).pipe(o).on("error",a=>{U.error("An error occurred while attempting to decompress the response stream"),r.close(),s(a)}).pipe(r).on("close",()=>{i()}).on("error",a=>{U.error(`An error occurred while writing a downloaded file to ${r.path}`),s(a)})}else t.message.on("error",o=>{U.error("An error occurred while attempting to read the response stream"),r.close(),s(o)}).pipe(r).on("close",()=>{i()}).on("error",o=>{U.error(`An error occurred while writing a downloaded file to ${r.path}`),s(o)})})})}};se.DownloadHttpClient=Yn});var Xo=y(me=>{"use strict";var Kf=me&&me.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Jf=me&&me.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Zf=me&&me.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Kf(t,e,r);return Jf(t,e),t};Object.defineProperty(me,"__esModule",{value:!0});me.getDownloadSpecification=void 0;var mr=Zf(require("path"));function Yf(e,t,r,n){let i=new Set,s={rootDownloadLocation:n?mr.join(r,e):r,directoryStructure:[],emptyFilesToCreate:[],filesToDownload:[]};for(let o of t)if(o.path.startsWith(`${e}/`)||o.path.startsWith(`${e}\\`)){let a=mr.normalize(o.path),c=mr.join(r,n?a:a.replace(e,""));o.itemType==="file"&&(i.add(mr.dirname(c)),o.fileLength===0?s.emptyFilesToCreate.push(c):s.filesToDownload.push({sourceLocation:o.contentLocation,targetPath:c}))}return s.directoryStructure=Array.from(i),s}me.getDownloadSpecification=Yf});var ra=y(oe=>{"use strict";var Xf=oe&&oe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qf=oe&&oe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),eh=oe&&oe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Xf(t,e,r);return Qf(t,e),t},Qn=oe&&oe.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(oe,"__esModule",{value:!0});oe.DefaultArtifactClient=void 0;var V=eh(k()),th=ds(),rh=Vo(),vr=dt(),nh=rn(),Qo=Yo(),ea=Xo(),ta=lt(),yr=require("path"),xt=class{static create(){return new xt}uploadArtifact(t,r,n,i){return Qn(this,void 0,void 0,function*(){V.info(`Starting artifact upload
For more detailed logs during the artifact upload process, enable step-debugging: https://docs.github.com/actions/monitoring-and-troubleshooting-workflows/enabling-debug-logging#enabling-step-debug-logging`),nh.checkArtifactName(t);let s=th.getUploadSpecification(t,n,r),o={artifactName:t,artifactItems:[],size:0,failedItems:[]},a=new rh.UploadHttpClient;if(s.length===0)V.warning("No files found that can be uploaded");else{let c=yield a.createArtifactInFileContainer(t,i);if(!c.fileContainerResourceUrl)throw V.debug(c.toString()),new Error("No URL provided by the Artifact Service to upload an artifact to");V.debug(`Upload Resource URL: ${c.fileContainerResourceUrl}`),V.info(`Container for artifact "${t}" successfully created. Starting upload of file(s)`);let u=yield a.uploadArtifactToFileContainer(c.fileContainerResourceUrl,s,i);V.info("File upload process has finished. Finalizing the artifact upload"),yield a.patchArtifactSize(u.totalSize,t),u.failedItems.length>0?V.info(`Upload finished. There were ${u.failedItems.length} items that failed to upload`):V.info("Artifact has been finalized. All files have been successfully uploaded!"),V.info(`
The raw size of all the files that were specified for upload is ${u.totalSize} bytes
The size of all the files that were uploaded is ${u.uploadSize} bytes. This takes into account any gzip compression used to reduce the upload size, time and storage

Note: The size of downloaded zips can differ significantly from the reported size. For more information see: https://github.com/actions/upload-artifact#zipped-artifact-downloads \r
`),o.artifactItems=s.map(l=>l.absoluteFilePath),o.size=u.uploadSize,o.failedItems=u.failedItems}return o})}downloadArtifact(t,r,n){return Qn(this,void 0,void 0,function*(){let i=new Qo.DownloadHttpClient,s=yield i.listArtifacts();if(s.count===0)throw new Error("Unable to find any artifacts for the associated workflow");let o=s.value.find(u=>u.name===t);if(!o)throw new Error(`Unable to find an artifact with the name: ${t}`);let a=yield i.getContainerItems(o.name,o.fileContainerResourceUrl);r||(r=ta.getWorkSpaceDirectory()),r=yr.normalize(r),r=yr.resolve(r);let c=ea.getDownloadSpecification(t,a.value,r,(n==null?void 0:n.createArtifactFolder)||!1);return c.filesToDownload.length===0?V.info(`No downloadable files were found for the artifact: ${o.name}`):(yield vr.createDirectoriesForArtifact(c.directoryStructure),V.info("Directory structure has been setup for the artifact"),yield vr.createEmptyFilesForArtifact(c.emptyFilesToCreate),yield i.downloadSingleArtifact(c.filesToDownload)),{artifactName:t,downloadPath:c.rootDownloadLocation}})}downloadAllArtifacts(t){return Qn(this,void 0,void 0,function*(){let r=new Qo.DownloadHttpClient,n=[],i=yield r.listArtifacts();if(i.count===0)return V.info("Unable to find any artifacts for the associated workflow"),n;t||(t=ta.getWorkSpaceDirectory()),t=yr.normalize(t),t=yr.resolve(t);let s=0;for(;s<i.count;){let o=i.value[s];s+=1,V.info(`starting download of artifact ${o.name} : ${s}/${i.count}`);let a=yield r.getContainerItems(o.name,o.fileContainerResourceUrl),c=ea.getDownloadSpecification(o.name,a.value,t,!0);c.filesToDownload.length===0?V.info(`No downloadable files were found for any artifact ${o.name}`):(yield vr.createDirectoriesForArtifact(c.directoryStructure),yield vr.createEmptyFilesForArtifact(c.emptyFilesToCreate),yield r.downloadSingleArtifact(c.filesToDownload)),n.push({artifactName:o.name,downloadPath:c.rootDownloadLocation})}return n})}};oe.DefaultArtifactClient=xt});var na=y(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.create=void 0;var ih=ra();function sh(){return ih.DefaultArtifactClient.create()}_r.create=sh});var ia=y(ve=>{"use strict";var oh=ve&&ve.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ah=ve&&ve.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ch=ve&&ve.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&oh(t,e,r);return ah(t,e),t};Object.defineProperty(ve,"__esModule",{value:!0});ve.getOptions=void 0;var wr=ch(k());function uh(e){let t={followSymbolicLinks:!0,implicitDescendants:!0,matchDirectories:!0,omitBrokenSymbolicLinks:!0};return e&&(typeof e.followSymbolicLinks=="boolean"&&(t.followSymbolicLinks=e.followSymbolicLinks,wr.debug(`followSymbolicLinks '${t.followSymbolicLinks}'`)),typeof e.implicitDescendants=="boolean"&&(t.implicitDescendants=e.implicitDescendants,wr.debug(`implicitDescendants '${t.implicitDescendants}'`)),typeof e.matchDirectories=="boolean"&&(t.matchDirectories=e.matchDirectories,wr.debug(`matchDirectories '${t.matchDirectories}'`)),typeof e.omitBrokenSymbolicLinks=="boolean"&&(t.omitBrokenSymbolicLinks=e.omitBrokenSymbolicLinks,wr.debug(`omitBrokenSymbolicLinks '${t.omitBrokenSymbolicLinks}'`))),t}ve.getOptions=uh});var Er=y(D=>{"use strict";var lh=D&&D.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),fh=D&&D.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),hh=D&&D.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&lh(t,e,r);return fh(t,e),t},dh=D&&D.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D,"__esModule",{value:!0});D.safeTrimTrailingSeparator=D.normalizeSeparators=D.hasRoot=D.hasAbsoluteRoot=D.ensureAbsoluteRoot=D.dirname=void 0;var br=hh(require("path")),Ve=dh(require("assert")),qe=process.platform==="win32";function ph(e){if(e=ti(e),qe&&/^\\\\[^\\]+(\\[^\\]+)?$/.test(e))return e;let t=br.dirname(e);return qe&&/^\\\\[^\\]+\\[^\\]+\\$/.test(t)&&(t=ti(t)),t}D.dirname=ph;function gh(e,t){if(Ve.default(e,"ensureAbsoluteRoot parameter 'root' must not be empty"),Ve.default(t,"ensureAbsoluteRoot parameter 'itemPath' must not be empty"),ei(t))return t;if(qe){if(t.match(/^[A-Z]:[^\\/]|^[A-Z]:$/i)){let r=process.cwd();return Ve.default(r.match(/^[A-Z]:\\/i),`Expected current directory to start with an absolute drive root. Actual '${r}'`),t[0].toUpperCase()===r[0].toUpperCase()?t.length===2?`${t[0]}:\\${r.substr(3)}`:(r.endsWith("\\")||(r+="\\"),`${t[0]}:\\${r.substr(3)}${t.substr(2)}`):`${t[0]}:\\${t.substr(2)}`}else if(Tt(t).match(/^\\$|^\\[^\\]/)){let r=process.cwd();return Ve.default(r.match(/^[A-Z]:\\/i),`Expected current directory to start with an absolute drive root. Actual '${r}'`),`${r[0]}:\\${t.substr(1)}`}}return Ve.default(ei(e),"ensureAbsoluteRoot parameter 'root' must have an absolute root"),e.endsWith("/")||qe&&e.endsWith("\\")||(e+=br.sep),e+t}D.ensureAbsoluteRoot=gh;function ei(e){return Ve.default(e,"hasAbsoluteRoot parameter 'itemPath' must not be empty"),e=Tt(e),qe?e.startsWith("\\\\")||/^[A-Z]:\\/i.test(e):e.startsWith("/")}D.hasAbsoluteRoot=ei;function mh(e){return Ve.default(e,"isRooted parameter 'itemPath' must not be empty"),e=Tt(e),qe?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")}D.hasRoot=mh;function Tt(e){return e=e||"",qe?(e=e.replace(/\//g,"\\"),(/^\\\\+[^\\]/.test(e)?"\\":"")+e.replace(/\\\\+/g,"\\")):e.replace(/\/\/+/g,"/")}D.normalizeSeparators=Tt;function ti(e){return e?(e=Tt(e),!e.endsWith(br.sep)||e===br.sep||qe&&/^[A-Z]:\\$/i.test(e)?e:e.substr(0,e.length-1)):""}D.safeTrimTrailingSeparator=ti});var Br=y(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.MatchKind=void 0;var vh;(function(e){e[e.None=0]="None",e[e.Directory=1]="Directory",e[e.File=2]="File",e[e.All=3]="All"})(vh=Mt.MatchKind||(Mt.MatchKind={}))});var aa=y(K=>{"use strict";var yh=K&&K.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_h=K&&K.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),wh=K&&K.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&yh(t,e,r);return _h(t,e),t};Object.defineProperty(K,"__esModule",{value:!0});K.partialMatch=K.match=K.getSearchPaths=void 0;var sa=wh(Er()),bh=Br(),oa=process.platform==="win32";function Eh(e){e=e.filter(n=>!n.negate);let t={};for(let n of e){let i=oa?n.searchPath.toUpperCase():n.searchPath;t[i]="candidate"}let r=[];for(let n of e){let i=oa?n.searchPath.toUpperCase():n.searchPath;if(t[i]==="included")continue;let s=!1,o=i,a=sa.dirname(o);for(;a!==o;){if(t[a]){s=!0;break}o=a,a=sa.dirname(o)}s||(r.push(n.searchPath),t[i]="included")}return r}K.getSearchPaths=Eh;function Bh(e,t){let r=bh.MatchKind.None;for(let n of e)n.negate?r&=~n.match(t):r|=n.match(t);return r}K.match=Bh;function Ah(e,t){return e.some(r=>!r.negate&&r.partialMatch(t))}K.partialMatch=Ah});var ua=y(ae=>{"use strict";var Ch=ae&&ae.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Sh=ae&&ae.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ca=ae&&ae.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ch(t,e,r);return Sh(t,e),t},Dh=ae&&ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ae,"__esModule",{value:!0});ae.Path=void 0;var qt=ca(require("path")),Pe=ca(Er()),Pt=Dh(require("assert")),Ih=process.platform==="win32",ri=class{constructor(t){if(this.segments=[],typeof t=="string")if(Pt.default(t,"Parameter 'itemPath' must not be empty"),t=Pe.safeTrimTrailingSeparator(t),!Pe.hasRoot(t))this.segments=t.split(qt.sep);else{let r=t,n=Pe.dirname(r);for(;n!==r;){let i=qt.basename(r);this.segments.unshift(i),r=n,n=Pe.dirname(r)}this.segments.unshift(r)}else{Pt.default(t.length>0,"Parameter 'itemPath' must not be an empty array");for(let r=0;r<t.length;r++){let n=t[r];Pt.default(n,"Parameter 'itemPath' must not contain any empty segments"),n=Pe.normalizeSeparators(t[r]),r===0&&Pe.hasRoot(n)?(n=Pe.safeTrimTrailingSeparator(n),Pt.default(n===Pe.dirname(n),"Parameter 'itemPath' root segment contains information for multiple segments"),this.segments.push(n)):(Pt.default(!n.includes(qt.sep),"Parameter 'itemPath' contains unexpected path separators"),this.segments.push(n))}}}toString(){let t=this.segments[0],r=t.endsWith(qt.sep)||Ih&&/^[A-Z]:$/i.test(t);for(let n=1;n<this.segments.length;n++)r?r=!1:t+=qt.sep,t+=this.segments[n];return t}};ae.Path=ri});var la=y(ce=>{"use strict";var Fh=ce&&ce.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Oh=ce&&ce.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ii=ce&&ce.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Fh(t,e,r);return Oh(t,e),t},Rh=ce&&ce.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ce,"__esModule",{value:!0});ce.Pattern=void 0;var xh=ii(require("os")),jt=ii(require("path")),J=ii(Er()),Ke=Rh(require("assert")),Th=At(),ni=Br(),Ar=ua(),Ee=process.platform==="win32",Z=class{constructor(t,r=!1,n,i){this.negate=!1;let s;if(typeof t=="string")s=t.trim();else{n=n||[],Ke.default(n.length,"Parameter 'segments' must not empty");let u=Z.getLiteral(n[0]);Ke.default(u&&J.hasAbsoluteRoot(u),"Parameter 'segments' first element must be a root path"),s=new Ar.Path(n).toString().trim(),t&&(s=`!${s}`)}for(;s.startsWith("!");)this.negate=!this.negate,s=s.substr(1).trim();s=Z.fixupPattern(s,i),this.segments=new Ar.Path(s).segments,this.trailingSeparator=J.normalizeSeparators(s).endsWith(jt.sep),s=J.safeTrimTrailingSeparator(s);let o=!1,a=this.segments.map(u=>Z.getLiteral(u)).filter(u=>!o&&!(o=u===""));this.searchPath=new Ar.Path(a).toString(),this.rootRegExp=new RegExp(Z.regExpEscape(a[0]),Ee?"i":""),this.isImplicitPattern=r;let c={dot:!0,nobrace:!0,nocase:Ee,nocomment:!0,noext:!0,nonegate:!0};s=Ee?s.replace(/\\/g,"/"):s,this.minimatch=new Th.Minimatch(s,c)}match(t){return this.segments[this.segments.length-1]==="**"?(t=J.normalizeSeparators(t),!t.endsWith(jt.sep)&&this.isImplicitPattern===!1&&(t=`${t}${jt.sep}`)):t=J.safeTrimTrailingSeparator(t),this.minimatch.match(t)?this.trailingSeparator?ni.MatchKind.Directory:ni.MatchKind.All:ni.MatchKind.None}partialMatch(t){return t=J.safeTrimTrailingSeparator(t),J.dirname(t)===t?this.rootRegExp.test(t):this.minimatch.matchOne(t.split(Ee?/\\+/:/\/+/),this.minimatch.set[0],!0)}static globEscape(t){return(Ee?t:t.replace(/\\/g,"\\\\")).replace(/(\[)(?=[^/]+\])/g,"[[]").replace(/\?/g,"[?]").replace(/\*/g,"[*]")}static fixupPattern(t,r){Ke.default(t,"pattern cannot be empty");let n=new Ar.Path(t).segments.map(i=>Z.getLiteral(i));if(Ke.default(n.every((i,s)=>(i!=="."||s===0)&&i!==".."),`Invalid pattern '${t}'. Relative pathing '.' and '..' is not allowed.`),Ke.default(!J.hasRoot(t)||n[0],`Invalid pattern '${t}'. Root segment must not contain globs.`),t=J.normalizeSeparators(t),t==="."||t.startsWith(`.${jt.sep}`))t=Z.globEscape(process.cwd())+t.substr(1);else if(t==="~"||t.startsWith(`~${jt.sep}`))r=r||xh.homedir(),Ke.default(r,"Unable to determine HOME directory"),Ke.default(J.hasAbsoluteRoot(r),`Expected HOME directory to be a rooted path. Actual '${r}'`),t=Z.globEscape(r)+t.substr(1);else if(Ee&&(t.match(/^[A-Z]:$/i)||t.match(/^[A-Z]:[^\\]/i))){let i=J.ensureAbsoluteRoot("C:\\dummy-root",t.substr(0,2));t.length>2&&!i.endsWith("\\")&&(i+="\\"),t=Z.globEscape(i)+t.substr(2)}else if(Ee&&(t==="\\"||t.match(/^\\[^\\]/))){let i=J.ensureAbsoluteRoot("C:\\dummy-root","\\");i.endsWith("\\")||(i+="\\"),t=Z.globEscape(i)+t.substr(1)}else t=J.ensureAbsoluteRoot(Z.globEscape(process.cwd()),t);return J.normalizeSeparators(t)}static getLiteral(t){let r="";for(let n=0;n<t.length;n++){let i=t[n];if(i==="\\"&&!Ee&&n+1<t.length){r+=t[++n];continue}else{if(i==="*"||i==="?")return"";if(i==="["&&n+1<t.length){let s="",o=-1;for(let a=n+1;a<t.length;a++){let c=t[a];if(c==="\\"&&!Ee&&a+1<t.length){s+=t[++a];continue}else if(c==="]"){o=a;break}else s+=c}if(o>=0){if(s.length>1)return"";if(s){r+=s,n=o;continue}}}}r+=i}return r}static regExpEscape(t){return t.replace(/[[\\^$.|?*+()]/g,"\\$&")}};ce.Pattern=Z});var fa=y(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.SearchState=void 0;var si=class{constructor(t,r){this.path=t,this.level=r}};Cr.SearchState=si});var ma=y(x=>{"use strict";var Mh=x&&x.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qh=x&&x.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Nt=x&&x.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Mh(t,e,r);return qh(t,e),t},oi=x&&x.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},Ph=x&&x.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}},je=x&&x.__await||function(e){return this instanceof je?(this.v=e,this):new je(e)},jh=x&&x.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(d){return new Promise(function(p,v){s.push([h,d,p,v])>1||a(h,d)})})}function a(h,d){try{c(n[h](d))}catch(p){f(s[0][3],p)}}function c(h){h.value instanceof je?Promise.resolve(h.value.v).then(u,l):f(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function f(h,d){h(d),s.shift(),s.length&&a(s[0][0],s[0][1])}};Object.defineProperty(x,"__esModule",{value:!0});x.DefaultGlobber=void 0;var ai=Nt(k()),$t=Nt(require("fs")),ha=Nt(ia()),$h=Nt(require("path")),Sr=Nt(aa()),da=Br(),pa=la(),ga=fa(),Nh=process.platform==="win32",gt=class{constructor(t){this.patterns=[],this.searchPaths=[],this.options=ha.getOptions(t)}getSearchPaths(){return this.searchPaths.slice()}glob(){var t,r;return oi(this,void 0,void 0,function*(){let n=[];try{for(var i=Ph(this.globGenerator()),s;s=yield i.next(),!s.done;){let o=s.value;n.push(o)}}catch(o){t={error:o}}finally{try{s&&!s.done&&(r=i.return)&&(yield r.call(i))}finally{if(t)throw t.error}}return n})}globGenerator(){return jh(this,arguments,function*(){let r=ha.getOptions(this.options),n=[];for(let o of this.patterns)n.push(o),r.implicitDescendants&&(o.trailingSeparator||o.segments[o.segments.length-1]!=="**")&&n.push(new pa.Pattern(o.negate,!0,o.segments.concat("**")));let i=[];for(let o of Sr.getSearchPaths(n)){ai.debug(`Search path '${o}'`);try{yield je($t.promises.lstat(o))}catch(a){if(a.code==="ENOENT")continue;throw a}i.unshift(new ga.SearchState(o,1))}let s=[];for(;i.length;){let o=i.pop(),a=Sr.match(n,o.path),c=!!a||Sr.partialMatch(n,o.path);if(!a&&!c)continue;let u=yield je(gt.stat(o,r,s));if(u)if(u.isDirectory()){if(a&da.MatchKind.Directory&&r.matchDirectories)yield yield je(o.path);else if(!c)continue;let l=o.level+1,f=(yield je($t.promises.readdir(o.path))).map(h=>new ga.SearchState($h.join(o.path,h),l));i.push(...f.reverse())}else a&da.MatchKind.File&&(yield yield je(o.path))}})}static create(t,r){return oi(this,void 0,void 0,function*(){let n=new gt(r);Nh&&(t=t.replace(/\r\n/g,`
`),t=t.replace(/\r/g,`
`));let i=t.split(`
`).map(s=>s.trim());for(let s of i)!s||s.startsWith("#")||n.patterns.push(new pa.Pattern(s));return n.searchPaths.push(...Sr.getSearchPaths(n.patterns)),n})}static stat(t,r,n){return oi(this,void 0,void 0,function*(){let i;if(r.followSymbolicLinks)try{i=yield $t.promises.stat(t.path)}catch(s){if(s.code==="ENOENT"){if(r.omitBrokenSymbolicLinks){ai.debug(`Broken symlink '${t.path}'`);return}throw new Error(`No information found for the path '${t.path}'. This may indicate a broken symbolic link.`)}throw s}else i=yield $t.promises.lstat(t.path);if(i.isDirectory()&&r.followSymbolicLinks){let s=yield $t.promises.realpath(t.path);for(;n.length>=t.level;)n.pop();if(n.some(o=>o===s)){ai.debug(`Symlink cycle detected for path '${t.path}' and realpath '${s}'`);return}n.push(s)}return i})}};x.DefaultGlobber=gt});var wa=y(Y=>{"use strict";var Uh=Y&&Y.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),kh=Y&&Y.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),mt=Y&&Y.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Uh(t,e,r);return kh(t,e),t},Lh=Y&&Y.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})},zh=Y&&Y.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}};Object.defineProperty(Y,"__esModule",{value:!0});Y.hashFiles=void 0;var va=mt(require("crypto")),ya=mt(k()),_a=mt(require("fs")),Gh=mt(require("stream")),Hh=mt(require("util")),Wh=mt(require("path"));function Vh(e,t,r=!1){var n,i,s;return Lh(this,void 0,void 0,function*(){let o=r?ya.info:ya.debug,a=!1,c=t||((s=process.env.GITHUB_WORKSPACE)!==null&&s!==void 0?s:process.cwd()),u=va.createHash("sha256"),l=0;try{for(var f=zh(e.globGenerator()),h;h=yield f.next(),!h.done;){let d=h.value;if(o(d),!d.startsWith(`${c}${Wh.sep}`)){o(`Ignore '${d}' since it is not under GITHUB_WORKSPACE.`);continue}if(_a.statSync(d).isDirectory()){o(`Skip directory '${d}'.`);continue}let p=va.createHash("sha256");yield Hh.promisify(Gh.pipeline)(_a.createReadStream(d),p),u.write(p.digest()),l++,a||(a=!0)}}catch(d){n={error:d}}finally{try{h&&!h.done&&(i=f.return)&&(yield i.call(f))}finally{if(n)throw n.error}}return u.end(),a?(o(`Found ${l} files to hash.`),u.digest("hex")):(o("No matches found for glob"),"")})}Y.hashFiles=Vh});var Ba=y($e=>{"use strict";var ba=$e&&$e.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty($e,"__esModule",{value:!0});$e.hashFiles=$e.create=void 0;var Kh=ma(),Jh=wa();function Ea(e,t){return ba(this,void 0,void 0,function*(){return yield Kh.DefaultGlobber.create(e,t)})}$e.create=Ea;function Zh(e,t="",r,n=!1){return ba(this,void 0,void 0,function*(){let i=!0;r&&typeof r.followSymbolicLinks=="boolean"&&(i=r.followSymbolicLinks);let s=yield Ea(e,{followSymbolicLinks:i});return Jh.hashFiles(s,t,n)})}$e.hashFiles=Zh});var Aa=require("crypto"),Dr=Ze(k()),Ca=Ze(na()),Sa=Ze(Ba()),Yh=(0,Ca.create)();async function Xh(){try{let e=(0,Dr.getMultilineInput)("path",{required:!0});await Promise.all(e.map(async t=>{let r=(0,Aa.createHash)("sha256").update(t).digest("hex"),i=await(await(0,Sa.create)(t)).glob();return Yh.uploadArtifact(r,i,".",{continueOnError:!1})}))}catch(e){e instanceof Error&&(0,Dr.setFailed)(e)}}Xh();
/*! Bundled license information:

tmp/lib/tmp.js:
  (*!
   * Tmp
   *
   * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
   *
   * MIT Licensed
   *)
*/
